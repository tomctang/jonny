
<!DOCTYPE html>


<html lang="en" data-content_root="./" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Project Euler Q1-50 &#8212; Jonny Workbook</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="_static/styles/theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="_static/styles/bootstrap.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="_static/styles/pydata-sphinx-theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />

  
  <link href="_static/vendor/fontawesome/6.5.2/css/all.min.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=03e43079" />
    <link rel="stylesheet" type="text/css" href="_static/styles/sphinx-book-theme.css?v=eba8b062" />
    <link rel="stylesheet" type="text/css" href="_static/togglebutton.css?v=9c3e77be" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="_static/mystnb.8ecb98da25f57f5357bf6f572d296f466b2cfe2517ffebfabe82451661e28f02.css" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-thebe.css?v=4fa983c6" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-design.min.css?v=95c83b7e" />
    <link rel="stylesheet" type="text/css" href="_static/custom.css?v=550f00eb" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b" />
<link rel="preload" as="script" href="_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b" />
  <script src="_static/vendor/fontawesome/6.5.2/js/all.min.js?digest=dfe6caa3a7d634c4db9b"></script>

    <script src="_static/documentation_options.js?v=9eb32ce0"></script>
    <script src="_static/doctools.js?v=9a2dae69"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="_static/copybutton.js?v=f281be69"></script>
    <script src="_static/scripts/sphinx-book-theme.js?v=887ef09a"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="_static/togglebutton.js?v=1ae7504c"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="_static/design-tabs.js?v=f930bc37"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script async="async" src="_static/sphinx-thebe.js?v=c100c467"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script>window.MathJax = {"options": {"processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'PE100';</script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Quantum Mechanics" href="past/Course_MCM_QM.html" />
    <link rel="prev" title="MIT_CS6002-CS" href="past/Course_MIT6002thinking.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-primary-sidebar-checkbox"/>
  <label class="overlay overlay-primary" for="pst-primary-sidebar-checkbox"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-secondary-sidebar-checkbox"/>
  <label class="overlay overlay-secondary" for="pst-secondary-sidebar-checkbox"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  
    
  

<a class="navbar-brand logo" href="intro.html">
  
  
  
  
  
  
    <p class="title logo__title">Jonny Workbook</p>
  
</a></div>
        <div class="sidebar-primary-item">

 <script>
 document.write(`
   <button class="btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script></div>
        <div class="sidebar-primary-item"><nav class="bd-links bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="intro.html">
                    Introduction
                </a>
            </li>
        </ul>
        <p aria-level="2" class="caption" role="heading"><span class="caption-text">Math &amp; FP/Language</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="past/Alevel_math.html">A-level-math</a></li>
<li class="toctree-l1"><a class="reference internal" href="past/Alevel_math_further.html">A-level-further</a></li>
<li class="toctree-l1"><a class="reference internal" href="past/Course_MCM.html">Math Computational Methods</a></li>
<li class="toctree-l1"><a class="reference internal" href="Course_Lean.html">Lean</a></li>
<li class="toctree-l1"><a class="reference internal" href="Course_Puzzle.html">Permutation Puzzles</a></li>


<li class="toctree-l1"><a class="reference internal" href="0mmgroup.html">mmgroup Guide</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">CS &amp; Physics</span></p>
<ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="past/Course_MIT6001Python.html">MIT_CS6001-Python</a></li>
<li class="toctree-l1"><a class="reference internal" href="past/Course_MIT6002thinking.html">MIT_CS6002-CS</a></li>
<li class="toctree-l1 current active"><a class="current reference internal" href="#">Project Euler Q1-50</a></li>


<li class="toctree-l1"><a class="reference internal" href="past/Course_MCM_QM.html">Quantum Mechanics</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Notebook &amp; Tom</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="past/nb_past_courses.html">Past courses</a></li>
<li class="toctree-l1"><a class="reference internal" href="past/nb_Geo.html">Geography and Maps</a></li>
<li class="toctree-l1"><a class="reference internal" href="past/nb_lottery_simulator.html">Lottery Math</a></li>
<li class="toctree-l1"><a class="reference internal" href="past/How_Dad_organise_QM.html">How Dad learn QM</a></li>


<li class="toctree-l1"><a class="reference internal" href="Course_MCM_QFT.html">QFT</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><button class="sidebar-toggle primary-toggle btn btn-sm" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</button></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">


<a href="https://github.com/tomctang/10pe" target="_blank"
   class="btn btn-sm btn-source-repository-button"
   title="Source repository"
   data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>

</a>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="_sources/PE100.ipynb" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.ipynb</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<script>
document.write(`
  <button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="theme-switch fa-solid fa-sun fa-lg" data-mode="light"></i>
    <i class="theme-switch fa-solid fa-moon fa-lg" data-mode="dark"></i>
    <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"></i>
  </button>
`);
</script>


<script>
document.write(`
  <button class="btn btn-sm pst-navbar-icon search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
<button class="sidebar-toggle secondary-toggle btn btn-sm" title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</button>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Project Euler Q1-50</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#">Project Euler Q1-50</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-1">PE 1</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-2">PE 2</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-3">PE 3</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-4">PE 4</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-5">PE 5</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-6">PE 6</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-7">PE 7</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-8">PE 8</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-9">PE 9</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-10">PE 10</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-11">PE 11</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-12">PE 12</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-13">PE 13</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-14">PE 14</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-15">PE 15</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-16">PE 16</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-17">PE 17</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-18">PE 18</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-19">PE 19</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-20">PE 20</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-21">PE 21</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-22">PE 22</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-23">PE 23</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-24">PE 24</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-25">PE 25</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-26">PE 26</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-27">PE 27</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-28">PE 28</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-29">PE 29</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-30">PE 30</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-31">PE 31</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-32">PE 32</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-33">PE 33</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-34">PE 34</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-35">PE 35</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-36">PE 36</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-37">PE 37</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-38">PE 38</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-39">PE 39</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-40">PE 40</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-41">PE 41</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-42">PE 42</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-43">PE 43</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-44">PE 44</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-45">PE 45</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-46">PE 46</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-47">PE 47</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-48">PE 48</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-49">PE 49</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-50">PE 50</a></li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#project-euler-51-100">Project Euler 51-100</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-51">PE 51</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-52">PE 52</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-53">PE 53</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-54">PE 54</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-55">PE 55</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-56">PE 56</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-57">PE 57</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-58">PE 58</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-59">PE 59</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-61">PE 61</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-62">PE 62</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-63">PE 63</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-64">PE 64</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-65">PE 65</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-66">PE 66</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-69">PE 69</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-70">PE 70</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-71">PE 71</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-72">PE 72</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-73">PE 73</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-74">PE 74</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-75">PE 75</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-76">PE 76</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-77">PE 77</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-78">PE 78</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-79">PE 79</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-80">PE 80</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-82">PE 82</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-83">PE 83</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-84">PE 84</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-85">PE 85</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-86">PE 86</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-87">PE 87</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-88-unfinished">PE 88(unfinished)</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-89">PE 89</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-90">PE 90</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-91">PE 91</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-92">PE 92</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-93">PE 93</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-94">PE 94</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-95">PE 95</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-96">PE 96</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-98">PE 98</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-99">PE 99</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-100">PE 100</a></li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#project-leonhard">Project Leonhard</a></li>
</ul>

            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section class="tex2jax_ignore mathjax_ignore" id="project-euler-q1-50">
<h1>Project Euler Q1-50<a class="headerlink" href="#project-euler-q1-50" title="Link to this heading">#</a></h1>
<p>To solve PE problems so far, I include three approaches:</p>
<ul class="simple">
<li><p>Python: OOP &amp; FP</p></li>
<li><p>Sage</p></li>
<li><p>MMA (FP primarily)</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-mathematica notranslate"><div class="highlight"><pre><span></span><span class="nv">#</span><span class="w"> </span><span class="n">After</span><span class="w"> </span><span class="n">I</span><span class="w"> </span><span class="n">solved</span><span class="w"> </span><span class="n">many</span><span class="w"> </span><span class="n">questions</span><span class="p">,</span><span class="w"> </span><span class="n">I</span><span class="w"> </span><span class="n">found</span><span class="w"> </span><span class="n">some</span><span class="w"> </span><span class="n">functions</span><span class="w"> </span><span class="n">repeated</span><span class="p">,</span><span class="w"> </span><span class="n">eg</span><span class="err">.</span><span class="n">Prime</span><span class="o">-</span><span class="n">Check</span><span class="p">,</span><span class="w"> </span><span class="n">Fibonacci</span><span class="err">.</span><span class="w"> </span>
<span class="err">%</span><span class="n">run</span><span class="w"> </span><span class="nv">PE_pre_running</span><span class="err">.</span><span class="n">py</span>
</pre></div>
</div>
</div>
</div>
<p>All of the problems are finished except 88. Some of these problems have an extension at <a class="reference external" href="https://projectleonhard.net">Project Leonhard</a>.</p>
<p>PE 18i for <a class="reference external" href="https://www.youtube.com/watch?v=Ct2fyigNgPY&amp;amp;list=WL&amp;amp;index=1">Youtube - Galois Theory Explained Simply</a></p>
<section id="pe-1">
<h2>PE 1<a class="headerlink" href="#pe-1" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-mathematica notranslate"><div class="highlight"><pre><span></span><span class="nv">#1</span><span class="w"> </span><span class="n">Multiples</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="n">or</span><span class="w"> </span><span class="mi">5</span>
<span class="nv">sum_num</span><span class="o">=</span><span class="mi">0</span>
<span class="nv">list_num</span><span class="o">=</span><span class="p">[]</span>
<span class="n">for</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">999</span><span class="o">//</span><span class="mi">3</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span><span class="err">:</span>
<span class="w">    </span><span class="n">m</span><span class="o">=</span><span class="n">i</span><span class="o">*</span><span class="mi">3</span>
<span class="w">    </span><span class="nv">list_num</span><span class="err">.</span><span class="n">append</span><span class="p">(</span><span class="n">m</span><span class="p">)</span>
<span class="n">for</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">999</span><span class="o">//</span><span class="mi">5</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span><span class="err">:</span>
<span class="w">    </span><span class="n">m</span><span class="o">=</span><span class="n">i</span><span class="o">*</span><span class="mi">5</span>
<span class="w">    </span><span class="n">if</span><span class="w"> </span><span class="n">m</span><span class="w"> </span><span class="n">not</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="nv">list_num</span><span class="err">:</span>
<span class="w">        </span><span class="nv">list_num</span><span class="err">.</span><span class="n">append</span><span class="p">(</span><span class="n">m</span><span class="p">)</span>
<span class="w">    </span><span class="n">else</span><span class="err">:</span>
<span class="w">        </span><span class="n">pass</span>
<span class="n">for</span><span class="w"> </span><span class="n">num</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="nv">list_num</span><span class="err">:</span>
<span class="w">    </span><span class="nv">sum_num</span><span class="o">+=</span><span class="n">num</span>
<span class="nv">sum_num</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-mathematica notranslate"><div class="highlight"><pre><span></span><span class="n">inp</span><span class="o">=</span><span class="mi">7</span><span class="o">^</span><span class="p">(</span><span class="mi">2</span><span class="o">^</span><span class="n">int</span><span class="p">(</span><span class="n">input</span><span class="p">()))</span>
<span class="n">inp</span><span class="o">-=</span><span class="mi">1</span>
<span class="n">print</span><span class="p">(</span><span class="n">sum</span><span class="p">(</span><span class="n">list</span><span class="p">(</span><span class="n">map</span><span class="p">(</span><span class="n">int</span><span class="p">,</span><span class="n">str</span><span class="p">(</span><span class="mi">3</span><span class="o">*</span><span class="n">inp</span><span class="o">//</span><span class="mi">3</span><span class="o">*</span><span class="p">(</span><span class="n">inp</span><span class="o">//</span><span class="mi">3</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span><span class="o">//</span><span class="mi">2</span><span class="o">+</span><span class="mi">5</span><span class="o">*</span><span class="n">inp</span><span class="o">//</span><span class="mi">5</span><span class="o">*</span><span class="p">(</span><span class="n">inp</span><span class="o">//</span><span class="mi">5</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span><span class="o">//</span><span class="mi">2-15</span><span class="o">*</span><span class="n">inp</span><span class="o">//</span><span class="mi">15</span><span class="o">*</span><span class="p">(</span><span class="n">inp</span><span class="o">//</span><span class="mi">15</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span><span class="o">//</span><span class="mi">2</span><span class="p">)))))</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-mathematica notranslate"><div class="highlight"><pre><span></span><span class="c">(* 1 Multiples of 3 or 5 *)</span>
<span class="n">tot</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="n">For</span><span class="p">[</span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">1000</span><span class="p">,</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">,</span><span class="w"> </span><span class="n">If</span><span class="p">[</span><span class="w"> </span><span class="n">Mod</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">]</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="n">tot</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">tot</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">i</span><span class="p">]];</span>
<span class="n">For</span><span class="p">[</span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">1000</span><span class="p">,</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">,</span><span class="w"> </span><span class="n">If</span><span class="p">[</span><span class="w"> </span><span class="n">Mod</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">]</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="n">tot</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">tot</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">i</span><span class="p">]];</span>
<span class="n">For</span><span class="p">[</span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">1000</span><span class="p">,</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">,</span><span class="w"> </span><span class="n">If</span><span class="p">[</span><span class="w"> </span><span class="n">Mod</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="w"> </span><span class="mi">15</span><span class="p">]</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="n">tot</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">tot</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">i</span><span class="p">]];</span>
<span class="n">tot</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div><pre style="&#102;&#111;&#110;&#116;&#45;&#102;&#97;&#109;&#105;&#108;&#121;&#58;&#32;&#34;&#67;&#111;&#117;&#114;&#105;&#101;&#114;&#32;&#78;&#101;&#119;&#34;&#44;&#67;&#111;&#117;&#114;&#105;&#101;&#114;&#44;&#109;&#111;&#110;&#111;&#115;&#112;&#97;&#99;&#101;&#59;">&#50;&#51;&#51;&#49;&#54;&#56;</pre></div></div></div>
</div>
</section>
<section id="pe-2">
<h2>PE 2<a class="headerlink" href="#pe-2" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-mathematica notranslate"><div class="highlight"><pre><span></span><span class="nv">#2</span><span class="w"> </span><span class="n">Even</span><span class="w"> </span><span class="n">Fibonacci</span><span class="w"> </span><span class="n">Numbers</span>
<span class="n">num</span><span class="o">=</span><span class="mi">0</span>
<span class="nv">sum_num</span><span class="o">=</span><span class="mi">0</span>
<span class="nv">list_fib</span><span class="o">=</span><span class="p">[]</span>
<span class="n">for</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="mi">3000000</span><span class="p">)</span><span class="err">:</span>
<span class="w">    </span><span class="n">num</span><span class="o">=</span><span class="n">fastFib</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
<span class="w">    </span><span class="nv">list_fib</span><span class="err">.</span><span class="n">append</span><span class="p">(</span><span class="n">num</span><span class="p">)</span>
<span class="n">for</span><span class="w"> </span><span class="n">num</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="nv">list_fib</span><span class="err">:</span>
<span class="w">    </span><span class="n">if</span><span class="w"> </span><span class="n">num</span><span class="o">//</span><span class="mi">2</span><span class="o">==</span><span class="n">num</span><span class="o">/</span><span class="mi">2</span><span class="err">:</span>
<span class="w">        </span><span class="nv">sum_num</span><span class="o">+=</span><span class="n">num</span>
<span class="nv">sum_num</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-mathematica notranslate"><div class="highlight"><pre><span></span><span class="n">tot</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="n">For</span><span class="p">[</span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="n">Fibonacci</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">4000000</span><span class="p">,</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">,</span><span class="w"> </span>
<span class="w">  </span><span class="n">If</span><span class="p">[</span><span class="n">Mod</span><span class="p">[</span><span class="n">Fibonacci</span><span class="p">[</span><span class="n">i</span><span class="p">],</span><span class="w"> </span><span class="mi">2</span><span class="p">]</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="n">tot</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">tot</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">Fibonacci</span><span class="p">[</span><span class="n">i</span><span class="p">]]];</span>
<span class="n">tot</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div><pre style="&#102;&#111;&#110;&#116;&#45;&#102;&#97;&#109;&#105;&#108;&#121;&#58;&#32;&#34;&#67;&#111;&#117;&#114;&#105;&#101;&#114;&#32;&#78;&#101;&#119;&#34;&#44;&#67;&#111;&#117;&#114;&#105;&#101;&#114;&#44;&#109;&#111;&#110;&#111;&#115;&#112;&#97;&#99;&#101;&#59;">&#52;&#54;&#49;&#51;&#55;&#51;&#50;</pre></div></div></div>
</div>
</section>
<section id="pe-3">
<h2>PE 3<a class="headerlink" href="#pe-3" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-mathematica notranslate"><div class="highlight"><pre><span></span><span class="n">factor</span><span class="p">(</span><span class="mi">600851475143</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-mathematica notranslate"><div class="highlight"><pre><span></span><span class="n">FactorInteger</span><span class="p">[</span><span class="mi">600851475143</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div><pre style="&#102;&#111;&#110;&#116;&#45;&#102;&#97;&#109;&#105;&#108;&#121;&#58;&#32;&#34;&#67;&#111;&#117;&#114;&#105;&#101;&#114;&#32;&#78;&#101;&#119;&#34;&#44;&#67;&#111;&#117;&#114;&#105;&#101;&#114;&#44;&#109;&#111;&#110;&#111;&#115;&#112;&#97;&#99;&#101;&#59;">&#123;&#123;&#55;&#49;&#44;&#32;&#49;&#125;&#44;&#32;&#123;&#56;&#51;&#57;&#44;&#32;&#49;&#125;&#44;&#32;&#123;&#49;&#52;&#55;&#49;&#44;&#32;&#49;&#125;&#44;&#32;&#123;&#54;&#56;&#53;&#55;&#44;&#32;&#49;&#125;&#125;</pre></div></div></div>
</div>
</section>
<section id="pe-4">
<h2>PE 4<a class="headerlink" href="#pe-4" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-mathematica notranslate"><div class="highlight"><pre><span></span><span class="nv">#4</span><span class="w"> </span><span class="n">Largest</span><span class="w"> </span><span class="n">Palindrome</span><span class="w"> </span><span class="n">Product</span>
<span class="n">m</span><span class="o">=</span><span class="mi">999</span>
<span class="n">n</span><span class="o">=</span><span class="mi">999</span>
<span class="nv">list_palin</span><span class="o">=</span><span class="p">[]</span>
<span class="n">for</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="mi">900</span><span class="p">)</span><span class="err">:</span>
<span class="w">    </span><span class="n">for</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="mi">900</span><span class="p">)</span><span class="err">:</span>
<span class="w">        </span><span class="n">print</span><span class="p">(</span><span class="n">m</span><span class="o">*</span><span class="n">n</span><span class="p">)</span>
<span class="w">        </span><span class="n">n</span><span class="o">-=</span><span class="mi">1</span>
<span class="w">        </span><span class="n">if</span><span class="w"> </span><span class="n">palindrome</span><span class="p">(</span><span class="n">m</span><span class="o">*</span><span class="n">n</span><span class="p">)</span><span class="err">:</span>
<span class="w">            </span><span class="n">print</span><span class="p">(</span><span class="err">&#39;</span><span class="n">Palindrome</span><span class="err">&#39;</span><span class="p">)</span>
<span class="w">            </span><span class="nv">list_palin</span><span class="err">.</span><span class="n">append</span><span class="p">(</span><span class="n">m</span><span class="o">*</span><span class="n">n</span><span class="p">)</span>
<span class="w">    </span><span class="n">m</span><span class="o">-=</span><span class="mi">1</span>
<span class="w">    </span><span class="n">n</span><span class="o">=</span><span class="mi">999</span>
<span class="n">max</span><span class="p">(</span><span class="nv">list_palin</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-mathematica notranslate"><div class="highlight"><pre><span></span><span class="n">record</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="n">For</span><span class="p">[</span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">1000</span><span class="p">,</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">,</span><span class="w"> </span>
<span class="w">  </span><span class="n">For</span><span class="p">[</span><span class="n">j</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">i</span><span class="p">,</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">1000</span><span class="p">,</span><span class="w"> </span><span class="n">j</span><span class="o">++</span><span class="p">,</span><span class="w"> </span>
<span class="w">   </span><span class="n">If</span><span class="p">[</span><span class="n">PalindromeQ</span><span class="p">[</span><span class="n">i</span><span class="o">*</span><span class="n">j</span><span class="p">],</span><span class="w"> </span><span class="n">record</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Max</span><span class="p">[</span><span class="n">record</span><span class="p">,</span><span class="w"> </span><span class="n">i</span><span class="o">*</span><span class="n">j</span><span class="p">]]]];</span>
<span class="n">record</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div><pre style="&#102;&#111;&#110;&#116;&#45;&#102;&#97;&#109;&#105;&#108;&#121;&#58;&#32;&#34;&#67;&#111;&#117;&#114;&#105;&#101;&#114;&#32;&#78;&#101;&#119;&#34;&#44;&#67;&#111;&#117;&#114;&#105;&#101;&#114;&#44;&#109;&#111;&#110;&#111;&#115;&#112;&#97;&#99;&#101;&#59;">&#57;&#48;&#54;&#54;&#48;&#57;</pre></div></div></div>
</div>
</section>
<section id="pe-5">
<h2>PE 5<a class="headerlink" href="#pe-5" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-mathematica notranslate"><div class="highlight"><pre><span></span><span class="nv">#5</span><span class="w"> </span><span class="n">Smallest</span><span class="w"> </span><span class="n">Multiple</span>
<span class="mi">2520</span><span class="o">*</span><span class="mi">11</span><span class="o">*</span><span class="mi">13</span><span class="o">*</span><span class="mi">17</span><span class="o">*</span><span class="mi">19</span><span class="o">*</span><span class="mi">2</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-mathematica notranslate"><div class="highlight"><pre><span></span><span class="n">num</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
<span class="n">For</span><span class="p">[</span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">21</span><span class="p">,</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">,</span><span class="w"> </span><span class="n">num</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">LCM</span><span class="p">[</span><span class="n">num</span><span class="p">,</span><span class="w"> </span><span class="n">i</span><span class="p">]];</span>
<span class="n">num</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div><pre style="&#102;&#111;&#110;&#116;&#45;&#102;&#97;&#109;&#105;&#108;&#121;&#58;&#32;&#34;&#67;&#111;&#117;&#114;&#105;&#101;&#114;&#32;&#78;&#101;&#119;&#34;&#44;&#67;&#111;&#117;&#114;&#105;&#101;&#114;&#44;&#109;&#111;&#110;&#111;&#115;&#112;&#97;&#99;&#101;&#59;">&#50;&#51;&#50;&#55;&#57;&#50;&#53;&#54;&#48;</pre></div></div></div>
</div>
</section>
<section id="pe-6">
<h2>PE 6<a class="headerlink" href="#pe-6" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-mathematica notranslate"><div class="highlight"><pre><span></span><span class="nv">#</span><span class="w"> </span><span class="mi">6</span><span class="w"> </span><span class="n">Sum</span><span class="w"> </span><span class="n">Square</span><span class="w"> </span><span class="n">Difference</span>
<span class="n">nums</span><span class="o">=</span><span class="p">[]</span>
<span class="n">sums</span><span class="o">=</span><span class="mi">0</span>
<span class="n">n</span><span class="o">=</span><span class="mi">1</span>
<span class="n">for</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span><span class="err">:</span>
<span class="w">    </span><span class="n">nums</span><span class="err">.</span><span class="n">append</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
<span class="w">    </span><span class="n">n</span><span class="o">+=</span><span class="mi">1</span>
<span class="n">for</span><span class="w"> </span><span class="n">num</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">nums</span><span class="err">:</span>
<span class="w">    </span><span class="n">sums</span><span class="o">+=</span><span class="n">num</span>
<span class="n">sums</span><span class="o">**</span><span class="mi">2</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-mathematica notranslate"><div class="highlight"><pre><span></span><span class="nv">#</span><span class="w"> </span><span class="mi">6</span><span class="w"> </span><span class="n">Sum</span><span class="w"> </span><span class="n">Square</span><span class="w"> </span><span class="n">Difference</span>
<span class="n">nums</span><span class="o">=</span><span class="p">[]</span>
<span class="n">sums</span><span class="o">=</span><span class="mi">0</span>
<span class="n">n</span><span class="o">=</span><span class="mi">1</span>
<span class="n">for</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span><span class="err">:</span>
<span class="w">    </span><span class="n">nums</span><span class="err">.</span><span class="n">append</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
<span class="w">    </span><span class="n">n</span><span class="o">+=</span><span class="mi">1</span>
<span class="n">for</span><span class="w"> </span><span class="n">num</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">nums</span><span class="err">:</span>
<span class="w">    </span><span class="n">sums</span><span class="o">+=</span><span class="n">num</span><span class="o">**</span><span class="mi">2</span>
<span class="n">sums</span>

<span class="nv">#6</span><span class="w"> </span><span class="n">results</span>
<span class="mi">25502500-338350</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-mathematica notranslate"><div class="highlight"><pre><span></span><span class="n">Sum</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="w"> </span><span class="p">{</span><span class="n">i</span><span class="p">,</span><span class="w"> </span><span class="mi">100</span><span class="p">}]</span><span class="o">^</span><span class="mi">2</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">Sum</span><span class="p">[</span><span class="n">i</span><span class="o">^</span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="p">{</span><span class="n">i</span><span class="p">,</span><span class="w"> </span><span class="mi">100</span><span class="p">}]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div><pre style="&#102;&#111;&#110;&#116;&#45;&#102;&#97;&#109;&#105;&#108;&#121;&#58;&#32;&#34;&#67;&#111;&#117;&#114;&#105;&#101;&#114;&#32;&#78;&#101;&#119;&#34;&#44;&#67;&#111;&#117;&#114;&#105;&#101;&#114;&#44;&#109;&#111;&#110;&#111;&#115;&#112;&#97;&#99;&#101;&#59;">&#50;&#53;&#49;&#54;&#52;&#49;&#53;&#48;</pre></div></div></div>
</div>
</section>
<section id="pe-7">
<h2>PE 7<a class="headerlink" href="#pe-7" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-mathematica notranslate"><div class="highlight"><pre><span></span><span class="nv">#7</span><span class="w"> </span><span class="mi">10001</span><span class="n">st</span><span class="w"> </span><span class="n">Prime</span>
<span class="n">count</span><span class="o">=</span><span class="mi">1</span>
<span class="n">inp</span><span class="o">=</span><span class="n">int</span><span class="p">(</span><span class="n">input</span><span class="p">())</span>
<span class="n">for</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">10</span><span class="o">^</span><span class="mi">8</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span><span class="err">:</span>
<span class="w">    </span><span class="n">if</span><span class="w"> </span><span class="nv">is_prime</span><span class="p">(</span><span class="n">i</span><span class="p">)</span><span class="err">:</span>
<span class="w">        </span><span class="n">count</span><span class="o">+=</span><span class="mi">1</span>
<span class="w">    </span><span class="n">if</span><span class="w"> </span><span class="n">count</span><span class="o">==</span><span class="mi">4</span><span class="o">^</span><span class="n">inp</span><span class="err">:</span>
<span class="w">        </span><span class="n">print</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
<span class="w">        </span><span class="n">break</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-mathematica notranslate"><div class="highlight"><pre><span></span><span class="n">Prime</span><span class="p">[</span><span class="mi">10001</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div><pre style="&#102;&#111;&#110;&#116;&#45;&#102;&#97;&#109;&#105;&#108;&#121;&#58;&#32;&#34;&#67;&#111;&#117;&#114;&#105;&#101;&#114;&#32;&#78;&#101;&#119;&#34;&#44;&#67;&#111;&#117;&#114;&#105;&#101;&#114;&#44;&#109;&#111;&#110;&#111;&#115;&#112;&#97;&#99;&#101;&#59;">&#49;&#48;&#52;&#55;&#52;&#51;</pre></div></div></div>
</div>
</section>
<section id="pe-8">
<h2>PE 8<a class="headerlink" href="#pe-8" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-mathematica notranslate"><div class="highlight"><pre><span></span><span class="nv">#8</span><span class="w"> </span><span class="n">Largest</span><span class="w"> </span><span class="n">Multiple</span><span class="w"> </span><span class="n">In</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">Series</span>
<span class="n">num</span><span class="o">=</span><span class="mi">7316717653133062491922511967442657474235534919493496983520312774506326239578318016984801869478851843858615607891129494954595017379583319528532088055111254069874715852386305071569329096329522744304355766896648950445244523161731856403098711121722383113622298934233803081353362766142828064444866452387493035890729629049156044077239071381051585930796086670172427121883998797908792274921901699720888093776657273330010533678812202354218097512545405947522435258490771167055601360483958644670632441572215539753697817977846174064955149290862569321978468622482839722413756570560574902614079729686524145351004748216637048440319989000889524345065854122758866688116427171479924442928230863465674813919123162824586178664583591245665294765456828489128831426076900422421902267105562632111110937054421750694165896040807198403850962455444362981230987879927244284909188845801561660979191338754992005240636899125607176060588611646710940507754100225698315520005593572972571636269561882670428252483600823257530420752963450</span>
<span class="n">output</span><span class="o">=</span><span class="n">list</span><span class="p">(</span><span class="n">map</span><span class="p">(</span><span class="n">int</span><span class="p">,</span><span class="w"> </span><span class="n">str</span><span class="p">(</span><span class="n">num</span><span class="p">)))</span>
<span class="n">nums</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">12</span><span class="p">]</span>
<span class="nv">list_num</span><span class="o">=</span><span class="p">[]</span>
<span class="n">maxval</span><span class="o">=</span><span class="mi">0</span>
<span class="n">val</span><span class="o">=</span><span class="mi">1</span>
<span class="n">while</span><span class="w"> </span><span class="n">nums</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">&lt;=</span><span class="mi">999</span><span class="err">:</span>
<span class="w">    </span><span class="n">num0</span><span class="o">=</span><span class="n">nums</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="w">    </span><span class="n">num1</span><span class="o">=</span><span class="n">nums</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
<span class="w">    </span><span class="n">n</span><span class="o">=</span><span class="n">num0</span>
<span class="w">    </span><span class="n">while</span><span class="w"> </span><span class="n">n</span><span class="o">&lt;=</span><span class="n">num1</span><span class="err">:</span>
<span class="w">        </span><span class="nv">list_num</span><span class="err">.</span><span class="n">append</span><span class="p">(</span><span class="n">output</span><span class="p">[</span><span class="n">n</span><span class="p">])</span>
<span class="w">        </span><span class="n">n</span><span class="o">+=</span><span class="mi">1</span>
<span class="w">    </span><span class="n">for</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="mi">13</span><span class="p">)</span><span class="err">:</span>
<span class="w">        </span><span class="n">val</span><span class="o">*=</span><span class="nv">list_num</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
<span class="w">    </span><span class="n">if</span><span class="w"> </span><span class="n">val</span><span class="o">&gt;</span><span class="n">maxval</span><span class="err">:</span>
<span class="w">        </span><span class="n">maxval</span><span class="o">=</span><span class="n">val</span>
<span class="w">    </span><span class="n">val</span><span class="o">=</span><span class="mi">1</span>
<span class="w">    </span><span class="n">nums</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">+=</span><span class="mi">1</span>
<span class="w">    </span><span class="n">nums</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">+=</span><span class="mi">1</span>
<span class="w">    </span><span class="nv">list_num</span><span class="o">=</span><span class="p">[]</span>
<span class="n">maxval</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="pe-9">
<h2>PE 9<a class="headerlink" href="#pe-9" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-mathematica notranslate"><div class="highlight"><pre><span></span><span class="nv">#9</span><span class="w"> </span><span class="n">Special</span><span class="w"> </span><span class="n">Pythagorean</span><span class="w"> </span><span class="n">Triplet</span>
<span class="n">def</span><span class="w"> </span><span class="n">sumPythagoreanTriplets</span><span class="p">(</span><span class="n">limits</span><span class="p">)</span><span class="err">:</span><span class="w"> </span>
<span class="w">	</span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="n">b</span><span class="p">,</span><span class="w"> </span><span class="n">c</span><span class="p">,</span><span class="w"> </span><span class="n">m</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span>
<span class="w">	</span><span class="n">nums</span><span class="o">=</span><span class="p">[]</span>
<span class="w">	</span><span class="n">d</span><span class="o">=</span><span class="n">a</span><span class="o">+</span><span class="n">b</span><span class="o">+</span><span class="n">c</span>
<span class="w">	</span><span class="n">while</span><span class="w"> </span><span class="n">d</span><span class="o">&lt;</span><span class="n">limits</span><span class="w"> </span><span class="err">:</span><span class="w"> </span>
<span class="w">		</span><span class="n">for</span><span class="w"> </span><span class="n">n</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">m</span><span class="p">)</span><span class="err">:</span>
<span class="w">			</span><span class="n">a</span><span class="o">=</span><span class="n">m</span><span class="o">*</span><span class="n">m</span><span class="o">-</span><span class="n">n</span><span class="o">*</span><span class="n">n</span><span class="w"> </span>
<span class="w">			</span><span class="n">b</span><span class="o">=</span><span class="mi">2</span><span class="o">*</span><span class="n">m</span><span class="o">*</span><span class="n">n</span><span class="w"> </span>
<span class="w">			</span><span class="n">c</span><span class="o">=</span><span class="n">m</span><span class="o">*</span><span class="n">m</span><span class="o">+</span><span class="n">n</span><span class="o">*</span><span class="n">n</span>
<span class="w">			</span><span class="n">d</span><span class="o">=</span><span class="n">a</span><span class="o">+</span><span class="n">b</span><span class="o">+</span><span class="n">c</span>
<span class="w">			</span><span class="n">if</span><span class="w"> </span><span class="n">d</span><span class="o">&gt;</span><span class="n">limits</span><span class="err">:</span><span class="w"> </span>
<span class="w">				</span><span class="n">break</span>
<span class="w">			</span><span class="n">print</span><span class="p">(</span><span class="err">&#39;</span><span class="n">Sum</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">triplet</span><span class="w"> </span><span class="err">:&#39;</span><span class="p">,</span><span class="w"> </span><span class="n">d</span><span class="p">)</span>
<span class="w">			</span><span class="n">nums</span><span class="err">.</span><span class="n">append</span><span class="p">(</span><span class="n">d</span><span class="p">)</span>
<span class="w">			</span><span class="n">if</span><span class="w"> </span><span class="n">d</span><span class="o">==</span><span class="mi">1000</span><span class="err">:</span>
<span class="w">				</span><span class="n">print</span><span class="p">(</span><span class="err">&#39;</span><span class="n">Special</span><span class="err">&#39;</span><span class="p">)</span>
<span class="w">		</span><span class="n">m</span><span class="o">+=</span><span class="mi">1</span>
<span class="w">	</span><span class="n">return</span><span class="w"> </span><span class="n">nums</span>
<span class="n">sumPythagoreanTriplets</span><span class="p">(</span><span class="mi">150</span><span class="p">)</span>
<span class="n">pythagoreanTriplets</span><span class="p">(</span><span class="mi">750</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="pe-10">
<h2>PE 10<a class="headerlink" href="#pe-10" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-mathematica notranslate"><div class="highlight"><pre><span></span><span class="nv">#</span><span class="w"> </span><span class="n">PL</span>
<span class="n">inp</span><span class="o">=</span><span class="n">int</span><span class="p">(</span><span class="n">input</span><span class="p">())</span>
<span class="nv">sum_prime</span><span class="o">=</span><span class="mi">0</span>
<span class="n">for</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">1000</span><span class="o">*</span><span class="mi">2</span><span class="o">^</span><span class="n">inp</span><span class="p">)</span><span class="err">:</span>
<span class="w">    </span><span class="n">if</span><span class="w"> </span><span class="nv">is_prime</span><span class="p">(</span><span class="n">i</span><span class="p">)</span><span class="err">:</span>
<span class="w">        </span><span class="nv">sum_prime</span><span class="o">+=</span><span class="n">i</span>
<span class="n">print</span><span class="p">(</span><span class="nv">sum_prime</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-mathematica notranslate"><div class="highlight"><pre><span></span><span class="nv">#10</span><span class="w"> </span><span class="n">Summation</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">Primes</span>
<span class="n">sum</span><span class="p">(</span><span class="nv">prime_range</span><span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="mi">10</span><span class="o">^</span><span class="mi">6</span><span class="p">))</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-mathematica notranslate"><div class="highlight"><pre><span></span><span class="n">count</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span>
<span class="n">For</span><span class="p">[</span><span class="n">i</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span><span class="n">Prime</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">&lt;</span><span class="mi">2000000</span><span class="p">,</span><span class="n">i</span><span class="o">++</span><span class="p">,</span><span class="n">count</span><span class="o">=</span><span class="n">count</span><span class="o">+</span><span class="n">Prime</span><span class="p">[</span><span class="n">i</span><span class="p">]]</span>
<span class="n">count</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div><pre style="&#102;&#111;&#110;&#116;&#45;&#102;&#97;&#109;&#105;&#108;&#121;&#58;&#32;&#34;&#67;&#111;&#117;&#114;&#105;&#101;&#114;&#32;&#78;&#101;&#119;&#34;&#44;&#67;&#111;&#117;&#114;&#105;&#101;&#114;&#44;&#109;&#111;&#110;&#111;&#115;&#112;&#97;&#99;&#101;&#59;">&#49;&#52;&#50;&#57;&#49;&#51;&#56;&#50;&#56;&#57;&#50;&#50;</pre></div></div></div>
</div>
</section>
<section id="pe-11">
<h2>PE 11<a class="headerlink" href="#pe-11" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-mathematica notranslate"><div class="highlight"><pre><span></span><span class="nv">#11</span><span class="w"> </span><span class="n">Largest</span><span class="w"> </span><span class="n">Product</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">Grid</span>
<span class="mi">87</span><span class="o">*</span><span class="mi">97</span><span class="o">*</span><span class="mi">94</span><span class="o">*</span><span class="mi">89</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="pe-12">
<h2>PE 12<a class="headerlink" href="#pe-12" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-mathematica notranslate"><div class="highlight"><pre><span></span><span class="nv">#12</span><span class="w"> </span><span class="n">Highly</span><span class="w"> </span><span class="n">Divisible</span><span class="w"> </span><span class="n">Triangular</span><span class="w"> </span><span class="n">Number</span>
<span class="n">seq</span><span class="o">=</span><span class="nv">triangular_seq</span><span class="p">(</span><span class="mi">12375</span><span class="p">)</span>
<span class="n">facs</span><span class="o">=</span><span class="p">[]</span>
<span class="n">for</span><span class="w"> </span><span class="n">triangular</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">seq</span><span class="err">:</span>
<span class="w">    </span><span class="n">facs</span><span class="err">.</span><span class="n">append</span><span class="p">(</span><span class="nv">num_fac</span><span class="p">(</span><span class="n">triangular</span><span class="p">))</span>
<span class="w">    </span><span class="n">if</span><span class="w"> </span><span class="n">facs</span><span class="p">[</span><span class="mi">-1</span><span class="p">]</span><span class="o">&gt;=</span><span class="mi">500</span><span class="err">:</span>
<span class="w">        </span><span class="n">print</span><span class="p">(</span><span class="n">len</span><span class="p">(</span><span class="n">facs</span><span class="p">))</span>
<span class="w">        </span><span class="n">break</span>
<span class="n">max</span><span class="p">(</span><span class="n">facs</span><span class="p">)</span>
<span class="n">print</span><span class="p">(</span><span class="n">len</span><span class="p">(</span><span class="n">facs</span><span class="p">))</span>
<span class="n">max</span><span class="p">(</span><span class="n">seq</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="pe-13">
<h2>PE 13<a class="headerlink" href="#pe-13" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-mathematica notranslate"><div class="highlight"><pre><span></span><span class="nv">#13</span><span class="w"> </span><span class="n">Large</span><span class="w"> </span><span class="n">Sum</span>
<span class="n">import</span><span class="w"> </span><span class="n">requests</span>
<span class="n">from</span><span class="w"> </span><span class="n">bs4</span><span class="w"> </span><span class="n">import</span><span class="w"> </span><span class="n">BeautifulSoup</span>
<span class="n">response</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">requests</span><span class="err">.</span><span class="n">get</span><span class="p">(</span><span class="s">&quot;https://projecteuler.net/problem=13&quot;</span><span class="p">)</span><span class="w">  </span><span class="nv">#</span><span class="w"> </span><span class="n">Send</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">GET</span><span class="w"> </span><span class="n">request</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">URL</span>
<span class="n">soup</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">BeautifulSoup</span><span class="p">(</span><span class="n">response</span><span class="err">.</span><span class="n">content</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;html.parser&quot;</span><span class="p">)</span><span class="w">   </span><span class="nv">#</span><span class="w"> </span><span class="n">Parse</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">HTML</span><span class="w"> </span><span class="n">content</span>
<span class="n">numbers</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">soup</span><span class="err">.</span><span class="n">find</span><span class="p">(</span><span class="s">&quot;div&quot;</span><span class="p">,</span><span class="w"> </span><span class="nv">class_</span><span class="o">=</span><span class="s">&quot;problem_content&quot;</span><span class="p">)</span><span class="err">.</span><span class="n">text</span><span class="err">.</span><span class="n">strip</span><span class="p">()</span><span class="w">  </span><span class="nv">#</span><span class="w"> </span><span class="n">Find</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">content</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">interest</span><span class="w"> </span><span class="p">(</span><span class="n">in</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="n">case</span><span class="p">,</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">numbers</span><span class="p">)</span>

<span class="nv">numbers_list</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">numbers</span><span class="err">.</span><span class="n">split</span><span class="p">(</span><span class="err">&#39;\</span><span class="n">n</span><span class="err">&#39;</span><span class="p">)</span><span class="w">  </span><span class="nv">#</span><span class="w"> </span><span class="n">Split</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">numbers</span><span class="w"> </span><span class="n">into</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">list</span><span class="p">,</span><span class="w"> </span><span class="n">assuming</span><span class="w"> </span><span class="n">each</span><span class="w"> </span><span class="n">number</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">separated</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">newline</span><span class="w"> </span><span class="n">character</span>
<span class="nv">numbers_list</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="n">num</span><span class="w"> </span><span class="n">for</span><span class="w"> </span><span class="n">num</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="nv">numbers_list</span><span class="w"> </span><span class="n">if</span><span class="w"> </span><span class="n">num</span><span class="p">]</span><span class="w"> </span><span class="nv">#</span><span class="w"> </span><span class="n">Filter</span><span class="w"> </span><span class="n">out</span><span class="w"> </span><span class="n">any</span><span class="w"> </span><span class="n">empty</span><span class="w"> </span><span class="n">strings</span><span class="w"> </span><span class="n">or</span><span class="w"> </span><span class="n">irrelevant</span><span class="w"> </span><span class="n">text</span>
<span class="nv">numbers_list</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">numbers_list</span><span class="p">[</span><span class="mi">1</span><span class="err">:</span><span class="mi">101</span><span class="p">]</span><span class="w"> </span><span class="nv">#</span><span class="w"> </span><span class="n">Ensure</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">we</span><span class="w"> </span><span class="n">only</span><span class="w"> </span><span class="n">take</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">first</span><span class="w"> </span><span class="mi">100</span><span class="w"> </span><span class="n">numbers</span>

<span class="nv">sum_num</span><span class="o">=</span><span class="mi">0</span>
<span class="n">sets</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="n">int</span><span class="p">(</span><span class="n">num</span><span class="p">)</span><span class="w"> </span><span class="n">for</span><span class="w"> </span><span class="n">num</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="nv">numbers_list</span><span class="p">]</span><span class="w">  </span><span class="nv">#</span><span class="w"> </span><span class="n">Convert</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">numbers</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">strings</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">integers</span><span class="w"> </span><span class="n">and</span><span class="w"> </span><span class="n">store</span><span class="w"> </span><span class="n">them</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">list</span>
<span class="n">for</span><span class="w"> </span><span class="n">num</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">sets</span><span class="err">:</span>
<span class="w">    </span><span class="nv">sum_num</span><span class="o">+=</span><span class="n">num</span>
<span class="n">print</span><span class="p">(</span><span class="nv">sum_num</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="pe-14">
<h2>PE 14<a class="headerlink" href="#pe-14" title="Link to this heading">#</a></h2>
<ul class="simple">
<li><p>Case 1:<span class="math notranslate nohighlight">\(\text{n is odd: collatz}_{n}=3n+1\)</span></p></li>
<li><p>Case 2:<span class="math notranslate nohighlight">\(\text{n is even: collatz}_{n}=n\div2\)</span></p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-mathematica notranslate"><div class="highlight"><pre><span></span><span class="n">open</span><span class="p">(</span><span class="err">&#39;</span><span class="o">/</span><span class="n">media</span><span class="o">/</span><span class="n">tom</span><span class="o">/</span><span class="n">wk</span><span class="o">/</span><span class="n">Desktop</span><span class="o">/</span><span class="nv">c2_003_050</span><span class="o">/</span><span class="n">txt</span><span class="o">/</span><span class="nv">c2_0004</span><span class="err">.</span><span class="n">min</span><span class="err">.</span><span class="n">txt</span><span class="err">&#39;</span><span class="p">)</span><span class="err">.</span><span class="n">read</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-mathematica notranslate"><div class="highlight"><pre><span></span><span class="n">n</span><span class="p">(</span><span class="n">log</span><span class="p">(</span><span class="mi">10000</span><span class="o">*</span><span class="mi">2</span><span class="o">^</span><span class="mi">60</span><span class="p">,</span><span class="mi">10</span><span class="p">))</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-mathematica notranslate"><div class="highlight"><pre><span></span><span class="n">def</span><span class="w"> </span><span class="n">collatz</span><span class="p">(</span><span class="n">n</span><span class="p">)</span><span class="err">:</span>
<span class="w">    </span><span class="n">if</span><span class="w"> </span><span class="n">n</span><span class="o">==</span><span class="mi">1</span><span class="err">:</span>
<span class="w">        </span><span class="n">return</span><span class="w"> </span><span class="mi">1</span>
<span class="w">    </span><span class="n">elif</span><span class="w"> </span><span class="n">n</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">memo</span><span class="err">:</span>
<span class="w">        </span><span class="n">return</span><span class="w"> </span><span class="n">memo</span><span class="p">[</span><span class="n">n</span><span class="p">]</span>
<span class="w">    </span><span class="n">elif</span><span class="w"> </span><span class="n">n</span><span class="err">%</span><span class="mi">2</span><span class="o">==</span><span class="mi">0</span><span class="err">:</span>
<span class="w">        </span><span class="n">ans</span><span class="o">=</span><span class="n">collatz</span><span class="p">(</span><span class="n">n</span><span class="o">//</span><span class="mi">2</span><span class="p">)</span><span class="o">+</span><span class="mi">1</span>
<span class="w">        </span><span class="n">memo</span><span class="err">.</span><span class="n">update</span><span class="p">({</span><span class="n">n</span><span class="err">:</span><span class="n">ans</span><span class="p">})</span>
<span class="w">        </span><span class="n">return</span><span class="w"> </span><span class="n">ans</span>
<span class="w">    </span><span class="n">else</span><span class="err">:</span>
<span class="w">        </span><span class="n">ans</span><span class="o">=</span><span class="n">collatz</span><span class="p">(</span><span class="mi">3</span><span class="o">*</span><span class="n">n</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span><span class="o">+</span><span class="mi">1</span>
<span class="w">        </span><span class="n">memo</span><span class="err">.</span><span class="n">update</span><span class="p">({</span><span class="n">n</span><span class="err">:</span><span class="n">ans</span><span class="p">})</span>
<span class="w">        </span><span class="n">return</span><span class="w"> </span><span class="n">ans</span>
<span class="n">n</span><span class="o">=</span><span class="mi">1</span>
<span class="nv">max_len</span><span class="o">=</span><span class="mi">1</span>
<span class="n">for</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">16000001</span><span class="p">)</span><span class="err">:</span>
<span class="w">    </span><span class="n">culen</span><span class="o">=</span><span class="n">collatz</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
<span class="w">    </span><span class="n">if</span><span class="w"> </span><span class="n">culen</span><span class="o">&gt;=</span><span class="mi">665</span><span class="err">:</span>
<span class="w">        </span><span class="n">print</span><span class="p">(</span><span class="n">i</span><span class="p">,</span><span class="n">culen</span><span class="p">)</span>
<span class="w">    </span><span class="nv">max_len</span><span class="o">=</span><span class="n">max</span><span class="p">(</span><span class="n">culen</span><span class="p">,</span><span class="nv">max_len</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-mathematica notranslate"><div class="highlight"><pre><span></span><span class="nv">#14</span><span class="w"> </span><span class="n">Longest</span><span class="w"> </span><span class="n">Collatz</span><span class="w"> </span><span class="n">Sequence</span>
<span class="n">n</span><span class="o">=</span><span class="mi">1</span>
<span class="nv">max_len</span><span class="o">=</span><span class="mi">1</span>
<span class="n">for</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">100001</span><span class="p">)</span><span class="err">:</span>
<span class="w">    </span><span class="n">print</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
<span class="w">    </span><span class="n">culen</span><span class="o">=</span><span class="nv">collatz_length</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
<span class="w">    </span><span class="n">if</span><span class="w"> </span><span class="n">culen</span><span class="o">&gt;=</span><span class="mi">525</span><span class="err">:</span>
<span class="w">        </span><span class="n">print</span><span class="p">(</span><span class="n">i</span><span class="p">,</span><span class="n">culen</span><span class="p">)</span>
<span class="w">    </span><span class="n">if</span><span class="w"> </span><span class="n">culen</span><span class="o">&gt;</span><span class="nv">max_len</span><span class="err">:</span>
<span class="w">        </span><span class="nv">max_len</span><span class="o">=</span><span class="n">culen</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="pe-15">
<h2>PE 15<a class="headerlink" href="#pe-15" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-mathematica notranslate"><div class="highlight"><pre><span></span><span class="nv">#15</span><span class="w"> </span><span class="n">Lattice</span><span class="w"> </span><span class="n">Paths</span>
<span class="n">n</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">20</span>
<span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">paths</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
<span class="n">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="pe-16">
<h2>PE 16<a class="headerlink" href="#pe-16" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-mathematica notranslate"><div class="highlight"><pre><span></span><span class="nv">#16</span><span class="w"> </span><span class="n">Power</span><span class="w"> </span><span class="n">Digit</span><span class="w"> </span><span class="n">Sum</span>
<span class="n">num</span><span class="o">=</span><span class="p">[</span><span class="mi">10715086071862673209484250490600018105614048117055336074437503883703510511249361224931983788156958581275946729175531468251871452856923140435984577574698574803934567774824230985421074605062371141877954182153046474983581941267398767559165543946077062914571196477686542167660429831652624386837205668069376</span><span class="p">]</span>
<span class="n">output</span><span class="o">=</span><span class="n">list</span><span class="p">(</span><span class="n">map</span><span class="p">(</span><span class="n">int</span><span class="p">,</span><span class="w"> </span><span class="n">str</span><span class="p">(</span><span class="n">num</span><span class="p">[</span><span class="mi">0</span><span class="p">])))</span>
<span class="nv">sum_num</span><span class="o">=</span><span class="mi">0</span>
<span class="n">for</span><span class="w"> </span><span class="n">number</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">output</span><span class="err">:</span>
<span class="w">    </span><span class="nv">sum_num</span><span class="o">+=</span><span class="n">number</span>
<span class="nv">sum_num</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="pe-17">
<h2>PE 17<a class="headerlink" href="#pe-17" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-mathematica notranslate"><div class="highlight"><pre><span></span><span class="nv">#17</span><span class="w"> </span><span class="n">Number</span><span class="w"> </span><span class="n">Letter</span><span class="w"> </span><span class="n">Counts</span>
<span class="n">solve</span><span class="p">(</span><span class="mi">1000</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="pe-18">
<h2>PE 18<a class="headerlink" href="#pe-18" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-mathematica notranslate"><div class="highlight"><pre><span></span><span class="nv">#18</span><span class="w"> </span><span class="n">Maximum</span><span class="w"> </span><span class="n">Path</span><span class="w"> </span><span class="n">Sum</span><span class="w"> </span><span class="n">I</span>
<span class="n">l1</span><span class="o">=</span><span class="p">[</span><span class="mi">75</span><span class="p">]</span>
<span class="n">l2</span><span class="o">=</span><span class="p">[</span><span class="mi">95</span><span class="p">,</span><span class="w"> </span><span class="mi">64</span><span class="p">]</span>
<span class="n">l3</span><span class="o">=</span><span class="p">[</span><span class="mi">17</span><span class="p">,</span><span class="w"> </span><span class="mi">47</span><span class="p">,</span><span class="w"> </span><span class="mi">82</span><span class="p">]</span>
<span class="n">l4</span><span class="o">=</span><span class="p">[</span><span class="mi">18</span><span class="p">,</span><span class="w"> </span><span class="mi">35</span><span class="p">,</span><span class="w"> </span><span class="mi">87</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="p">]</span>
<span class="n">l5</span><span class="o">=</span><span class="p">[</span><span class="mi">20</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">82</span><span class="p">,</span><span class="w"> </span><span class="mi">47</span><span class="p">,</span><span class="w"> </span><span class="mi">65</span><span class="p">]</span>
<span class="n">l6</span><span class="o">=</span><span class="p">[</span><span class="mi">19</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">23</span><span class="p">,</span><span class="w"> </span><span class="mi">75</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">34</span><span class="p">]</span>
<span class="n">l7</span><span class="o">=</span><span class="p">[</span><span class="mi">88</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">77</span><span class="p">,</span><span class="w"> </span><span class="mi">73</span><span class="p">,</span><span class="w"> </span><span class="mi">7</span><span class="p">,</span><span class="w"> </span><span class="mi">63</span><span class="p">,</span><span class="w"> </span><span class="mi">67</span><span class="p">]</span>
<span class="n">l8</span><span class="o">=</span><span class="p">[</span><span class="mi">99</span><span class="p">,</span><span class="w"> </span><span class="mi">65</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">28</span><span class="p">,</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w"> </span><span class="mi">16</span><span class="p">,</span><span class="w"> </span><span class="mi">70</span><span class="p">,</span><span class="w"> </span><span class="mi">92</span><span class="p">]</span>
<span class="n">l9</span><span class="o">=</span><span class="p">[</span><span class="mi">41</span><span class="p">,</span><span class="w"> </span><span class="mi">41</span><span class="p">,</span><span class="w"> </span><span class="mi">26</span><span class="p">,</span><span class="w"> </span><span class="mi">56</span><span class="p">,</span><span class="w"> </span><span class="mi">83</span><span class="p">,</span><span class="w"> </span><span class="mi">40</span><span class="p">,</span><span class="w"> </span><span class="mi">80</span><span class="p">,</span><span class="w"> </span><span class="mi">70</span><span class="p">,</span><span class="w"> </span><span class="mi">33</span><span class="p">]</span>
<span class="n">l10</span><span class="o">=</span><span class="p">[</span><span class="mi">41</span><span class="p">,</span><span class="w"> </span><span class="mi">48</span><span class="p">,</span><span class="w"> </span><span class="mi">72</span><span class="p">,</span><span class="w"> </span><span class="mi">33</span><span class="p">,</span><span class="w"> </span><span class="mi">47</span><span class="p">,</span><span class="w"> </span><span class="mi">32</span><span class="p">,</span><span class="w"> </span><span class="mi">37</span><span class="p">,</span><span class="w"> </span><span class="mi">16</span><span class="p">,</span><span class="w"> </span><span class="mi">94</span><span class="p">,</span><span class="w"> </span><span class="mi">29</span><span class="p">]</span>
<span class="n">l11</span><span class="o">=</span><span class="p">[</span><span class="mi">53</span><span class="p">,</span><span class="w"> </span><span class="mi">71</span><span class="p">,</span><span class="w"> </span><span class="mi">44</span><span class="p">,</span><span class="w"> </span><span class="mi">65</span><span class="p">,</span><span class="w"> </span><span class="mi">25</span><span class="p">,</span><span class="w"> </span><span class="mi">43</span><span class="p">,</span><span class="w"> </span><span class="mi">91</span><span class="p">,</span><span class="w"> </span><span class="mi">52</span><span class="p">,</span><span class="w"> </span><span class="mi">97</span><span class="p">,</span><span class="w"> </span><span class="mi">51</span><span class="p">,</span><span class="w"> </span><span class="mi">14</span><span class="p">]</span>
<span class="n">l12</span><span class="o">=</span><span class="p">[</span><span class="mi">70</span><span class="p">,</span><span class="w"> </span><span class="mi">11</span><span class="p">,</span><span class="w"> </span><span class="mi">33</span><span class="p">,</span><span class="w"> </span><span class="mi">28</span><span class="p">,</span><span class="w"> </span><span class="mi">77</span><span class="p">,</span><span class="w"> </span><span class="mi">73</span><span class="p">,</span><span class="w"> </span><span class="mi">17</span><span class="p">,</span><span class="w"> </span><span class="mi">78</span><span class="p">,</span><span class="w"> </span><span class="mi">39</span><span class="p">,</span><span class="w"> </span><span class="mi">68</span><span class="p">,</span><span class="w"> </span><span class="mi">17</span><span class="p">,</span><span class="w"> </span><span class="mi">57</span><span class="p">]</span>
<span class="n">l13</span><span class="o">=</span><span class="p">[</span><span class="mi">91</span><span class="p">,</span><span class="w"> </span><span class="mi">71</span><span class="p">,</span><span class="w"> </span><span class="mi">52</span><span class="p">,</span><span class="w"> </span><span class="mi">38</span><span class="p">,</span><span class="w"> </span><span class="mi">17</span><span class="p">,</span><span class="w"> </span><span class="mi">14</span><span class="p">,</span><span class="w"> </span><span class="mi">91</span><span class="p">,</span><span class="w"> </span><span class="mi">43</span><span class="p">,</span><span class="w"> </span><span class="mi">58</span><span class="p">,</span><span class="w"> </span><span class="mi">50</span><span class="p">,</span><span class="w"> </span><span class="mi">27</span><span class="p">,</span><span class="w"> </span><span class="mi">29</span><span class="p">,</span><span class="w"> </span><span class="mi">48</span><span class="p">]</span>
<span class="n">l14</span><span class="o">=</span><span class="p">[</span><span class="mi">63</span><span class="p">,</span><span class="w"> </span><span class="mi">66</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">68</span><span class="p">,</span><span class="w"> </span><span class="mi">89</span><span class="p">,</span><span class="w"> </span><span class="mi">53</span><span class="p">,</span><span class="w"> </span><span class="mi">67</span><span class="p">,</span><span class="w"> </span><span class="mi">30</span><span class="p">,</span><span class="w"> </span><span class="mi">73</span><span class="p">,</span><span class="w"> </span><span class="mi">16</span><span class="p">,</span><span class="w"> </span><span class="mi">69</span><span class="p">,</span><span class="w"> </span><span class="mi">87</span><span class="p">,</span><span class="w"> </span><span class="mi">40</span><span class="p">,</span><span class="w"> </span><span class="mi">31</span><span class="p">]</span>
<span class="n">l15</span><span class="o">=</span><span class="p">[</span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">62</span><span class="p">,</span><span class="w"> </span><span class="mi">98</span><span class="p">,</span><span class="w"> </span><span class="mi">27</span><span class="p">,</span><span class="w"> </span><span class="mi">23</span><span class="p">,</span><span class="w"> </span><span class="mi">9</span><span class="p">,</span><span class="w"> </span><span class="mi">70</span><span class="p">,</span><span class="w"> </span><span class="mi">98</span><span class="p">,</span><span class="w"> </span><span class="mi">73</span><span class="p">,</span><span class="w"> </span><span class="mi">93</span><span class="p">,</span><span class="w"> </span><span class="mi">38</span><span class="p">,</span><span class="w"> </span><span class="mi">53</span><span class="p">,</span><span class="w"> </span><span class="mi">60</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">23</span><span class="p">]</span>
<span class="n">triangle</span><span class="o">=</span><span class="p">[</span><span class="n">l1</span><span class="p">,</span><span class="w"> </span><span class="n">l2</span><span class="p">,</span><span class="w"> </span><span class="n">l3</span><span class="p">,</span><span class="w"> </span><span class="n">l4</span><span class="p">,</span><span class="w"> </span><span class="n">l5</span><span class="p">,</span><span class="w"> </span><span class="n">l6</span><span class="p">,</span><span class="w"> </span><span class="n">l7</span><span class="p">,</span><span class="w"> </span><span class="n">l8</span><span class="p">,</span><span class="w"> </span><span class="n">l9</span><span class="p">,</span><span class="w"> </span><span class="n">l10</span><span class="p">,</span><span class="w"> </span><span class="n">l11</span><span class="p">,</span><span class="w"> </span><span class="n">l12</span><span class="p">,</span><span class="w"> </span><span class="n">l13</span><span class="p">,</span><span class="w"> </span><span class="n">l14</span><span class="p">,</span><span class="w"> </span><span class="n">l15</span><span class="p">]</span>
<span class="n">for</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="n">len</span><span class="p">(</span><span class="n">triangle</span><span class="p">)</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">-1</span><span class="p">,</span><span class="w"> </span><span class="mi">-1</span><span class="p">)</span><span class="err">:</span>
<span class="w">    </span><span class="n">for</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="n">len</span><span class="p">(</span><span class="n">triangle</span><span class="p">[</span><span class="n">i</span><span class="p">]))</span><span class="err">:</span>
<span class="w">        </span><span class="n">triangle</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="n">max</span><span class="p">(</span><span class="n">triangle</span><span class="p">[</span><span class="n">i</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="p">][</span><span class="n">j</span><span class="p">],</span><span class="w"> </span><span class="n">triangle</span><span class="p">[</span><span class="n">i</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="p">][</span><span class="n">j</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="p">])</span>
<span class="nv">max_total</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">triangle</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>
<span class="n">print</span><span class="p">(</span><span class="nv">max_total</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="pe-19">
<h2>PE 19<a class="headerlink" href="#pe-19" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-mathematica notranslate"><div class="highlight"><pre><span></span><span class="nv">#19</span><span class="w"> </span><span class="n">Counting</span><span class="w"> </span><span class="n">Sundays</span>
<span class="n">import</span><span class="w"> </span><span class="n">datetime</span>
<span class="n">count</span><span class="o">=</span><span class="mi">0</span>
<span class="n">for</span><span class="w"> </span><span class="n">year</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="mi">1901</span><span class="p">,</span><span class="w"> </span><span class="mi">2001</span><span class="p">)</span><span class="err">:</span>
<span class="w">    </span><span class="n">for</span><span class="w"> </span><span class="n">month</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">13</span><span class="p">)</span><span class="err">:</span>
<span class="w">        </span><span class="n">if</span><span class="w"> </span><span class="n">datetime</span><span class="err">.</span><span class="n">date</span><span class="p">(</span><span class="n">year</span><span class="p">,</span><span class="w"> </span><span class="n">month</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span><span class="err">.</span><span class="n">weekday</span><span class="p">()</span><span class="o">==</span><span class="mi">6</span><span class="err">:</span>
<span class="w">            </span><span class="n">count</span><span class="o">+=</span><span class="mi">1</span>
<span class="n">print</span><span class="p">(</span><span class="n">count</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="pe-20">
<h2>PE 20<a class="headerlink" href="#pe-20" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-mathematica notranslate"><div class="highlight"><pre><span></span><span class="nv">#20</span><span class="w"> </span><span class="n">Factorial</span><span class="w"> </span><span class="n">Digit</span><span class="w"> </span><span class="n">Sum</span>
<span class="n">num</span><span class="o">=</span><span class="n">fact</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span>
<span class="n">output</span><span class="o">=</span><span class="n">list</span><span class="p">(</span><span class="n">map</span><span class="p">(</span><span class="n">int</span><span class="p">,</span><span class="w"> </span><span class="n">str</span><span class="p">(</span><span class="n">num</span><span class="p">)))</span>
<span class="nv">sum_num</span><span class="o">=</span><span class="mi">0</span>
<span class="n">for</span><span class="w"> </span><span class="n">number</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">output</span><span class="err">:</span>
<span class="w">    </span><span class="nv">sum_num</span><span class="o">+=</span><span class="n">number</span>
<span class="nv">sum_num</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="pe-21">
<h2>PE 21<a class="headerlink" href="#pe-21" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-mathematica notranslate"><div class="highlight"><pre><span></span><span class="n">sum</span><span class="p">([</span><span class="mi">220</span><span class="p">,</span>
<span class="w"> </span><span class="mi">284</span><span class="p">,</span>
<span class="w"> </span><span class="mi">2620</span><span class="p">,</span>
<span class="w"> </span><span class="mi">2924</span><span class="p">,</span>
<span class="w"> </span><span class="mi">5020</span><span class="p">,</span>
<span class="w"> </span><span class="mi">5564</span><span class="p">,</span>
<span class="w"> </span><span class="mi">10744</span><span class="p">,</span>
<span class="w"> </span><span class="mi">10856</span><span class="p">,</span>
<span class="w"> </span><span class="mi">17296</span><span class="p">,</span>
<span class="w"> </span><span class="mi">18416</span><span class="p">])</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-mathematica notranslate"><div class="highlight"><pre><span></span><span class="n">import</span><span class="w"> </span><span class="n">requests</span>
<span class="n">response</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">requests</span><span class="err">.</span><span class="n">get</span><span class="p">(</span><span class="s">&quot;https://oeis.org/A002025/b002025.txt&quot;</span><span class="p">)</span>
<span class="n">content</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">response</span><span class="err">.</span><span class="n">text</span>
<span class="n">lst</span><span class="o">=</span><span class="n">content</span><span class="err">.</span><span class="n">split</span><span class="p">(</span><span class="err">&#39;\</span><span class="n">n</span><span class="err">&#39;</span><span class="p">)</span>
<span class="n">lst</span><span class="o">=</span><span class="n">lst</span><span class="p">[</span><span class="err">:</span><span class="mi">-10</span><span class="p">]</span>
<span class="n">lst</span><span class="o">=</span><span class="p">[</span><span class="n">int</span><span class="p">(</span><span class="n">lst1</span><span class="err">.</span><span class="n">split</span><span class="p">()[</span><span class="mi">1</span><span class="p">])</span><span class="w"> </span><span class="n">for</span><span class="w"> </span><span class="n">lst1</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">lst</span><span class="p">]</span>
<span class="nv">new_lst</span><span class="o">=</span><span class="n">set</span><span class="p">(</span><span class="n">lst</span><span class="p">)</span>
<span class="n">for</span><span class="w"> </span><span class="n">num</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">lst</span><span class="err">:</span>
<span class="w">    </span><span class="nv">new_lst</span><span class="err">.</span><span class="n">add</span><span class="p">(</span><span class="n">sigma</span><span class="p">(</span><span class="n">num</span><span class="p">)</span><span class="o">-</span><span class="n">num</span><span class="p">)</span>
<span class="n">for</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="mi">38</span><span class="p">,</span><span class="mi">44</span><span class="p">)</span><span class="err">:</span>
<span class="w">    </span><span class="n">print</span><span class="p">(</span><span class="n">str</span><span class="p">(</span><span class="n">i</span><span class="p">)</span><span class="o">+</span><span class="err">&#39;:&#39;</span><span class="o">+</span><span class="n">str</span><span class="p">(</span><span class="n">sum</span><span class="p">(</span><span class="n">filter</span><span class="p">(</span><span class="n">lambda</span><span class="w"> </span><span class="n">x</span><span class="err">:</span><span class="n">x</span><span class="o">&lt;</span><span class="mi">10000</span><span class="o">*</span><span class="mi">2</span><span class="o">^</span><span class="n">i</span><span class="p">,</span><span class="nv">new_lst</span><span class="p">))))</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-mathematica notranslate"><div class="highlight"><pre><span></span><span class="nv">#</span><span class="w"> </span><span class="mi">21</span><span class="w"> </span><span class="n">Amicable</span><span class="w"> </span><span class="n">Numbers</span>
<span class="n">def</span><span class="w"> </span><span class="n">ami</span><span class="p">(</span><span class="n">n</span><span class="p">)</span><span class="err">:</span>
<span class="w">    </span><span class="n">return</span><span class="w"> </span><span class="n">sigma</span><span class="p">(</span><span class="n">n</span><span class="p">)</span><span class="o">-</span><span class="n">n</span>
<span class="n">def</span><span class="w"> </span><span class="n">amicable</span><span class="p">(</span><span class="n">n</span><span class="p">)</span><span class="err">:</span>
<span class="w">    </span><span class="n">return</span><span class="w"> </span><span class="n">n</span><span class="o">==</span><span class="n">ami</span><span class="p">(</span><span class="n">ami</span><span class="p">(</span><span class="n">n</span><span class="p">))</span><span class="w"> </span><span class="n">and</span><span class="w"> </span><span class="n">n</span><span class="o">!=</span><span class="n">ami</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
<span class="n">count</span><span class="o">=</span><span class="mi">0</span>
<span class="n">for</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">20000</span><span class="p">)</span><span class="err">:</span>
<span class="w">    </span><span class="n">count</span><span class="o">+=</span><span class="n">i</span><span class="o">*</span><span class="n">amicable</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
<span class="w">    </span><span class="n">if</span><span class="w"> </span><span class="n">amicable</span><span class="p">(</span><span class="n">i</span><span class="p">)</span><span class="err">:</span>
<span class="w">        </span><span class="n">print</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
<span class="n">count</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="pe-22">
<h2>PE 22<a class="headerlink" href="#pe-22" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-mathematica notranslate"><div class="highlight"><pre><span></span><span class="nv">#22</span><span class="w"> </span><span class="n">Names</span><span class="w"> </span><span class="n">Scores</span>
<span class="n">import</span><span class="w"> </span><span class="n">requests</span>
<span class="n">response</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">requests</span><span class="err">.</span><span class="n">get</span><span class="p">(</span><span class="s">&quot;https://projecteuler.net/resources/documents/0022_names.txt&quot;</span><span class="p">)</span><span class="w">   </span><span class="nv">#</span><span class="w"> </span><span class="n">Send</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">GET</span><span class="w"> </span><span class="n">request</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">URL</span>
<span class="n">content</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">response</span><span class="err">.</span><span class="n">text</span><span class="w">     </span><span class="nv">#</span><span class="w"> </span><span class="n">Read</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">content</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">response</span>
<span class="n">names</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="n">name</span><span class="err">.</span><span class="n">strip</span><span class="p">(</span><span class="err">&#39;&quot;&#39;</span><span class="p">)</span><span class="w"> </span><span class="n">for</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">content</span><span class="err">.</span><span class="n">split</span><span class="p">(</span><span class="err">&#39;</span><span class="p">,</span><span class="err">&#39;</span><span class="p">)]</span><span class="w">  </span><span class="nv">#</span><span class="w"> </span><span class="n">Split</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">content</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">comma</span><span class="w"> </span><span class="n">and</span><span class="w"> </span><span class="n">remove</span><span class="w"> </span><span class="n">double</span><span class="w"> </span><span class="n">quotes</span>
<span class="n">names</span><span class="err">.</span><span class="n">sort</span><span class="p">()</span>

<span class="n">value</span><span class="o">=</span><span class="p">{</span><span class="err">&#39;</span><span class="n">A</span><span class="err">&#39;:</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="err">&#39;</span><span class="n">B</span><span class="err">&#39;:</span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="err">&#39;</span><span class="n">C</span><span class="err">&#39;:</span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="err">&#39;</span><span class="n">D</span><span class="err">&#39;:</span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="err">&#39;</span><span class="n">E</span><span class="err">&#39;:</span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="err">&#39;</span><span class="n">F</span><span class="err">&#39;:</span><span class="mi">6</span><span class="p">,</span><span class="w"> </span><span class="err">&#39;</span><span class="n">G</span><span class="err">&#39;:</span><span class="mi">7</span><span class="p">,</span><span class="w"> </span><span class="err">&#39;</span><span class="n">H</span><span class="err">&#39;:</span><span class="mi">8</span><span class="p">,</span><span class="w"> </span><span class="err">&#39;</span><span class="n">I</span><span class="err">&#39;:</span><span class="mi">9</span><span class="p">,</span><span class="w"> </span><span class="err">&#39;</span><span class="n">J</span><span class="err">&#39;:</span><span class="mi">10</span><span class="p">,</span><span class="w"> </span><span class="err">&#39;</span><span class="n">K</span><span class="err">&#39;:</span><span class="mi">11</span><span class="p">,</span><span class="w"> </span><span class="err">&#39;</span><span class="n">L</span><span class="err">&#39;:</span><span class="mi">12</span><span class="p">,</span><span class="w"> </span><span class="err">&#39;</span><span class="n">M</span><span class="err">&#39;:</span><span class="mi">13</span><span class="p">,</span><span class="w"> </span><span class="err">&#39;</span><span class="n">N</span><span class="err">&#39;:</span><span class="mi">14</span><span class="p">,</span><span class="w"> </span><span class="err">&#39;</span><span class="n">O</span><span class="err">&#39;:</span><span class="mi">15</span><span class="p">,</span><span class="w"> </span><span class="err">&#39;</span><span class="n">P</span><span class="err">&#39;:</span><span class="mi">16</span><span class="p">,</span><span class="w"> </span><span class="err">&#39;</span><span class="n">Q</span><span class="err">&#39;:</span><span class="mi">17</span><span class="p">,</span><span class="w"> </span><span class="err">&#39;</span><span class="n">R</span><span class="err">&#39;:</span><span class="mi">18</span><span class="p">,</span><span class="w"> </span><span class="err">&#39;</span><span class="n">S</span><span class="err">&#39;:</span><span class="mi">19</span><span class="p">,</span><span class="w"> </span><span class="err">&#39;</span><span class="n">T</span><span class="err">&#39;:</span><span class="mi">20</span><span class="p">,</span><span class="w"> </span><span class="err">&#39;</span><span class="n">U</span><span class="err">&#39;:</span><span class="mi">21</span><span class="p">,</span><span class="w"> </span><span class="err">&#39;</span><span class="n">V</span><span class="err">&#39;:</span><span class="mi">22</span><span class="p">,</span><span class="w"> </span><span class="err">&#39;</span><span class="n">W</span><span class="err">&#39;:</span><span class="mi">23</span><span class="p">,</span><span class="w"> </span><span class="err">&#39;</span><span class="n">X</span><span class="err">&#39;:</span><span class="mi">24</span><span class="p">,</span><span class="w"> </span><span class="err">&#39;</span><span class="n">Y</span><span class="err">&#39;:</span><span class="mi">25</span><span class="p">,</span><span class="w"> </span><span class="err">&#39;</span><span class="n">Z</span><span class="err">&#39;:</span><span class="mi">26</span><span class="p">}</span>
<span class="nv">tot_score</span><span class="o">=</span><span class="mi">0</span>
<span class="n">place</span><span class="o">=</span><span class="mi">1</span>
<span class="n">for</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">names</span><span class="err">:</span>
<span class="w">    </span><span class="n">score</span><span class="o">=</span><span class="mi">0</span>
<span class="w">    </span><span class="n">for</span><span class="w"> </span><span class="n">letter</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">name</span><span class="err">:</span>
<span class="w">        </span><span class="n">score</span><span class="o">+=</span><span class="n">value</span><span class="p">[</span><span class="n">letter</span><span class="p">]</span>
<span class="w">    </span><span class="n">score</span><span class="o">*=</span><span class="n">place</span>
<span class="w">    </span><span class="nv">tot_score</span><span class="o">+=</span><span class="n">score</span>
<span class="w">    </span><span class="n">place</span><span class="o">+=</span><span class="mi">1</span>
<span class="nv">tot_score</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="pe-23">
<h2>PE 23<a class="headerlink" href="#pe-23" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-mathematica notranslate"><div class="highlight"><pre><span></span><span class="n">def</span><span class="w"> </span><span class="n">factors</span><span class="p">(</span><span class="n">n</span><span class="p">)</span><span class="err">:</span>
<span class="w">    </span><span class="n">facs</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="mi">1</span><span class="p">}</span>
<span class="w">    </span><span class="n">for</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="n">int</span><span class="p">(</span><span class="n">n</span><span class="o">**</span><span class="mf">0.5</span><span class="p">)</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span><span class="err">:</span>
<span class="w">        </span><span class="n">if</span><span class="w"> </span><span class="n">n</span><span class="err">%</span><span class="n">i</span><span class="o">==</span><span class="mi">0</span><span class="err">:</span>
<span class="w">            </span><span class="n">facs</span><span class="err">.</span><span class="n">add</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
<span class="w">            </span><span class="n">facs</span><span class="err">.</span><span class="n">add</span><span class="p">(</span><span class="n">n</span><span class="w"> </span><span class="o">//</span><span class="w"> </span><span class="n">i</span><span class="p">)</span>
<span class="w">    </span><span class="n">return</span><span class="w"> </span><span class="n">facs</span>
<span class="n">def</span><span class="w"> </span><span class="n">abundant</span><span class="p">(</span><span class="n">n</span><span class="p">)</span><span class="err">:</span>
<span class="w">    </span><span class="n">return</span><span class="w"> </span><span class="n">sum</span><span class="p">(</span><span class="n">factors</span><span class="p">(</span><span class="n">n</span><span class="p">))</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="n">n</span>
<span class="n">def</span><span class="w"> </span><span class="nv">sum_abundant</span><span class="p">(</span><span class="n">n</span><span class="p">,</span><span class="w"> </span><span class="nv">abundant_numbers</span><span class="p">)</span><span class="err">:</span>
<span class="w">    </span><span class="n">for</span><span class="w"> </span><span class="n">ab</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="nv">abundant_numbers</span><span class="err">:</span>
<span class="w">        </span><span class="n">if</span><span class="w"> </span><span class="p">(</span><span class="n">n</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">ab</span><span class="p">)</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="nv">abundant_numbers</span><span class="err">:</span>
<span class="w">            </span><span class="n">return</span><span class="w"> </span><span class="n">True</span>
<span class="w">    </span><span class="n">return</span><span class="w"> </span><span class="n">False</span>
<span class="nv">abundant_numbers</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="n">i</span><span class="w"> </span><span class="n">for</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span><span class="w"> </span><span class="mi">28124</span><span class="p">)</span><span class="w"> </span><span class="n">if</span><span class="w"> </span><span class="n">abundant</span><span class="p">(</span><span class="n">i</span><span class="p">)}</span>
<span class="nv">non_abundant_sums</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="n">i</span><span class="w"> </span><span class="n">for</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">28124</span><span class="p">)</span><span class="w"> </span><span class="n">if</span><span class="w"> </span><span class="n">not</span><span class="w"> </span><span class="nv">sum_abundant</span><span class="p">(</span><span class="n">i</span><span class="p">,</span><span class="w"> </span><span class="nv">abundant_numbers</span><span class="p">)]</span>
<span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">sum</span><span class="p">(</span><span class="nv">non_abundant_sums</span><span class="p">)</span>
<span class="n">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-mathematica notranslate"><div class="highlight"><pre><span></span><span class="nv">#</span><span class="w"> </span><span class="mi">23</span><span class="w"> </span><span class="n">Non</span><span class="o">-</span><span class="n">Abundant</span><span class="w"> </span><span class="n">Sums</span>
<span class="n">def</span><span class="w"> </span><span class="n">factors</span><span class="p">(</span><span class="n">n</span><span class="p">)</span><span class="err">:</span>
<span class="w">    </span><span class="n">facs</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
<span class="w">    </span><span class="n">for</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="n">int</span><span class="p">(</span><span class="n">n</span><span class="o">**</span><span class="mf">0.5</span><span class="p">)</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span><span class="err">:</span><span class="w">  </span><span class="nv">#</span><span class="w"> </span><span class="err"></span>
<span class="w">        </span><span class="n">if</span><span class="w"> </span><span class="n">n</span><span class="err">%</span><span class="n">i</span><span class="o">==</span><span class="mi">0</span><span class="err">:</span>
<span class="w">            </span><span class="n">facs</span><span class="err">.</span><span class="n">append</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
<span class="w">            </span><span class="n">facs</span><span class="err">.</span><span class="n">append</span><span class="p">(</span><span class="n">n</span><span class="o">//</span><span class="n">i</span><span class="p">)</span>
<span class="w">    </span><span class="n">return</span><span class="w"> </span><span class="n">facs</span>

<span class="n">def</span><span class="w"> </span><span class="n">abundant</span><span class="p">(</span><span class="n">n</span><span class="p">)</span><span class="err">:</span>
<span class="w">    </span><span class="n">return</span><span class="w"> </span><span class="n">sum</span><span class="p">(</span><span class="n">factors</span><span class="p">(</span><span class="n">n</span><span class="p">))</span><span class="o">&gt;</span><span class="n">n</span>

<span class="n">def</span><span class="w"> </span><span class="nv">sum_abundant</span><span class="p">(</span><span class="n">n</span><span class="p">,</span><span class="nv">abundant_numbers</span><span class="p">)</span><span class="err">:</span>
<span class="w">    </span><span class="n">for</span><span class="w"> </span><span class="n">ab</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="nv">abundant_numbers</span><span class="err">:</span>
<span class="w">        </span><span class="n">if</span><span class="w"> </span><span class="p">(</span><span class="n">n</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">ab</span><span class="p">)</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="nv">abundant_numbers</span><span class="err">:</span>
<span class="w">            </span><span class="n">return</span><span class="w"> </span><span class="n">True</span>
<span class="w">    </span><span class="n">return</span><span class="w"> </span><span class="n">False</span>
<span class="nv">abundant_numbers</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="n">i</span><span class="w"> </span><span class="n">for</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span><span class="w"> </span><span class="mi">28124</span><span class="p">)</span><span class="w"> </span><span class="n">if</span><span class="w"> </span><span class="n">abundant</span><span class="p">(</span><span class="n">i</span><span class="p">)}</span>
<span class="nv">non_abundant_sums</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="n">i</span><span class="w"> </span><span class="n">for</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">28124</span><span class="p">)</span><span class="w"> </span><span class="n">if</span><span class="w"> </span><span class="n">not</span><span class="w"> </span><span class="nv">sum_abundant</span><span class="p">(</span><span class="n">i</span><span class="p">,</span><span class="w"> </span><span class="nv">abundant_numbers</span><span class="p">)]</span>

<span class="n">sum</span><span class="p">(</span><span class="nv">non_abundant_sums</span><span class="p">)</span><span class="w"> </span><span class="nv">#</span><span class="w"> </span><span class="n">Error</span><span class="err">:</span><span class="w"> </span><span class="n">smaller</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="mi">258348</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="pe-24">
<h2>PE 24<a class="headerlink" href="#pe-24" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-mathematica notranslate"><div class="highlight"><pre><span></span><span class="nv">#24</span><span class="w"> </span><span class="n">Lexicographic</span><span class="w"> </span><span class="n">Permutations</span>
<span class="n">import</span><span class="w"> </span><span class="n">itertools</span>
<span class="n">permutations</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">list</span><span class="p">(</span><span class="n">itertools</span><span class="err">.</span><span class="n">permutations</span><span class="p">(</span><span class="n">range</span><span class="p">(</span><span class="mi">10</span><span class="p">)))</span>
<span class="nv">millionth_permutation</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">int</span><span class="p">(</span><span class="err">&#39;&#39;.</span><span class="n">join</span><span class="p">(</span><span class="n">map</span><span class="p">(</span><span class="n">str</span><span class="p">,</span><span class="w"> </span><span class="n">permutations</span><span class="p">[</span><span class="mi">999999</span><span class="p">])))</span>
<span class="nv">millionth_permutation</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="pe-25">
<h2>PE 25<a class="headerlink" href="#pe-25" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-mathematica notranslate"><div class="highlight"><pre><span></span><span class="nv">#25</span><span class="w"> </span><span class="mi">1000</span><span class="w"> </span><span class="n">Digit</span><span class="w"> </span><span class="n">Fibonacci</span><span class="w"> </span><span class="n">Number</span>
<span class="nv">#</span><span class="w"> </span><span class="n">fastFib</span><span class="p">(</span><span class="mi">4781</span><span class="p">)</span>
<span class="n">len</span><span class="p">(</span><span class="n">str</span><span class="p">(</span><span class="mi">1731403589222002957294429346518895723709506082039860786521776201969997425190002580820509546929820263058457975554718584767897610032505496877507394744099980978096953962557220579370143960032185044755214925165471985133186165562568372954212266775160479690961083330407371040988504455586839093910684051542272860673487922394300583546141201071181523567766482697651998576131907383462584505182933770187893410602855362990044627645611957937480375221691136281665191108770486046208365987457152897898978151032624598781944378501953255407873508942191356136619446735012761729556373994129675990036580541567079157500214451848590106380276929004769735246144938528628285344388350842365138183068393693524442382719001304601982880025898373942014814103022093332575900147730351419594078092359452500825422173232850278854098501036548721303293491571977471641513836658780413653798660841910284032061829208989654332339843602086914702633919395534251088908273898020000096184168171559429402858006596531459999394154832243826895270097988797</span><span class="p">))</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-mathematica notranslate"><div class="highlight"><pre><span></span><span class="n">m</span><span class="o">=</span><span class="n">matrix</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">,[</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">])</span>
<span class="n">v</span><span class="o">=</span><span class="n">vector</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">])</span>
<span class="n">s</span><span class="p">,</span><span class="n">l</span><span class="o">=</span><span class="n">m</span><span class="err">.</span><span class="nv">eigenmatrix_right</span><span class="p">()</span>
<span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">((</span><span class="n">s</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="p">(</span><span class="n">l</span><span class="o">^</span><span class="n">n</span><span class="p">)</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">s</span><span class="err">.</span><span class="n">inverse</span><span class="p">())</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">v</span><span class="p">)[</span><span class="mi">1</span><span class="p">]</span><span class="err">.</span><span class="n">simplify</span><span class="p">()</span>
<span class="n">result</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-mathematica notranslate"><div class="highlight"><pre><span></span><span class="n">def</span><span class="w"> </span><span class="n">matrixFib</span><span class="p">(</span><span class="n">n</span><span class="p">)</span><span class="err">:</span>
<span class="w">    </span><span class="n">if</span><span class="w"> </span><span class="n">n</span><span class="o">==</span><span class="mi">1</span><span class="w"> </span><span class="n">or</span><span class="w"> </span><span class="n">n</span><span class="o">==</span><span class="mi">2</span><span class="err">:</span>
<span class="w">        </span><span class="n">return</span><span class="w"> </span><span class="mi">1</span>
<span class="w">    </span><span class="n">m</span><span class="o">=</span><span class="n">matrix</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">],[</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">]])</span>
<span class="w">    </span><span class="n">v</span><span class="o">=</span><span class="n">vector</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">])</span>
<span class="w">    </span><span class="n">for</span><span class="w"> </span><span class="nv">_</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="n">n</span><span class="mi">-2</span><span class="p">)</span><span class="err">:</span>
<span class="w">        </span><span class="n">v</span><span class="o">=</span><span class="n">m</span><span class="o">*</span><span class="n">v</span>
<span class="w">    </span><span class="n">return</span><span class="w"> </span><span class="n">v</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="n">def</span><span class="w"> </span><span class="n">eigenFib</span><span class="p">(</span><span class="n">n</span><span class="p">)</span><span class="err">:</span>
<span class="w">    </span><span class="n">m</span><span class="o">=</span><span class="n">matrix</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">],[</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">]])</span>
<span class="w">    </span><span class="n">v</span><span class="o">=</span><span class="n">vector</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">])</span>
<span class="w">    </span><span class="n">s</span><span class="p">,</span><span class="n">l</span><span class="o">=</span><span class="n">m</span><span class="err">.</span><span class="nv">eigenmatrix_right</span><span class="p">()</span>
<span class="w">    </span><span class="n">return</span><span class="w"> </span><span class="p">((</span><span class="n">s</span><span class="o">*</span><span class="p">(</span><span class="n">l</span><span class="o">^</span><span class="n">n</span><span class="p">)</span><span class="o">*</span><span class="n">s</span><span class="err">.</span><span class="n">inverse</span><span class="p">())</span><span class="o">*</span><span class="n">v</span><span class="p">)[</span><span class="mi">1</span><span class="p">]</span>
<span class="n">eigenFib</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
<span class="n">num</span><span class="o">=</span><span class="n">matrixFib</span><span class="p">(</span><span class="mi">10</span><span class="o">^</span><span class="mi">4</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="pe-26">
<h2>PE 26<a class="headerlink" href="#pe-26" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-mathematica notranslate"><div class="highlight"><pre><span></span><span class="c">(* 26 *)</span>
<span class="c">(* learn 4 functions: </span>
<span class="c">    Association[]</span>
<span class="c">    Module[]</span>
<span class="c">    KeyExistsQ[]</span>
<span class="c">    Mod[] *)</span>
<span class="n">cycleLength</span><span class="p">[</span><span class="nv">d_</span><span class="p">]</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="n">Module</span><span class="p">[{</span><span class="n">rems</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Association</span><span class="p">[],</span><span class="w"> </span><span class="n">num</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">pos</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">},</span>
<span class="w">  </span><span class="n">While</span><span class="p">[</span><span class="o">!</span><span class="w"> </span><span class="n">KeyExistsQ</span><span class="p">[</span><span class="n">rems</span><span class="p">,</span><span class="w"> </span><span class="n">num</span><span class="p">]</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">num</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">    </span><span class="n">rems</span><span class="p">[</span><span class="n">num</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">pos</span><span class="p">;</span>
<span class="w">    </span><span class="n">num</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Mod</span><span class="p">[</span><span class="mi">10</span><span class="w"> </span><span class="n">num</span><span class="p">,</span><span class="w"> </span><span class="n">d</span><span class="p">];</span>
<span class="w">    </span><span class="n">pos</span><span class="o">++</span><span class="w">   </span><span class="p">];</span>
<span class="w">  </span><span class="n">If</span><span class="p">[</span><span class="n">num</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="n">pos</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">rems</span><span class="p">[</span><span class="n">num</span><span class="p">]]];</span>

<span class="n">SortBy</span><span class="p">[</span><span class="n">Range</span><span class="p">[</span><span class="mi">888</span><span class="p">,</span><span class="w"> </span><span class="mi">999</span><span class="p">],</span><span class="w"> </span><span class="n">cycleLength</span><span class="p">]</span>
<span class="n">cycleLength</span><span class="p">[</span><span class="mi">983</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-mathematica notranslate"><div class="highlight"><pre><span></span><span class="n">for</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="mi">86</span><span class="p">,</span><span class="mi">91</span><span class="p">)</span><span class="err">:</span>
<span class="w">    </span><span class="nv">max_cycle</span><span class="o">=</span><span class="mi">0</span>
<span class="w">    </span><span class="n">limit</span><span class="o">=</span><span class="mi">1000</span><span class="o">*</span><span class="mi">4</span><span class="o">^</span><span class="n">j</span>
<span class="w">    </span><span class="n">count</span><span class="o">=</span><span class="mi">0</span>
<span class="w">    </span><span class="n">for</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="n">limit</span><span class="mi">-1000</span><span class="p">,</span><span class="n">limit</span><span class="p">)</span><span class="err">:</span>
<span class="w">        </span><span class="n">num</span><span class="o">=</span><span class="n">i</span>
<span class="w">        </span><span class="n">if</span><span class="w"> </span><span class="n">num</span><span class="err">%</span><span class="mi">2</span><span class="o">!=</span><span class="mi">0</span><span class="w"> </span><span class="n">and</span><span class="w"> </span><span class="n">num</span><span class="err">%</span><span class="mi">5</span><span class="o">!=</span><span class="mi">0</span><span class="err">:</span>
<span class="w">            </span><span class="n">cycle</span><span class="o">=</span><span class="n">mod</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="n">num</span><span class="p">)</span><span class="err">.</span><span class="nv">multiplicative_order</span><span class="p">()</span>
<span class="w">            </span><span class="n">if</span><span class="w"> </span><span class="n">cycle</span><span class="o">&gt;</span><span class="nv">max_cycle</span><span class="err">:</span>
<span class="w">                </span><span class="nv">max_cycle</span><span class="o">=</span><span class="n">cycle</span>
<span class="w">                </span><span class="n">count</span><span class="o">=</span><span class="n">i</span>
<span class="w">    </span><span class="n">print</span><span class="p">(</span><span class="n">str</span><span class="p">(</span><span class="n">j</span><span class="p">)</span><span class="o">+</span><span class="err">&#39;:&#39;</span><span class="o">+</span><span class="n">str</span><span class="p">(</span><span class="n">count</span><span class="p">)</span><span class="o">+</span><span class="err">&#39;</span><span class="p">,</span><span class="err">&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="pe-27">
<h2>PE 27<a class="headerlink" href="#pe-27" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-mathematica notranslate"><div class="highlight"><pre><span></span><span class="nv">#27</span><span class="w"> </span><span class="n">Quadratic</span><span class="w"> </span><span class="n">Primes</span>
<span class="n">def</span><span class="w"> </span><span class="n">sieveEratosthenes</span><span class="p">(</span><span class="n">num</span><span class="p">)</span><span class="err">:</span>
<span class="w">    </span><span class="n">isPrime</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="n">True</span><span class="p">]</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="p">(</span><span class="n">num</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span>
<span class="w">    </span><span class="n">isPrime</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">False</span>
<span class="w">    </span><span class="n">isPrime</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">False</span>
<span class="w">    </span><span class="n">primes</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[]</span>
<span class="w">    </span><span class="n">for</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="n">num</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="p">))</span><span class="err">:</span>
<span class="w">        </span><span class="n">if</span><span class="w"> </span><span class="n">isPrime</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="err">:</span>
<span class="w">            </span><span class="n">primes</span><span class="err">.</span><span class="n">append</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
<span class="w">            </span><span class="n">for</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="mi">2</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">i</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="n">num</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="p">),</span><span class="w"> </span><span class="n">i</span><span class="p">)</span><span class="err">:</span>
<span class="w">                </span><span class="n">isPrime</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">False</span>
<span class="w">    </span><span class="n">return</span><span class="w"> </span><span class="n">primes</span>
<span class="w">    </span>
<span class="n">def</span><span class="w"> </span><span class="n">isPrime</span><span class="p">(</span><span class="n">num</span><span class="p">)</span><span class="err">:</span>
<span class="w">    </span><span class="n">if</span><span class="w"> </span><span class="n">num</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="mi">1</span><span class="err">:</span>
<span class="w">        </span><span class="n">return</span><span class="w"> </span><span class="n">False</span>
<span class="w">    </span><span class="n">elif</span><span class="w"> </span><span class="n">num</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="n">or</span><span class="w"> </span><span class="n">num</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">3</span><span class="err">:</span>
<span class="w">        </span><span class="n">return</span><span class="w"> </span><span class="n">True</span>
<span class="w">    </span><span class="n">if</span><span class="w"> </span><span class="n">num</span><span class="w"> </span><span class="err">%</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="n">or</span><span class="w"> </span><span class="n">num</span><span class="w"> </span><span class="err">%</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span><span class="err">:</span>
<span class="w">        </span><span class="n">return</span><span class="w"> </span><span class="n">False</span>
<span class="w">    </span><span class="n">if</span><span class="w"> </span><span class="n">not</span><span class="p">(</span><span class="n">num</span><span class="w"> </span><span class="err">%</span><span class="w"> </span><span class="mi">6</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span><span class="w"> </span><span class="n">and</span><span class="w"> </span><span class="n">not</span><span class="p">(</span><span class="n">num</span><span class="w"> </span><span class="err">%</span><span class="w"> </span><span class="mi">6</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">5</span><span class="p">)</span><span class="err">:</span>
<span class="w">        </span><span class="n">return</span><span class="w"> </span><span class="n">False</span>
<span class="w">    </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">5</span>
<span class="w">    </span><span class="n">while</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="n">num</span><span class="err">:</span>
<span class="w">        </span><span class="n">if</span><span class="w"> </span><span class="n">num</span><span class="w"> </span><span class="err">%</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="n">or</span><span class="w"> </span><span class="n">num</span><span class="w"> </span><span class="err">%</span><span class="w"> </span><span class="p">(</span><span class="n">i</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">2</span><span class="p">)</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span><span class="err">:</span>
<span class="w">            </span><span class="n">return</span><span class="w"> </span><span class="n">False</span>
<span class="w">        </span><span class="n">i</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="mi">6</span>
<span class="w">    </span>
<span class="w">    </span><span class="n">return</span><span class="w"> </span><span class="n">True</span>

<span class="n">def</span><span class="w"> </span><span class="n">equation</span><span class="p">(</span><span class="n">n</span><span class="p">,</span><span class="w"> </span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="n">b</span><span class="p">)</span><span class="err">:</span>
<span class="w">    </span><span class="n">return</span><span class="w"> </span><span class="n">n</span><span class="w"> </span><span class="o">**</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">n</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">b</span>

<span class="n">b</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">sieveEratosthenes</span><span class="p">(</span><span class="mi">1000</span><span class="p">)</span>
<span class="n">del</span><span class="w"> </span><span class="n">b</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>

<span class="n">maxA</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span>
<span class="n">maxB</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span>
<span class="n">maxCount</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span>

<span class="n">for</span><span class="w"> </span><span class="n">y</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">b</span><span class="err">:</span>
<span class="w">    </span><span class="n">for</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="o">-</span><span class="n">y</span><span class="p">,</span><span class="w"> </span><span class="mi">1000</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">)</span><span class="err">:</span>
<span class="w">        </span><span class="n">c</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span>
<span class="w">        </span><span class="n">while</span><span class="w"> </span><span class="n">isPrime</span><span class="p">(</span><span class="n">equation</span><span class="p">(</span><span class="n">c</span><span class="p">,</span><span class="w"> </span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="n">y</span><span class="p">))</span><span class="err">:</span>
<span class="w">            </span><span class="n">c</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="mi">1</span>
<span class="w">        </span><span class="n">if</span><span class="w"> </span><span class="n">maxCount</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">c</span><span class="err">:</span>
<span class="w">            </span><span class="n">maxA</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">x</span>
<span class="w">            </span><span class="n">maxB</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">y</span>
<span class="w">            </span><span class="n">maxCount</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">c</span>
<span class="w">            </span>
<span class="n">print</span><span class="p">(</span><span class="n">maxA</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">maxB</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="pe-28">
<h2>PE 28<a class="headerlink" href="#pe-28" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-mathematica notranslate"><div class="highlight"><pre><span></span><span class="nv">#28</span><span class="w"> </span><span class="n">Number</span><span class="w"> </span><span class="n">Spiral</span><span class="w"> </span><span class="n">Diagonals</span>
<span class="n">s</span><span class="o">=</span><span class="mi">1</span>
<span class="n">n</span><span class="o">=</span><span class="mi">1</span>
<span class="nv">#</span><span class="w"> </span><span class="n">diagonal</span><span class="w"> </span><span class="n">numbers</span><span class="w"> </span><span class="n">included</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">n</span>
<span class="nv">#</span><span class="w"> </span><span class="mi">1001-1</span><span class="o">+</span><span class="mi">2</span><span class="o">=</span><span class="mi">1002</span>
<span class="n">for</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="o">^</span><span class="p">(</span><span class="mi">3</span><span class="o">^</span><span class="mi">3</span><span class="p">),</span><span class="mi">2</span><span class="p">)</span><span class="err">:</span>
<span class="w">    </span><span class="n">for</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span><span class="err">:</span>
<span class="w">        </span><span class="n">n</span><span class="o">+=</span><span class="n">i</span>
<span class="w">        </span><span class="n">s</span><span class="o">+=</span><span class="n">n</span>
<span class="n">s</span><span class="err">%</span><span class="p">(</span><span class="mi">10</span><span class="o">^</span><span class="mi">9</span><span class="o">+</span><span class="mi">7</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="pe-29">
<h2>PE 29<a class="headerlink" href="#pe-29" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-mathematica notranslate"><div class="highlight"><pre><span></span><span class="nv">#29</span><span class="w"> </span><span class="n">Distinct</span><span class="w"> </span><span class="n">Powers</span>
<span class="nv">list_num</span><span class="o">=</span><span class="p">[]</span>
<span class="n">for</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="mi">99</span><span class="p">)</span><span class="err">:</span>
<span class="w">    </span><span class="n">n</span><span class="o">=</span><span class="n">i</span><span class="o">+</span><span class="mi">2</span>
<span class="w">    </span><span class="n">for</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="mi">99</span><span class="p">)</span><span class="err">:</span>
<span class="w">        </span><span class="n">m</span><span class="o">=</span><span class="n">j</span><span class="o">+</span><span class="mi">2</span>
<span class="w">        </span><span class="n">num</span><span class="o">=</span><span class="n">n</span><span class="o">**</span><span class="n">m</span>
<span class="w">        </span><span class="n">if</span><span class="w"> </span><span class="n">num</span><span class="w"> </span><span class="n">not</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="nv">list_num</span><span class="err">:</span>
<span class="w">            </span><span class="nv">list_num</span><span class="err">.</span><span class="n">append</span><span class="p">(</span><span class="n">num</span><span class="p">)</span>
<span class="nv">list_num</span><span class="err">.</span><span class="n">sort</span><span class="p">()</span>
<span class="n">len</span><span class="p">(</span><span class="nv">list_num</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="pe-30">
<h2>PE 30<a class="headerlink" href="#pe-30" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-mathematica notranslate"><div class="highlight"><pre><span></span><span class="nv">#30</span><span class="w"> </span><span class="n">Digit</span><span class="w"> </span><span class="n">Fifth</span><span class="w"> </span><span class="n">Powers</span>
<span class="n">def</span><span class="w"> </span><span class="n">fifth</span><span class="p">(</span><span class="n">num</span><span class="p">)</span><span class="err">:</span>
<span class="w">    </span><span class="n">n</span><span class="o">=</span><span class="p">[</span><span class="n">num</span><span class="p">]</span>
<span class="w">    </span><span class="n">output</span><span class="o">=</span><span class="n">list</span><span class="p">(</span><span class="n">map</span><span class="p">(</span><span class="n">int</span><span class="p">,</span><span class="w"> </span><span class="n">str</span><span class="p">(</span><span class="n">n</span><span class="p">[</span><span class="mi">0</span><span class="p">])))</span>
<span class="w">    </span><span class="n">for</span><span class="w"> </span><span class="n">number</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">output</span><span class="err">:</span>
<span class="w">        </span><span class="n">power</span><span class="o">=</span><span class="n">number</span><span class="o">**</span><span class="mi">5</span>
<span class="w">        </span><span class="n">num</span><span class="o">-=</span><span class="n">power</span>
<span class="w">    </span><span class="n">if</span><span class="w"> </span><span class="n">num</span><span class="o">==</span><span class="mi">0</span><span class="err">:</span>
<span class="w">        </span><span class="n">return</span><span class="w"> </span><span class="n">True</span>
<span class="w">    </span><span class="n">else</span><span class="err">:</span>
<span class="w">        </span><span class="n">return</span><span class="w"> </span><span class="n">False</span>
<span class="nv">list_num</span><span class="o">=</span><span class="p">[]</span>
<span class="nv">sum_num</span><span class="o">=</span><span class="mi">0</span>
<span class="n">for</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="mi">1000000</span><span class="p">)</span><span class="err">:</span>
<span class="w">    </span><span class="n">n</span><span class="o">=</span><span class="n">i</span><span class="o">+</span><span class="mi">2</span>
<span class="w">    </span><span class="n">if</span><span class="w"> </span><span class="n">fifth</span><span class="p">(</span><span class="n">n</span><span class="p">)</span><span class="err">:</span>
<span class="w">        </span><span class="nv">list_num</span><span class="err">.</span><span class="n">append</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
<span class="n">for</span><span class="w"> </span><span class="n">num</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="nv">list_num</span><span class="err">:</span>
<span class="w">    </span><span class="nv">sum_num</span><span class="o">+=</span><span class="n">num</span>
<span class="nv">sum_num</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-mathematica notranslate"><div class="highlight"><pre><span></span><span class="nv">#30</span><span class="w"> </span><span class="n">FP</span><span class="w"> </span><span class="n">way</span>
<span class="n">def</span><span class="w"> </span><span class="n">fifth1</span><span class="p">(</span><span class="n">num</span><span class="p">)</span><span class="err">:</span>
<span class="w">    </span><span class="n">return</span><span class="w"> </span><span class="n">num</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">sum</span><span class="p">(</span><span class="n">int</span><span class="p">(</span><span class="n">digit</span><span class="p">)</span><span class="w"> </span><span class="o">**</span><span class="w"> </span><span class="mi">5</span><span class="w"> </span><span class="n">for</span><span class="w"> </span><span class="n">digit</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">str</span><span class="p">(</span><span class="n">num</span><span class="p">))</span>

<span class="nv">sum_num1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">sum</span><span class="p">(</span><span class="n">n</span><span class="w"> </span><span class="n">for</span><span class="w"> </span><span class="n">n</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">1000000</span><span class="p">)</span><span class="w"> </span><span class="n">if</span><span class="w"> </span><span class="n">fifth1</span><span class="p">(</span><span class="n">n</span><span class="p">))</span>
<span class="nv">sum_num1</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="pe-31">
<h2>PE 31<a class="headerlink" href="#pe-31" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-mathematica notranslate"><div class="highlight"><pre><span></span><span class="nv">#</span><span class="w"> </span><span class="n">GF</span><span class="w"> </span><span class="n">approach</span><span class="w"> </span>
<span class="n">def</span><span class="w"> </span><span class="nv">euler31_series</span><span class="p">()</span><span class="err">:</span>
<span class="w">    </span><span class="n">R</span><span class="err">.</span><span class="o">&lt;</span><span class="n">x</span><span class="o">&gt;</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">PowerSeriesRing</span><span class="p">(</span><span class="n">ZZ</span><span class="p">,</span><span class="w"> </span><span class="nv">default_prec</span><span class="o">=</span><span class="mi">201</span><span class="p">)</span>
<span class="w">    </span><span class="n">p1</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="o">/</span><span class="p">(</span><span class="mi">1</span><span class="o">-</span><span class="n">x</span><span class="p">)</span><span class="w">           </span><span class="nv">#</span><span class="w"> </span><span class="mi">1</span><span class="n">p</span>
<span class="w">    </span><span class="n">p2</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="o">/</span><span class="p">(</span><span class="mi">1</span><span class="o">-</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span><span class="p">)</span><span class="w">         </span><span class="nv">#</span><span class="w"> </span><span class="mi">2</span><span class="n">p</span>
<span class="w">    </span><span class="n">p5</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="o">/</span><span class="p">(</span><span class="mi">1</span><span class="o">-</span><span class="n">x</span><span class="o">^</span><span class="mi">5</span><span class="p">)</span><span class="w">         </span><span class="nv">#</span><span class="w"> </span><span class="mi">5</span><span class="n">p</span>
<span class="w">    </span><span class="n">p10</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="o">/</span><span class="p">(</span><span class="mi">1</span><span class="o">-</span><span class="n">x</span><span class="o">^</span><span class="mi">10</span><span class="p">)</span><span class="w">        </span><span class="nv">#</span><span class="w"> </span><span class="mi">10</span><span class="n">p</span>
<span class="w">    </span><span class="n">p20</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="o">/</span><span class="p">(</span><span class="mi">1</span><span class="o">-</span><span class="n">x</span><span class="o">^</span><span class="mi">20</span><span class="p">)</span><span class="w">        </span><span class="nv">#</span><span class="w"> </span><span class="mi">20</span><span class="n">p</span>
<span class="w">    </span><span class="n">p50</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="o">/</span><span class="p">(</span><span class="mi">1</span><span class="o">-</span><span class="n">x</span><span class="o">^</span><span class="mi">50</span><span class="p">)</span><span class="w">        </span><span class="nv">#</span><span class="w"> </span><span class="mi">50</span><span class="n">p</span>
<span class="w">    </span><span class="n">p100</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="o">/</span><span class="p">(</span><span class="mi">1</span><span class="o">-</span><span class="n">x</span><span class="o">^</span><span class="mi">100</span><span class="p">)</span><span class="w">      </span><span class="nv">#</span><span class="w"> </span><span class="err"></span><span class="mi">1</span>
<span class="w">    </span><span class="n">p200</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">x</span><span class="o">^</span><span class="mi">200</span><span class="w">        </span><span class="nv">#</span><span class="w"> </span><span class="err"></span><span class="mi">2</span><span class="w"> </span><span class="p">(</span><span class="n">only</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="n">or</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="n">coin</span><span class="p">)</span>
<span class="w">    </span><span class="n">f</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">p1</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">p2</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">p5</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">p10</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">p20</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">p50</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">p100</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">p200</span>
<span class="w">    </span><span class="n">return</span><span class="w"> </span><span class="n">f</span><span class="p">[</span><span class="mi">200</span><span class="p">]</span>
<span class="n">print</span><span class="p">(</span><span class="nv">euler31_series</span><span class="p">())</span><span class="w">         </span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-mathematica notranslate"><div class="highlight"><pre><span></span><span class="n">R</span><span class="err">.</span><span class="o">&lt;</span><span class="n">x</span><span class="o">&gt;</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">PowerSeriesRing</span><span class="p">(</span><span class="n">ZZ</span><span class="p">,</span><span class="w"> </span><span class="mi">201</span><span class="p">)</span>
<span class="n">s</span><span class="p">(</span><span class="n">prod</span><span class="p">(</span><span class="mi">1</span><span class="o">/</span><span class="p">(</span><span class="mi">1</span><span class="o">-</span><span class="n">x</span><span class="o">^</span><span class="n">d</span><span class="p">)</span><span class="w"> </span><span class="n">for</span><span class="w"> </span><span class="n">d</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">20</span><span class="p">,</span><span class="mi">50</span><span class="p">,</span><span class="mi">100</span><span class="p">])</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="p">(</span><span class="mi">1</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">x</span><span class="o">^</span><span class="mi">200</span><span class="p">))</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-mathematica notranslate"><div class="highlight"><pre><span></span><span class="nv">#</span><span class="w"> </span><span class="mi">31</span><span class="w"> </span><span class="n">Coin</span><span class="w"> </span><span class="n">Sums</span><span class="err">:</span><span class="w"> </span><span class="n">use</span><span class="w"> </span><span class="n">graph</span><span class="w"> </span><span class="n">traversal</span><span class="w"> </span><span class="p">(</span><span class="n">DFS</span><span class="p">)</span><span class="w"> </span><span class="n">with</span><span class="w"> </span><span class="n">memoization</span>
<span class="n">from</span><span class="w"> </span><span class="n">functools</span><span class="w"> </span><span class="n">import</span><span class="w"> </span><span class="nv">lru_cache</span>
<span class="nv">valid_coins</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w"> </span><span class="mi">20</span><span class="p">,</span><span class="w"> </span><span class="mi">50</span><span class="p">,</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w"> </span><span class="mi">200</span><span class="p">]</span><span class="w"> </span>
<span class="o">@</span><span class="nv">lru_cache</span><span class="p">(</span><span class="n">None</span><span class="p">)</span><span class="w">  </span><span class="nv">#</span><span class="w"> </span><span class="n">memoizes</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">function</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">avoid</span><span class="w"> </span><span class="n">redundant</span><span class="w"> </span><span class="n">calculations</span>
<span class="n">def</span><span class="w"> </span><span class="nv">graph_search_ways</span><span class="p">(</span><span class="n">n</span><span class="p">,</span><span class="w"> </span><span class="nv">max_coin</span><span class="p">)</span><span class="err">:</span>
<span class="w">    </span><span class="n">if</span><span class="w"> </span><span class="n">n</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span><span class="err">:</span>
<span class="w">        </span><span class="n">return</span><span class="w"> </span><span class="mi">1</span>
<span class="w">    </span><span class="n">return</span><span class="w"> </span><span class="n">sum</span><span class="p">(</span>
<span class="w">        </span><span class="nv">graph_search_ways</span><span class="p">(</span><span class="n">n</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">coin</span><span class="p">,</span><span class="w"> </span><span class="n">coin</span><span class="p">)</span><span class="w"> </span><span class="nv">#</span><span class="w"> </span><span class="n">Recursive</span><span class="w"> </span><span class="n">but</span><span class="w"> </span><span class="n">not</span><span class="w"> </span><span class="n">loop</span>
<span class="w">        </span><span class="n">if</span><span class="w"> </span><span class="n">coin</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="nv">max_coin</span><span class="w"> </span><span class="n">and</span><span class="w"> </span><span class="n">coin</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="n">n</span><span class="w"> </span><span class="n">else</span><span class="w"> </span><span class="mi">0</span>
<span class="w">        </span><span class="n">for</span><span class="w"> </span><span class="n">coin</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="nv">valid_coins</span>
<span class="w">    </span><span class="p">)</span>

<span class="nv">graph_search_ways</span><span class="p">(</span><span class="mi">1000</span><span class="p">,</span><span class="mi">200</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-mathematica notranslate"><div class="highlight"><pre><span></span><span class="c">(* 31 Coin Sums: use graph traversal (DFS) with memoization*)</span>
<span class="c">(* learn functions:</span>
<span class="c">    ClearAll[] </span>
<span class="c">    Memoization(:= ... =): store results to avoid recalculating for the same pair</span>
<span class="c">    Table[]: loop over each coin in validCoins *)</span>
<span class="n">ClearAll</span><span class="p">[</span><span class="n">graphSearchWays</span><span class="p">];</span>
<span class="n">validCoins</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w"> </span><span class="mi">20</span><span class="p">,</span><span class="w"> </span><span class="mi">50</span><span class="p">,</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w"> </span><span class="mi">200</span><span class="p">};</span>
<span class="n">graphSearchWays</span><span class="p">[</span><span class="nv">n_</span><span class="p">,</span><span class="w"> </span><span class="nv">maxCoin_</span><span class="p">]</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="n">graphSearchWays</span><span class="p">[</span><span class="n">n</span><span class="p">,</span><span class="w"> </span><span class="n">maxCoin</span><span class="p">]</span><span class="w"> </span><span class="o">=</span>
<span class="w">  </span><span class="n">If</span><span class="p">[</span><span class="n">n</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span>
<span class="w">          </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span>
<span class="w">   </span><span class="n">Total</span><span class="p">[</span><span class="n">Table</span><span class="p">[</span><span class="n">If</span><span class="p">[</span><span class="n">coin</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="n">maxCoin</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">coin</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="n">n</span><span class="w"> </span>
<span class="w">                  </span><span class="p">,</span><span class="w"> </span><span class="n">graphSearchWays</span><span class="p">[</span><span class="n">n</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">coin</span><span class="p">,</span><span class="w"> </span><span class="n">coin</span><span class="p">]</span>
<span class="w">                  </span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">],</span><span class="w"> </span><span class="p">{</span><span class="n">coin</span><span class="p">,</span><span class="w"> </span><span class="n">validCoins</span><span class="p">}]</span><span class="w"> </span><span class="p">]];</span>

<span class="n">graphSearchWays</span><span class="p">[</span><span class="mi">200</span><span class="p">,</span><span class="w"> </span><span class="mi">200</span><span class="p">]</span><span class="w"> </span><span class="c">(*calculate n of total pairs*)</span>
<span class="n">TreeForm</span><span class="p">[</span><span class="w"> </span><span class="c">(*see logic structure*)</span>
<span class="w">  </span><span class="n">If</span><span class="p">[</span><span class="n">n</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span>
<span class="w">  </span><span class="n">Total</span><span class="p">[</span><span class="n">Table</span><span class="p">[</span><span class="n">If</span><span class="p">[</span><span class="n">coin</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="n">maxCoin</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">coin</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="n">n</span><span class="p">,</span><span class="w"> </span>
<span class="w">              </span><span class="n">graphSearchWays</span><span class="p">[</span><span class="n">n</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">coin</span><span class="p">,</span><span class="w"> </span><span class="n">coin</span><span class="p">],</span><span class="w"> </span>
<span class="w">              </span><span class="mi">0</span><span class="p">],</span><span class="w"> </span><span class="p">{</span><span class="n">coin</span><span class="p">,</span><span class="w"> </span><span class="n">validCoins</span><span class="p">}]]]]</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="pe-32">
<h2>PE 32<a class="headerlink" href="#pe-32" title="Link to this heading">#</a></h2>
<p>Math easy, coding hard.</p>
<ol class="arabic simple">
<li><p>memoization use (:=  )</p></li>
<li><p>gen number from digits using string, all possible combinations of digits where each digit be used only once</p></li>
<li><p>I tried numerically way, but computing time doubled</p></li>
<li><p>IntegerString[], Characters[]</p></li>
<li><p>Flatten[], flatten nested lists</p></li>
<li><p>Apply[] -&gt; &#64;&#64;</p></li>
</ol>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-mathematica notranslate"><div class="highlight"><pre><span></span><span class="nv">#32</span><span class="w"> </span><span class="n">Pandigital</span><span class="w"> </span><span class="n">Products</span>
<span class="n">def</span><span class="w"> </span><span class="n">checkPandigital</span><span class="p">(</span><span class="n">b</span><span class="p">,</span><span class="w"> </span><span class="n">n</span><span class="p">)</span><span class="err">:</span>
<span class="w">	</span><span class="n">if</span><span class="w"> </span><span class="p">(</span><span class="n">len</span><span class="p">(</span><span class="n">n</span><span class="p">)</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">b</span><span class="p">)</span><span class="err">:</span>
<span class="w">		</span><span class="n">return</span><span class="w"> </span><span class="mi">0</span>
<span class="w">	</span><span class="n">hash</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">b</span>
<span class="w">	</span><span class="n">for</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="n">len</span><span class="p">(</span><span class="n">n</span><span class="p">))</span><span class="err">:</span>
<span class="w">		</span><span class="n">if</span><span class="w"> </span><span class="p">(</span><span class="n">n</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="err">&#39;</span><span class="mi">0</span><span class="err">&#39;</span><span class="w"> </span><span class="n">and</span><span class="w"> </span><span class="n">n</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="err">&#39;</span><span class="mi">9</span><span class="err">&#39;</span><span class="p">)</span><span class="err">:</span>
<span class="w">			</span><span class="n">hash</span><span class="p">[</span><span class="n">ord</span><span class="p">(</span><span class="n">n</span><span class="p">[</span><span class="n">i</span><span class="p">])</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">ord</span><span class="p">(</span><span class="err">&#39;</span><span class="mi">0</span><span class="err">&#39;</span><span class="p">)]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span>
<span class="w">		</span><span class="n">else</span><span class="err">:</span>
<span class="w">			</span><span class="n">if</span><span class="w"> </span><span class="p">(</span><span class="n">ord</span><span class="p">(</span><span class="n">n</span><span class="p">[</span><span class="n">i</span><span class="p">])</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">ord</span><span class="p">(</span><span class="err">&#39;</span><span class="n">A</span><span class="err">&#39;</span><span class="p">)</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="n">b</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">11</span><span class="p">)</span><span class="err">:</span>
<span class="w">			    </span><span class="n">hash</span><span class="p">[</span><span class="n">ord</span><span class="p">(</span><span class="n">n</span><span class="p">[</span><span class="n">i</span><span class="p">])</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">ord</span><span class="p">(</span><span class="err">&#39;</span><span class="n">A</span><span class="err">&#39;</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">10</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span>
<span class="w">	</span><span class="n">for</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="n">b</span><span class="p">)</span><span class="err">:</span>
<span class="w">		</span><span class="n">if</span><span class="w"> </span><span class="p">(</span><span class="n">hash</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="err">:</span>
<span class="w">			</span><span class="n">return</span><span class="w"> </span><span class="mi">0</span>
<span class="w">	</span><span class="n">return</span><span class="w"> </span><span class="mi">1</span>
<span class="nv">#</span><span class="n">cal</span>
<span class="n">b</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">13</span>
<span class="n">n</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;1298450376ABC&quot;</span>
<span class="n">if</span><span class="w"> </span><span class="p">(</span><span class="n">checkPandigital</span><span class="p">(</span><span class="n">b</span><span class="p">,</span><span class="w"> </span><span class="n">n</span><span class="p">))</span><span class="err">:</span>
<span class="w">	</span><span class="n">print</span><span class="p">(</span><span class="s">&quot;Yes&quot;</span><span class="p">)</span>
<span class="n">else</span><span class="err">:</span>
<span class="w">	</span><span class="n">print</span><span class="p">(</span><span class="s">&quot;No&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-mathematica notranslate"><div class="highlight"><pre><span></span><span class="c">(* 32 Pandigital Products *)</span>
<span class="c">(* Check if the concatenation of x, y, product forms a 1-9 pandigital number stringly*)</span>
<span class="n">pandigitalQ</span><span class="p">[</span><span class="nv">x_</span><span class="p">,</span><span class="w"> </span><span class="nv">y_</span><span class="p">,</span><span class="w"> </span><span class="nv">xy_</span><span class="p">]</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span>
<span class="w">  </span><span class="n">StringLength</span><span class="p">[</span><span class="w"> </span><span class="n">str</span><span class="o">=</span><span class="n">IntegerString</span><span class="p">[</span><span class="n">x</span><span class="p">]</span><span class="w"> </span><span class="o">&lt;&gt;</span><span class="w"> </span><span class="n">IntegerString</span><span class="p">[</span><span class="n">y</span><span class="p">]</span><span class="w"> </span><span class="o">&lt;&gt;</span><span class="w"> </span><span class="n">IntegerString</span><span class="p">[</span><span class="n">xy</span><span class="p">]</span><span class="w"> </span><span class="p">]</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">9</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span>
<span class="w">  </span><span class="n">Sort</span><span class="p">[</span><span class="n">Characters</span><span class="p">[</span><span class="n">str</span><span class="p">]]</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">Characters</span><span class="p">[</span><span class="s">&quot;123456789&quot;</span><span class="p">]</span><span class="w"> </span><span class="p">;</span><span class="w"> </span>

<span class="c">(* List all valid xy then sum *)</span>
<span class="n">pandigitalProducts</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">DeleteDuplicates</span><span class="p">[</span>
<span class="w">    </span><span class="n">Select</span><span class="p">[</span><span class="w"> </span><span class="n">Flatten</span><span class="p">[</span><span class="w"> </span><span class="n">Table</span><span class="p">[{</span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="n">y</span><span class="p">,</span><span class="w"> </span><span class="n">x</span><span class="o">*</span><span class="n">y</span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">99</span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="n">y</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">9999</span><span class="p">}],</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="p">]</span>
<span class="w">          </span><span class="p">,</span><span class="w"> </span><span class="n">pandigitalQ</span><span class="w"> </span><span class="o">@@</span><span class="w"> </span><span class="nv">#</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="p">]</span>
<span class="w">          </span><span class="p">[[</span><span class="n">All</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">]]</span><span class="w"> </span><span class="p">]</span>

<span class="n">Total</span><span class="p">[</span><span class="n">pandigitalProducts</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="pe-33">
<h2>PE 33<a class="headerlink" href="#pe-33" title="Link to this heading">#</a></h2>
<p>Methods &amp; Process</p>
<ul class="simple">
<li><p>check for 2 digit numerators and denominators
49/98=4/8, 3 left to go</p></li>
<li><p>must have at least one common digit between numerator and denominator</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-mathematica notranslate"><div class="highlight"><pre><span></span><span class="nv">#</span><span class="w"> </span><span class="mi">33</span><span class="w"> </span><span class="n">Digit</span><span class="w"> </span><span class="n">Cancelling</span><span class="w"> </span><span class="n">Fractions</span>
<span class="n">for</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">100</span><span class="p">)</span><span class="err">:</span>
<span class="w">    </span><span class="n">for</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span><span class="mi">100</span><span class="p">)</span><span class="err">:</span>
<span class="w">        </span><span class="n">if</span><span class="w"> </span><span class="n">i</span><span class="err">%</span><span class="mi">10</span><span class="o">!=</span><span class="mi">0</span><span class="w"> </span><span class="n">or</span><span class="w"> </span><span class="n">j</span><span class="err">%</span><span class="mi">10</span><span class="o">!=</span><span class="mi">0</span><span class="err">:</span>
<span class="w">            </span><span class="n">numerator</span><span class="o">=</span><span class="n">list</span><span class="p">(</span><span class="n">map</span><span class="p">(</span><span class="n">int</span><span class="p">,</span><span class="n">str</span><span class="p">(</span><span class="n">i</span><span class="p">)))</span>
<span class="w">            </span><span class="n">denominator</span><span class="o">=</span><span class="n">list</span><span class="p">(</span><span class="n">map</span><span class="p">(</span><span class="n">int</span><span class="p">,</span><span class="n">str</span><span class="p">(</span><span class="n">j</span><span class="p">)))</span>
<span class="w">            </span><span class="n">fraction</span><span class="o">=</span><span class="n">i</span><span class="o">/</span><span class="n">j</span>
<span class="w">            </span><span class="n">try</span><span class="err">:</span>
<span class="w">                </span><span class="n">if</span><span class="w"> </span><span class="n">numerator</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">==</span><span class="n">denominator</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="w"> </span><span class="n">and</span><span class="w"> </span><span class="n">numerator</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">!=</span><span class="n">denominator</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="w"> </span><span class="n">and</span><span class="w"> </span><span class="n">fraction</span><span class="o">==</span><span class="n">numerator</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">/</span><span class="n">denominator</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="err">:</span>
<span class="w">                    </span><span class="n">print</span><span class="p">(</span><span class="n">i</span><span class="p">,</span><span class="n">j</span><span class="p">)</span>
<span class="w">                </span><span class="n">elif</span><span class="w"> </span><span class="n">numerator</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">==</span><span class="n">denominator</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="w"> </span><span class="n">and</span><span class="w"> </span><span class="n">numerator</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">!=</span><span class="n">denominator</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="w"> </span><span class="n">and</span><span class="w"> </span><span class="n">fraction</span><span class="o">==</span><span class="n">numerator</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">/</span><span class="n">denominator</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="err">:</span>
<span class="w">                    </span><span class="n">print</span><span class="p">(</span><span class="n">i</span><span class="p">,</span><span class="n">j</span><span class="p">)</span>
<span class="w">                </span><span class="n">elif</span><span class="w"> </span><span class="n">numerator</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">==</span><span class="n">denominator</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="w"> </span><span class="n">and</span><span class="w"> </span><span class="n">numerator</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">!=</span><span class="n">denominator</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="w"> </span><span class="n">and</span><span class="w"> </span><span class="n">fraction</span><span class="o">==</span><span class="n">numerator</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">/</span><span class="n">denominator</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="err">:</span>
<span class="w">                    </span><span class="n">print</span><span class="p">(</span><span class="n">i</span><span class="p">,</span><span class="n">j</span><span class="p">)</span>
<span class="w">                </span><span class="n">elif</span><span class="w"> </span><span class="n">numerator</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">==</span><span class="n">denominator</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="w"> </span><span class="n">and</span><span class="w"> </span><span class="n">numerator</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">!=</span><span class="n">denominator</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="w"> </span><span class="n">and</span><span class="w"> </span><span class="n">fraction</span><span class="o">==</span><span class="n">numerator</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">/</span><span class="n">denominator</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="err">:</span>
<span class="w">                    </span><span class="n">print</span><span class="p">(</span><span class="n">i</span><span class="p">,</span><span class="n">j</span><span class="p">)</span>
<span class="w">            </span><span class="n">except</span><span class="err">:</span>
<span class="w">                </span><span class="n">pass</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="pe-34">
<h2>PE 34<a class="headerlink" href="#pe-34" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-mathematica notranslate"><div class="highlight"><pre><span></span><span class="nv">#34</span><span class="w"> </span><span class="n">Digit</span><span class="w"> </span><span class="n">Factorials</span>
<span class="n">def</span><span class="w"> </span><span class="n">spefact</span><span class="p">(</span><span class="n">num</span><span class="p">)</span><span class="err">:</span>
<span class="w">    </span><span class="n">n</span><span class="o">=</span><span class="p">[</span><span class="n">num</span><span class="p">]</span>
<span class="w">    </span><span class="n">output</span><span class="o">=</span><span class="n">list</span><span class="p">(</span><span class="n">map</span><span class="p">(</span><span class="n">int</span><span class="p">,</span><span class="w"> </span><span class="n">str</span><span class="p">(</span><span class="n">n</span><span class="p">[</span><span class="mi">0</span><span class="p">])))</span>
<span class="w">    </span><span class="n">for</span><span class="w"> </span><span class="n">number</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">output</span><span class="err">:</span>
<span class="w">        </span><span class="n">fac</span><span class="o">=</span><span class="n">factorial</span><span class="p">(</span><span class="n">number</span><span class="p">)</span>
<span class="w">        </span><span class="n">num</span><span class="o">-=</span><span class="n">fac</span>
<span class="w">    </span><span class="n">if</span><span class="w"> </span><span class="n">num</span><span class="o">==</span><span class="mi">0</span><span class="err">:</span>
<span class="w">        </span><span class="n">return</span><span class="w"> </span><span class="n">True</span>
<span class="w">    </span><span class="n">else</span><span class="err">:</span>
<span class="w">        </span><span class="n">return</span><span class="w"> </span><span class="n">False</span>
<span class="nv">list_num</span><span class="o">=</span><span class="p">[]</span>
<span class="nv">sum_num</span><span class="o">=</span><span class="mi">0</span>
<span class="n">for</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="mi">1850000</span><span class="p">)</span><span class="err">:</span>
<span class="w">    </span><span class="n">n</span><span class="o">=</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span>
<span class="w">    </span><span class="n">if</span><span class="w"> </span><span class="n">spefact</span><span class="p">(</span><span class="n">n</span><span class="p">)</span><span class="err">:</span>
<span class="w">        </span><span class="nv">list_num</span><span class="err">.</span><span class="n">append</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
<span class="w">        </span><span class="n">print</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
<span class="n">for</span><span class="w"> </span><span class="n">num</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="nv">list_num</span><span class="err">:</span>
<span class="w">    </span><span class="nv">sum_num</span><span class="o">+=</span><span class="n">num</span>
<span class="nv">sum_num</span><span class="o">-=</span><span class="mi">3</span>
<span class="nv">sum_num</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-mathematica notranslate"><div class="highlight"><pre><span></span><span class="nv">#34</span><span class="w"> </span><span class="n">FP</span><span class="w"> </span><span class="n">way</span>
<span class="n">from</span><span class="w"> </span><span class="n">math</span><span class="w"> </span><span class="n">import</span><span class="w"> </span><span class="n">factorial</span>

<span class="n">factorials</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="n">str</span><span class="p">(</span><span class="n">d</span><span class="p">)</span><span class="err">:</span><span class="w"> </span><span class="n">factorial</span><span class="p">(</span><span class="n">d</span><span class="p">)</span><span class="w"> </span><span class="n">for</span><span class="w"> </span><span class="n">d</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="mi">10</span><span class="p">)}</span><span class="w"> </span><span class="nv">#</span><span class="w"> </span><span class="n">Precompute</span><span class="w"> </span><span class="n">factorials</span><span class="w"> </span><span class="n">for</span><span class="w"> </span><span class="n">digits</span><span class="w"> </span><span class="mi">0-9</span>
<span class="n">def</span><span class="w"> </span><span class="nv">is_digit_factorial</span><span class="p">(</span><span class="n">num</span><span class="p">)</span><span class="err">:</span>
<span class="w">    </span><span class="n">return</span><span class="w"> </span><span class="n">num</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">sum</span><span class="p">(</span><span class="n">factorials</span><span class="p">[</span><span class="n">digit</span><span class="p">]</span><span class="w"> </span><span class="n">for</span><span class="w"> </span><span class="n">digit</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">str</span><span class="p">(</span><span class="n">num</span><span class="p">))</span>

<span class="nv">sum_num</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">sum</span><span class="p">(</span><span class="n">n</span><span class="w"> </span><span class="n">for</span><span class="w"> </span><span class="n">n</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="w"> </span><span class="mi">1850000</span><span class="p">)</span><span class="w"> </span><span class="n">if</span><span class="w"> </span><span class="nv">is_digit_factorial</span><span class="p">(</span><span class="n">n</span><span class="p">))</span>
<span class="nv">sum_num</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="pe-35">
<h2>PE 35<a class="headerlink" href="#pe-35" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-mathematica notranslate"><div class="highlight"><pre><span></span><span class="nv">#35</span><span class="w"> </span><span class="n">Circular</span><span class="w"> </span><span class="n">Sums</span>
<span class="n">def</span><span class="w"> </span><span class="nv">list_to_int</span><span class="p">(</span><span class="n">lst</span><span class="p">)</span><span class="err">:</span>
<span class="w">    </span><span class="n">n</span><span class="o">=</span><span class="err">&#39;&#39;</span>
<span class="w">    </span><span class="n">for</span><span class="w"> </span><span class="n">item</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">lst</span><span class="err">:</span>
<span class="w">        </span><span class="n">n</span><span class="o">=</span><span class="n">n</span><span class="o">+</span><span class="n">str</span><span class="p">(</span><span class="n">item</span><span class="p">)</span>
<span class="w">    </span><span class="n">return</span><span class="w"> </span><span class="n">int</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>

<span class="n">def</span><span class="w"> </span><span class="nv">circular_prime1</span><span class="p">(</span><span class="n">n</span><span class="p">)</span><span class="err">:</span>
<span class="w">    </span><span class="n">if</span><span class="w"> </span><span class="n">prime</span><span class="p">(</span><span class="n">n</span><span class="p">)</span><span class="o">==</span><span class="n">False</span><span class="err">:</span>
<span class="w">        </span><span class="n">return</span><span class="w"> </span><span class="n">False</span>
<span class="w">    </span><span class="n">else</span><span class="err">:</span>
<span class="w">        </span><span class="nv">list_prime</span><span class="o">=</span><span class="p">[]</span>
<span class="w">        </span><span class="n">while</span><span class="w"> </span><span class="n">len</span><span class="p">(</span><span class="nv">list_prime</span><span class="p">)</span><span class="o">&lt;</span><span class="n">length</span><span class="p">(</span><span class="n">n</span><span class="p">)</span><span class="err">:</span>
<span class="w">            </span><span class="n">output</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">list</span><span class="p">(</span><span class="n">map</span><span class="p">(</span><span class="n">int</span><span class="p">,</span><span class="w"> </span><span class="n">str</span><span class="p">(</span><span class="n">n</span><span class="p">)))</span>
<span class="w">            </span><span class="nv">list_prime</span><span class="err">.</span><span class="n">append</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
<span class="w">            </span><span class="n">if</span><span class="w"> </span><span class="n">prime</span><span class="p">(</span><span class="n">n</span><span class="p">)</span><span class="o">==</span><span class="n">False</span><span class="err">:</span>
<span class="w">                </span><span class="n">return</span><span class="w"> </span><span class="n">False</span>
<span class="w">            </span><span class="n">else</span><span class="err">:</span>
<span class="w">                </span><span class="n">first</span><span class="o">=</span><span class="n">output</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="w">                </span><span class="n">output</span><span class="err">.</span><span class="n">remove</span><span class="p">(</span><span class="n">first</span><span class="p">)</span>
<span class="w">                </span><span class="n">output</span><span class="err">.</span><span class="n">append</span><span class="p">(</span><span class="n">first</span><span class="p">)</span>
<span class="w">                </span><span class="n">n</span><span class="o">=</span><span class="nv">list_to_int</span><span class="p">(</span><span class="n">output</span><span class="p">)</span>
<span class="w">        </span><span class="n">for</span><span class="w"> </span><span class="n">prime1</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="nv">list_prime</span><span class="err">:</span>
<span class="w">            </span><span class="n">if</span><span class="w"> </span><span class="n">prime</span><span class="p">(</span><span class="n">prime1</span><span class="p">)</span><span class="o">==</span><span class="n">False</span><span class="err">:</span>
<span class="w">                </span><span class="n">return</span><span class="w"> </span><span class="n">False</span>
<span class="w">        </span><span class="n">return</span><span class="w"> </span><span class="n">True</span>

<span class="nv">#</span><span class="n">cal</span>
<span class="nv">list_circ</span><span class="o">=</span><span class="p">[]</span>
<span class="n">for</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="mi">999998</span><span class="p">)</span><span class="err">:</span>
<span class="w">    </span><span class="n">if</span><span class="w"> </span><span class="n">i</span><span class="err">%</span><span class="mi">100</span><span class="o">==</span><span class="mi">0</span><span class="err">:</span>
<span class="w">        </span><span class="n">print</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
<span class="w">    </span><span class="n">n</span><span class="o">=</span><span class="n">i</span><span class="o">+</span><span class="mi">2</span>
<span class="w">    </span><span class="n">if</span><span class="w"> </span><span class="nv">circular_prime1</span><span class="p">(</span><span class="n">n</span><span class="p">)</span><span class="o">==</span><span class="n">True</span><span class="err">:</span>
<span class="w">        </span><span class="nv">list_circ</span><span class="err">.</span><span class="n">append</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
<span class="nv">list_circ</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-mathematica notranslate"><div class="highlight"><pre><span></span><span class="nv">#35</span><span class="w"> </span><span class="n">FP</span>
<span class="n">from</span><span class="w"> </span><span class="n">sympy</span><span class="w"> </span><span class="n">import</span><span class="w"> </span><span class="n">isprime</span><span class="w">  </span><span class="nv">#</span><span class="w"> </span><span class="n">how</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">we</span><span class="w"> </span><span class="n">use</span><span class="w"> </span><span class="n">Jonny</span><span class="o">-</span><span class="n">defined</span><span class="w"> </span><span class="n">function</span><span class="w"> </span><span class="n">here</span><span class="o">?</span><span class="w"> </span>

<span class="n">def</span><span class="w"> </span><span class="n">rotations</span><span class="p">(</span><span class="n">num</span><span class="p">)</span><span class="err">:</span><span class="w">  </span><span class="nv">#</span><span class="w"> </span><span class="n">Function</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">get</span><span class="w"> </span><span class="n">all</span><span class="w"> </span><span class="n">rotations</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">number</span>
<span class="w">    </span><span class="n">s</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">str</span><span class="p">(</span><span class="n">num</span><span class="p">)</span>
<span class="w">    </span><span class="n">return</span><span class="w"> </span><span class="p">[</span><span class="n">int</span><span class="p">(</span><span class="n">s</span><span class="p">[</span><span class="n">i</span><span class="err">:</span><span class="p">]</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">s</span><span class="p">[</span><span class="err">:</span><span class="n">i</span><span class="p">])</span><span class="w"> </span><span class="n">for</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="n">len</span><span class="p">(</span><span class="n">s</span><span class="p">))]</span>

<span class="n">def</span><span class="w"> </span><span class="nv">is_circular_prime</span><span class="p">(</span><span class="n">num</span><span class="p">)</span><span class="err">:</span>
<span class="w">    </span><span class="n">return</span><span class="w"> </span><span class="n">all</span><span class="p">(</span><span class="n">isprime</span><span class="p">(</span><span class="n">rot</span><span class="p">)</span><span class="w"> </span><span class="n">for</span><span class="w"> </span><span class="n">rot</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">rotations</span><span class="p">(</span><span class="n">num</span><span class="p">))</span>

<span class="nv">circular_primes</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="n">n</span><span class="w"> </span><span class="n">for</span><span class="w"> </span><span class="n">n</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">999999</span><span class="p">)</span><span class="w"> </span><span class="n">if</span><span class="w"> </span><span class="nv">is_circular_prime</span><span class="p">(</span><span class="n">n</span><span class="p">)]</span>
<span class="nv">circular_primes</span><span class="w"> </span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-mathematica notranslate"><div class="highlight"><pre><span></span><span class="c">(*35 Circular Sums*)</span><span class="w"> </span>
<span class="n">rotations</span><span class="p">[</span><span class="nv">n_Integer</span><span class="p">]</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="n">Module</span><span class="p">[{</span><span class="n">digits</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">IntegerDigits</span><span class="p">[</span><span class="n">n</span><span class="p">]},</span>
<span class="w">  </span><span class="n">FromDigits</span><span class="w"> </span><span class="o">/@</span><span class="w"> </span><span class="n">NestList</span><span class="p">[</span><span class="n">RotateLeft</span><span class="p">,</span><span class="w"> </span><span class="n">digits</span><span class="p">,</span><span class="w"> </span><span class="n">Length</span><span class="p">[</span><span class="n">digits</span><span class="p">]</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">1</span><span class="p">]]</span>

<span class="n">isCircularPrime</span><span class="p">[</span><span class="nv">n_Integer</span><span class="p">]</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="n">AllTrue</span><span class="p">[</span><span class="n">rotations</span><span class="p">[</span><span class="n">n</span><span class="p">],</span><span class="w"> </span><span class="n">PrimeQ</span><span class="p">]</span><span class="w"> </span><span class="c">(*if all rotations of a number are prime*)</span>
<span class="n">circularPrimes</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Select</span><span class="p">[</span><span class="n">Range</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">999999</span><span class="p">],</span><span class="w"> </span><span class="n">isCircularPrime</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="pe-36">
<h2>PE 36<a class="headerlink" href="#pe-36" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-mathematica notranslate"><div class="highlight"><pre><span></span><span class="nv">#36</span><span class="w"> </span><span class="n">Double</span><span class="w"> </span><span class="n">Base</span><span class="w"> </span><span class="n">Palindromes</span>
<span class="n">def</span><span class="w"> </span><span class="n">binary</span><span class="p">(</span><span class="n">num</span><span class="p">)</span><span class="err">:</span>
<span class="w">    </span><span class="n">return</span><span class="w"> </span><span class="n">int</span><span class="p">(</span><span class="n">bin</span><span class="p">(</span><span class="n">num</span><span class="p">)[</span><span class="mi">2</span><span class="err">:</span><span class="p">])</span>
<span class="nv">list_num</span><span class="o">=</span><span class="p">[]</span>
<span class="n">for</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="mi">1000000</span><span class="p">)</span><span class="err">:</span>
<span class="w">    </span><span class="n">if</span><span class="w"> </span><span class="n">palin</span><span class="p">(</span><span class="n">i</span><span class="p">)</span><span class="w"> </span><span class="n">and</span><span class="w"> </span><span class="n">palin</span><span class="p">(</span><span class="n">binary</span><span class="p">(</span><span class="n">i</span><span class="p">))</span><span class="err">:</span>
<span class="w">        </span><span class="nv">list_num</span><span class="err">.</span><span class="n">append</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
<span class="nv">sum_num</span><span class="o">=</span><span class="mi">0</span>
<span class="n">for</span><span class="w"> </span><span class="n">number</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="nv">list_num</span><span class="err">:</span>
<span class="w">    </span><span class="nv">sum_num</span><span class="o">+=</span><span class="n">number</span>
<span class="nv">sum_num</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="pe-37">
<h2>PE 37<a class="headerlink" href="#pe-37" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-mathematica notranslate"><div class="highlight"><pre><span></span><span class="nv">#37</span><span class="w"> </span><span class="n">Truncatable</span><span class="w"> </span><span class="n">Primes</span>
<span class="n">def</span><span class="w"> </span><span class="n">truncatable</span><span class="p">(</span><span class="n">num</span><span class="p">)</span><span class="err">:</span>
<span class="w">    </span><span class="n">input</span><span class="o">=</span><span class="n">list</span><span class="p">(</span><span class="n">map</span><span class="p">(</span><span class="n">int</span><span class="p">,</span><span class="w"> </span><span class="n">str</span><span class="p">(</span><span class="n">num</span><span class="p">)))</span>
<span class="w">    </span><span class="n">inp</span><span class="o">=</span><span class="nv">list_to_int</span><span class="p">(</span><span class="n">input</span><span class="p">)</span>
<span class="w">    </span><span class="n">if</span><span class="w"> </span><span class="n">prime</span><span class="p">(</span><span class="n">num</span><span class="p">)</span><span class="o">==</span><span class="n">True</span><span class="err">:</span>
<span class="w">        </span><span class="n">while</span><span class="w"> </span><span class="n">length</span><span class="p">(</span><span class="n">num</span><span class="p">)</span><span class="o">&gt;</span><span class="mi">1</span><span class="err">:</span>
<span class="w">            </span><span class="n">if</span><span class="w"> </span><span class="n">prime</span><span class="p">(</span><span class="n">num</span><span class="p">)</span><span class="o">==</span><span class="n">True</span><span class="w"> </span><span class="n">and</span><span class="w"> </span><span class="n">num</span><span class="o">!=</span><span class="mi">1</span><span class="err">:</span>
<span class="w">                </span><span class="n">output</span><span class="o">=</span><span class="n">list</span><span class="p">(</span><span class="n">map</span><span class="p">(</span><span class="n">int</span><span class="p">,</span><span class="w"> </span><span class="n">str</span><span class="p">(</span><span class="n">num</span><span class="p">)))</span>
<span class="w">                </span><span class="n">output</span><span class="err">.</span><span class="n">remove</span><span class="p">(</span><span class="n">output</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
<span class="w">                </span><span class="n">num</span><span class="o">=</span><span class="nv">list_to_int</span><span class="p">(</span><span class="n">output</span><span class="p">)</span>
<span class="w">            </span><span class="n">else</span><span class="err">:</span>
<span class="w">                </span><span class="n">return</span><span class="w"> </span><span class="n">False</span>
<span class="w">        </span><span class="n">while</span><span class="w"> </span><span class="n">length</span><span class="p">(</span><span class="n">inp</span><span class="p">)</span><span class="o">&gt;</span><span class="mi">1</span><span class="err">:</span>
<span class="w">            </span><span class="n">if</span><span class="w"> </span><span class="nv">is_prime</span><span class="p">(</span><span class="n">inp</span><span class="p">)</span><span class="o">==</span><span class="n">True</span><span class="w"> </span><span class="n">and</span><span class="w"> </span><span class="n">num</span><span class="o">!=</span><span class="mi">1</span><span class="err">:</span>
<span class="w">                </span><span class="n">output</span><span class="o">=</span><span class="n">list</span><span class="p">(</span><span class="n">map</span><span class="p">(</span><span class="n">int</span><span class="p">,</span><span class="w"> </span><span class="n">str</span><span class="p">(</span><span class="n">inp</span><span class="p">)))</span>
<span class="w">                </span><span class="n">output</span><span class="err">.</span><span class="n">remove</span><span class="p">(</span><span class="n">output</span><span class="p">[</span><span class="mi">-1</span><span class="p">])</span>
<span class="w">                </span><span class="n">inp</span><span class="o">=</span><span class="nv">list_to_int</span><span class="p">(</span><span class="n">output</span><span class="p">)</span>
<span class="w">            </span><span class="n">else</span><span class="err">:</span>
<span class="w">                </span><span class="n">return</span><span class="w"> </span><span class="n">False</span>
<span class="w">        </span><span class="n">return</span><span class="w"> </span><span class="n">True</span>
<span class="w">    </span><span class="n">else</span><span class="err">:</span>
<span class="w">        </span><span class="n">return</span><span class="w"> </span><span class="n">False</span>
<span class="nv">#</span><span class="n">cal</span>
<span class="nv">list_trun</span><span class="o">=</span><span class="p">[]</span>
<span class="n">n</span><span class="o">=</span><span class="mi">10</span>
<span class="n">while</span><span class="w"> </span><span class="n">len</span><span class="p">(</span><span class="nv">list_trun</span><span class="p">)</span><span class="o">&lt;=</span><span class="mi">10</span><span class="err">:</span>
<span class="w">    </span><span class="n">if</span><span class="w"> </span><span class="n">truncatable</span><span class="p">(</span><span class="n">n</span><span class="p">)</span><span class="o">==</span><span class="n">True</span><span class="err">:</span>
<span class="w">        </span><span class="nv">list_trun</span><span class="err">.</span><span class="n">append</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
<span class="w">    </span><span class="n">n</span><span class="o">+=</span><span class="mi">1</span>
<span class="nv">list_trun</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="pe-38">
<h2>PE 38<a class="headerlink" href="#pe-38" title="Link to this heading">#</a></h2>
<blockquote>
<div><p>Methods &amp; Process</p>
</div></blockquote>
<ul class="simple">
<li><p>Already presented (1,2,3) and (1,2,3,4,5)-&gt;918273645, (1,2,3,4,5,6,7,8,9)-&gt;123456789, calculated 3 options and n&gt;1
left 2 options: (1,2,3,4,5,6,7) (1,2,3,4,5,6,7,8)</p></li>
<li><p>When multiplied by 1 and 2, the numbers will be 4-digit and 5-digit,</p></li>
<li><p>when multiplied by 1, 2, 3 and 4, the numbers will be 2-digit for the first 3 and 3-digit for the last number,</p></li>
<li><p>when multiplied by 1, 2, 3, 4, 5 and 6, the number will be 1-digit for the first 3 and 2-digit for the last 3 numbers.</p></li>
<li><p>(1,2,3,4,5,6,7) and (1,2,3,4,5,6,7,8) not possible because too many numbers to multiply by.
9352*2=18704, 935218704 contains 0 is not answer</p></li>
</ul>
<blockquote>
<div><p>Conclusion</p>
</div></blockquote>
<ul class="simple">
<li><p>The biggest number in the lists is 9352, 9352*2=18704, but 935218704 is not 1 to 9 pandigital</p></li>
<li><p>The next biggest number in the lists is 9327, 9327*2=18654, 932618654 is 1 to 9 pandigital.
Thus the answer should be 932618654.</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-mathematica notranslate"><div class="highlight"><pre><span></span><span class="c">(* 38 Pandigital Multiples *)</span>

<span class="n">lst</span><span class="o">=</span><span class="n">Select</span><span class="p">[</span><span class="n">Range</span><span class="p">[</span><span class="mi">5000</span><span class="p">,</span><span class="w"> </span><span class="mi">9999</span><span class="p">],</span><span class="w"> </span>
<span class="w">  </span><span class="n">Function</span><span class="p">[</span><span class="n">n</span><span class="p">,</span><span class="w"> </span>
<span class="w">    </span><span class="n">Length</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="n">IntegerDigits</span><span class="p">[</span><span class="n">n</span><span class="p">],</span><span class="w"> </span><span class="n">IntegerDigits</span><span class="p">[</span><span class="mi">2</span><span class="w"> </span><span class="n">n</span><span class="p">]]]</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">9</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span>
<span class="w">    </span><span class="mi">1000</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="n">n</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">100000</span>
<span class="w">  </span><span class="p">]</span>
<span class="p">];</span>
<span class="n">lst</span><span class="p">[[</span><span class="mi">-2</span><span class="o">;;</span><span class="p">]]</span><span class="w"> </span><span class="c">(*cannot contain 5 in number unless number afterwards is 6 or bigger*)</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="pe-39">
<h2>PE 39<a class="headerlink" href="#pe-39" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-mathematica notranslate"><div class="highlight"><pre><span></span><span class="n">def</span><span class="w"> </span><span class="n">pythagoreanTriplets3</span><span class="p">(</span><span class="n">limits</span><span class="p">)</span><span class="w"> </span><span class="err">:</span><span class="w"> </span>
<span class="w">	</span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="n">b</span><span class="p">,</span><span class="w"> </span><span class="n">c</span><span class="p">,</span><span class="w"> </span><span class="n">m</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span>
<span class="w">	</span><span class="nv">triplet_sums</span><span class="o">=</span><span class="p">[]</span>
<span class="w">	</span><span class="n">while</span><span class="w"> </span><span class="n">a</span><span class="o">+</span><span class="n">b</span><span class="o">+</span><span class="n">c</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">limits</span><span class="w"> </span><span class="err">:</span><span class="w"> </span>
<span class="w">		</span><span class="n">for</span><span class="w"> </span><span class="n">n</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">m</span><span class="p">)</span><span class="w"> </span><span class="err">:</span><span class="w"> </span>
<span class="w">			</span><span class="n">a</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">m</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">m</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">n</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">n</span><span class="w"> </span>
<span class="w">			</span><span class="n">b</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">m</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">n</span><span class="w"> </span>
<span class="w">			</span><span class="n">c</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">m</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">m</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">n</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">n</span>
<span class="w">			</span><span class="n">if</span><span class="w"> </span><span class="n">a</span><span class="o">+</span><span class="n">b</span><span class="o">+</span><span class="n">c</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="n">limits</span><span class="w"> </span><span class="err">:</span><span class="w"> </span>
<span class="w">				</span><span class="n">break</span>
<span class="w">			</span><span class="nv">triplet_sums</span><span class="err">.</span><span class="n">append</span><span class="p">(</span><span class="n">a</span><span class="o">+</span><span class="n">b</span><span class="o">+</span><span class="n">c</span><span class="p">)</span>
<span class="w">			</span><span class="nv">#</span><span class="w"> </span><span class="n">print</span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="n">b</span><span class="p">,</span><span class="w"> </span><span class="n">c</span><span class="p">)</span>
<span class="w">		</span><span class="n">m</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">m</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span>
<span class="w">	</span><span class="n">print</span><span class="p">(</span><span class="nv">triplet_sums</span><span class="p">)</span>
<span class="n">def</span><span class="w"> </span><span class="n">pythagoreanTriplets2</span><span class="p">(</span><span class="n">limits</span><span class="p">)</span><span class="err">:</span>
<span class="w">	</span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="n">b</span><span class="p">,</span><span class="w"> </span><span class="n">c</span><span class="p">,</span><span class="w"> </span><span class="n">m</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span>
<span class="w">	</span><span class="nv">triplet_sums</span><span class="o">=</span><span class="p">[]</span>
<span class="w">	</span><span class="n">while</span><span class="w"> </span><span class="n">a</span><span class="o">+</span><span class="n">b</span><span class="o">+</span><span class="n">c</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">limits</span><span class="err">:</span>
<span class="w">		</span><span class="n">a</span><span class="o">=</span><span class="mi">2</span><span class="o">*</span><span class="n">m</span>
<span class="w">		</span><span class="n">b</span><span class="o">=</span><span class="n">m</span><span class="o">**</span><span class="mi">2-1</span><span class="w"> </span>
<span class="w">		</span><span class="n">c</span><span class="o">=</span><span class="n">m</span><span class="o">**</span><span class="mi">2</span><span class="o">+</span><span class="mi">1</span><span class="w"> </span>
<span class="w">		</span><span class="n">if</span><span class="w"> </span><span class="n">a</span><span class="o">+</span><span class="n">b</span><span class="o">+</span><span class="n">c</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="n">limits</span><span class="err">:</span><span class="w"> </span>
<span class="w">			</span><span class="n">break</span>
<span class="w">		</span><span class="nv">triplet_sums</span><span class="err">.</span><span class="n">append</span><span class="p">(</span><span class="n">a</span><span class="o">+</span><span class="n">b</span><span class="o">+</span><span class="n">c</span><span class="p">)</span>
<span class="w">		</span><span class="nv">#</span><span class="w"> </span><span class="n">print</span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="p">,</span><span class="n">c</span><span class="p">)</span>
<span class="w">		</span><span class="n">m</span><span class="o">+=</span><span class="mi">1</span>
<span class="w">	</span><span class="n">print</span><span class="p">(</span><span class="nv">triplet_sums</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-mathematica notranslate"><div class="highlight"><pre><span></span><span class="nv">#39</span><span class="w"> </span><span class="n">Integer</span><span class="w"> </span><span class="n">Right</span><span class="w"> </span><span class="n">Triangles</span>
<span class="nv">#</span><span class="w"> </span><span class="n">Ans</span><span class="err">:</span><span class="n">LCM</span><span class="p">(</span><span class="mi">70</span><span class="p">,</span><span class="mi">120</span><span class="p">)</span><span class="o">=</span><span class="mi">840</span>
<span class="n">pythagoreanTriplets2</span><span class="p">(</span><span class="mi">1000</span><span class="p">)</span>
<span class="n">pythagoreanTriplets3</span><span class="p">(</span><span class="mi">1000</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="pe-40">
<h2>PE 40<a class="headerlink" href="#pe-40" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-mathematica notranslate"><div class="highlight"><pre><span></span><span class="nv">#</span><span class="w"> </span><span class="mi">40</span><span class="w"> </span><span class="n">Champernonwne</span><span class="err">&#39;</span><span class="n">s</span><span class="w"> </span><span class="n">Constant</span>
<span class="n">constant</span><span class="o">=</span><span class="p">[]</span>
<span class="n">n</span><span class="o">=</span><span class="mi">1</span>
<span class="n">while</span><span class="w"> </span><span class="n">len</span><span class="p">(</span><span class="n">constant</span><span class="p">)</span><span class="o">&lt;</span><span class="mi">1000000</span><span class="err">:</span>
<span class="w">    </span><span class="n">d</span><span class="o">=</span><span class="n">list</span><span class="p">(</span><span class="n">map</span><span class="p">(</span><span class="n">int</span><span class="p">,</span><span class="n">str</span><span class="p">(</span><span class="n">n</span><span class="p">)))</span>
<span class="w">    </span><span class="n">for</span><span class="w"> </span><span class="n">num</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">d</span><span class="err">:</span>
<span class="w">        </span><span class="n">constant</span><span class="err">.</span><span class="n">append</span><span class="p">(</span><span class="n">num</span><span class="p">)</span>
<span class="w">    </span><span class="n">n</span><span class="o">+=</span><span class="mi">1</span>
<span class="n">ans</span><span class="o">=</span><span class="n">constant</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">*</span><span class="n">constant</span><span class="p">[</span><span class="mi">9</span><span class="p">]</span><span class="o">*</span><span class="n">constant</span><span class="p">[</span><span class="mi">99</span><span class="p">]</span><span class="o">*</span><span class="n">constant</span><span class="p">[</span><span class="mi">999</span><span class="p">]</span><span class="o">*</span><span class="n">constant</span><span class="p">[</span><span class="mi">9999</span><span class="p">]</span><span class="o">*</span><span class="n">constant</span><span class="p">[</span><span class="mi">99999</span><span class="p">]</span><span class="o">*</span><span class="n">constant</span><span class="p">[</span><span class="mi">999999</span><span class="p">]</span>
<span class="n">ans</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="pe-41">
<h2>PE 41<a class="headerlink" href="#pe-41" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-mathematica notranslate"><div class="highlight"><pre><span></span><span class="nv">#41</span><span class="w"> </span><span class="n">Pandigital</span><span class="w"> </span><span class="n">Primes</span>
<span class="n">import</span><span class="w"> </span><span class="n">itertools</span>

<span class="n">def</span><span class="w"> </span><span class="n">isPrime</span><span class="p">(</span><span class="n">num</span><span class="p">)</span><span class="err">:</span>
<span class="w">    </span><span class="n">if</span><span class="w"> </span><span class="n">num</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="mi">1</span><span class="err">:</span>
<span class="w">        </span><span class="n">return</span><span class="w"> </span><span class="n">False</span>
<span class="w">    </span><span class="n">elif</span><span class="w"> </span><span class="n">num</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="n">or</span><span class="w"> </span><span class="n">num</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">3</span><span class="err">:</span>
<span class="w">        </span><span class="n">return</span><span class="w"> </span><span class="n">True</span>
<span class="w">    </span><span class="n">if</span><span class="w"> </span><span class="n">num</span><span class="w"> </span><span class="err">%</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="n">or</span><span class="w"> </span><span class="n">num</span><span class="w"> </span><span class="err">%</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span><span class="err">:</span>
<span class="w">        </span><span class="n">return</span><span class="w"> </span><span class="n">False</span>
<span class="w">    </span><span class="n">if</span><span class="w"> </span><span class="n">not</span><span class="p">(</span><span class="n">num</span><span class="w"> </span><span class="err">%</span><span class="w"> </span><span class="mi">6</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span><span class="w"> </span><span class="n">and</span><span class="w"> </span><span class="n">not</span><span class="p">(</span><span class="n">num</span><span class="w"> </span><span class="err">%</span><span class="w"> </span><span class="mi">6</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">5</span><span class="p">)</span><span class="err">:</span>
<span class="w">        </span><span class="n">return</span><span class="w"> </span><span class="n">False</span>
<span class="w">    </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">5</span>
<span class="w">    </span><span class="n">while</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="n">num</span><span class="err">:</span>
<span class="w">        </span><span class="n">if</span><span class="w"> </span><span class="n">num</span><span class="w"> </span><span class="err">%</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="n">or</span><span class="w"> </span><span class="n">num</span><span class="w"> </span><span class="err">%</span><span class="w"> </span><span class="p">(</span><span class="n">i</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">2</span><span class="p">)</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span><span class="err">:</span>
<span class="w">            </span><span class="n">return</span><span class="w"> </span><span class="n">False</span>
<span class="w">        </span><span class="n">i</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="mi">6</span>
<span class="w">    </span><span class="n">return</span><span class="w"> </span><span class="n">True</span>

<span class="n">p</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">list</span><span class="p">(</span><span class="n">map</span><span class="p">(</span><span class="s">&quot;&quot;</span><span class="err">.</span><span class="n">join</span><span class="p">,</span><span class="w"> </span><span class="n">itertools</span><span class="err">.</span><span class="n">permutations</span><span class="p">(</span><span class="err">&#39;</span><span class="mi">1234567</span><span class="err">&#39;</span><span class="p">)))</span>

<span class="n">max</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span>
<span class="n">for</span><span class="w"> </span><span class="n">n</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">p</span><span class="err">:</span>
<span class="w">    </span><span class="n">if</span><span class="w"> </span><span class="n">prime</span><span class="p">(</span><span class="n">int</span><span class="p">(</span><span class="n">n</span><span class="p">))</span><span class="w"> </span><span class="n">and</span><span class="w"> </span><span class="n">max</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">int</span><span class="p">(</span><span class="n">n</span><span class="p">)</span><span class="err">:</span>
<span class="w">        </span><span class="n">max</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">int</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>

<span class="n">print</span><span class="p">(</span><span class="n">max</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="pe-42">
<h2>PE 42<a class="headerlink" href="#pe-42" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-mathematica notranslate"><div class="highlight"><pre><span></span><span class="nv">#42</span><span class="w"> </span><span class="n">Coded</span><span class="w"> </span><span class="n">Triangle</span><span class="w"> </span><span class="n">Numbers</span>
<span class="n">import</span><span class="w"> </span><span class="n">requests</span>
<span class="n">response</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">requests</span><span class="err">.</span><span class="n">get</span><span class="p">(</span><span class="s">&quot;https://projecteuler.net/resources/documents/0042_words.txt&quot;</span><span class="p">)</span><span class="w">   </span><span class="nv">#</span><span class="w"> </span><span class="n">Send</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">GET</span><span class="w"> </span><span class="n">request</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">URL</span>
<span class="n">content</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">response</span><span class="err">.</span><span class="n">text</span><span class="w">     </span><span class="nv">#</span><span class="w"> </span><span class="n">Read</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">content</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">response</span>
<span class="n">words</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="n">name</span><span class="err">.</span><span class="n">strip</span><span class="p">(</span><span class="err">&#39;&quot;&#39;</span><span class="p">)</span><span class="w"> </span><span class="n">for</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">content</span><span class="err">.</span><span class="n">split</span><span class="p">(</span><span class="err">&#39;</span><span class="p">,</span><span class="err">&#39;</span><span class="p">)]</span><span class="w">  </span><span class="nv">#</span><span class="w"> </span><span class="n">Split</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">content</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">comma</span><span class="w"> </span><span class="n">and</span><span class="w"> </span><span class="n">remove</span><span class="w"> </span><span class="n">double</span><span class="w"> </span><span class="n">quotes</span>

<span class="n">def</span><span class="w"> </span><span class="n">triangle</span><span class="p">(</span><span class="n">word</span><span class="p">)</span><span class="err">:</span>
<span class="w">    </span><span class="n">value</span><span class="o">=</span><span class="mi">0</span>
<span class="w">    </span><span class="n">values</span><span class="o">=</span><span class="p">{</span><span class="err">&#39;</span><span class="n">A</span><span class="err">&#39;:</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="err">&#39;</span><span class="n">B</span><span class="err">&#39;:</span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="err">&#39;</span><span class="n">C</span><span class="err">&#39;:</span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="err">&#39;</span><span class="n">D</span><span class="err">&#39;:</span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="err">&#39;</span><span class="n">E</span><span class="err">&#39;:</span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="err">&#39;</span><span class="n">F</span><span class="err">&#39;:</span><span class="mi">6</span><span class="p">,</span><span class="w"> </span><span class="err">&#39;</span><span class="n">G</span><span class="err">&#39;:</span><span class="mi">7</span><span class="p">,</span><span class="w"> </span><span class="err">&#39;</span><span class="n">H</span><span class="err">&#39;:</span><span class="mi">8</span><span class="p">,</span><span class="w"> </span><span class="err">&#39;</span><span class="n">I</span><span class="err">&#39;:</span><span class="mi">9</span><span class="p">,</span><span class="w"> </span><span class="err">&#39;</span><span class="n">J</span><span class="err">&#39;:</span><span class="mi">10</span><span class="p">,</span><span class="w"> </span><span class="err">&#39;</span><span class="n">K</span><span class="err">&#39;:</span><span class="mi">11</span><span class="p">,</span><span class="w"> </span><span class="err">&#39;</span><span class="n">L</span><span class="err">&#39;:</span><span class="mi">12</span><span class="p">,</span><span class="w"> </span><span class="err">&#39;</span><span class="n">M</span><span class="err">&#39;:</span><span class="mi">13</span><span class="p">,</span><span class="w"> </span><span class="err">&#39;</span><span class="n">N</span><span class="err">&#39;:</span><span class="mi">14</span><span class="p">,</span><span class="w"> </span><span class="err">&#39;</span><span class="n">O</span><span class="err">&#39;:</span><span class="mi">15</span><span class="p">,</span><span class="w"> </span><span class="err">&#39;</span><span class="n">P</span><span class="err">&#39;:</span><span class="mi">16</span><span class="p">,</span><span class="w"> </span><span class="err">&#39;</span><span class="n">Q</span><span class="err">&#39;:</span><span class="mi">17</span><span class="p">,</span><span class="w"> </span><span class="err">&#39;</span><span class="n">R</span><span class="err">&#39;:</span><span class="mi">18</span><span class="p">,</span><span class="w"> </span><span class="err">&#39;</span><span class="n">S</span><span class="err">&#39;:</span><span class="mi">19</span><span class="p">,</span><span class="w"> </span><span class="err">&#39;</span><span class="n">T</span><span class="err">&#39;:</span><span class="mi">20</span><span class="p">,</span><span class="w"> </span><span class="err">&#39;</span><span class="n">U</span><span class="err">&#39;:</span><span class="mi">21</span><span class="p">,</span><span class="w"> </span><span class="err">&#39;</span><span class="n">V</span><span class="err">&#39;:</span><span class="mi">22</span><span class="p">,</span><span class="w"> </span><span class="err">&#39;</span><span class="n">W</span><span class="err">&#39;:</span><span class="mi">23</span><span class="p">,</span><span class="w"> </span><span class="err">&#39;</span><span class="n">X</span><span class="err">&#39;:</span><span class="mi">24</span><span class="p">,</span><span class="w"> </span><span class="err">&#39;</span><span class="n">Y</span><span class="err">&#39;:</span><span class="mi">25</span><span class="p">,</span><span class="w"> </span><span class="err">&#39;</span><span class="n">Z</span><span class="err">&#39;:</span><span class="mi">26</span><span class="p">}</span>
<span class="w">    </span><span class="n">for</span><span class="w"> </span><span class="n">letter</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">word</span><span class="err">:</span>
<span class="w">        </span><span class="n">value</span><span class="o">+=</span><span class="n">values</span><span class="p">[</span><span class="n">letter</span><span class="p">]</span>
<span class="w">    </span><span class="n">seq</span><span class="o">=</span><span class="nv">triangular_seq</span><span class="p">(</span><span class="mi">40</span><span class="p">)</span>
<span class="w">    </span><span class="n">if</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">seq</span><span class="err">:</span>
<span class="w">        </span><span class="n">return</span><span class="w"> </span><span class="n">True</span>
<span class="w">    </span><span class="n">else</span><span class="err">:</span>
<span class="w">        </span><span class="n">return</span><span class="w"> </span><span class="n">False</span>
<span class="nv">tri_words</span><span class="o">=</span><span class="mi">0</span>
<span class="n">for</span><span class="w"> </span><span class="n">word</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">words</span><span class="err">:</span>
<span class="w">    </span><span class="n">if</span><span class="w"> </span><span class="n">triangle</span><span class="p">(</span><span class="n">word</span><span class="p">)</span><span class="err">:</span>
<span class="w">        </span><span class="nv">tri_words</span><span class="o">+=</span><span class="mi">1</span>
<span class="nv">tri_words</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="pe-43">
<h2>PE 43<a class="headerlink" href="#pe-43" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-mathematica notranslate"><div class="highlight"><pre><span></span><span class="nv">#</span><span class="w"> </span><span class="mi">43</span><span class="w"> </span><span class="n">Sub</span><span class="o">-</span><span class="n">string</span><span class="w"> </span><span class="n">Divisibility</span>
<span class="n">from</span><span class="w"> </span><span class="n">itertools</span><span class="w"> </span><span class="n">import</span><span class="w"> </span><span class="n">permutations</span>
<span class="n">def</span><span class="w"> </span><span class="n">test</span><span class="p">(</span><span class="n">tup</span><span class="p">)</span><span class="err">:</span>
<span class="w">    </span><span class="n">num</span><span class="o">=</span><span class="err">&#39;&#39;.</span><span class="n">join</span><span class="p">(</span><span class="n">tup</span><span class="p">)</span>
<span class="w">    </span><span class="n">return</span><span class="w"> </span><span class="n">int</span><span class="p">(</span><span class="n">num</span><span class="p">[</span><span class="mi">1</span><span class="err">:</span><span class="mi">4</span><span class="p">])</span><span class="err">%</span><span class="mi">2</span><span class="o">==</span><span class="mi">0</span><span class="w"> </span><span class="n">and</span><span class="w"> </span><span class="n">int</span><span class="p">(</span><span class="n">num</span><span class="p">[</span><span class="mi">2</span><span class="err">:</span><span class="mi">5</span><span class="p">])</span><span class="err">%</span><span class="mi">3</span><span class="o">==</span><span class="mi">0</span><span class="w"> </span><span class="n">and</span><span class="w"> </span><span class="n">int</span><span class="p">(</span><span class="n">num</span><span class="p">[</span><span class="mi">3</span><span class="err">:</span><span class="mi">6</span><span class="p">])</span><span class="err">%</span><span class="mi">5</span><span class="o">==</span><span class="mi">0</span><span class="w"> </span><span class="n">and</span><span class="w"> </span><span class="n">int</span><span class="p">(</span><span class="n">num</span><span class="p">[</span><span class="mi">4</span><span class="err">:</span><span class="mi">7</span><span class="p">])</span><span class="err">%</span><span class="mi">7</span><span class="o">==</span><span class="mi">0</span><span class="w"> </span><span class="n">and</span><span class="w"> </span><span class="n">int</span><span class="p">(</span><span class="n">num</span><span class="p">[</span><span class="mi">5</span><span class="err">:</span><span class="mi">8</span><span class="p">])</span><span class="err">%</span><span class="mi">11</span><span class="o">==</span><span class="mi">0</span><span class="w"> </span><span class="n">and</span><span class="w"> </span><span class="n">int</span><span class="p">(</span><span class="n">num</span><span class="p">[</span><span class="mi">6</span><span class="err">:</span><span class="mi">9</span><span class="p">])</span><span class="err">%</span><span class="mi">13</span><span class="o">==</span><span class="mi">0</span><span class="w"> </span><span class="n">and</span><span class="w"> </span><span class="n">int</span><span class="p">(</span><span class="n">num</span><span class="p">[</span><span class="mi">7</span><span class="err">:</span><span class="p">])</span><span class="err">%</span><span class="mi">17</span><span class="o">==</span><span class="mi">0</span>
<span class="n">print</span><span class="p">(</span><span class="n">sum</span><span class="p">([</span><span class="n">test</span><span class="p">(</span><span class="n">tup</span><span class="p">)</span><span class="o">*</span><span class="n">int</span><span class="p">(</span><span class="err">&#39;&#39;.</span><span class="n">join</span><span class="p">(</span><span class="n">tup</span><span class="p">))</span><span class="w"> </span><span class="n">for</span><span class="w"> </span><span class="n">tup</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">list</span><span class="p">(</span><span class="n">permutations</span><span class="p">(</span><span class="err">&#39;</span><span class="mi">0123456789</span><span class="err">&#39;</span><span class="p">))]))</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="pe-44">
<h2>PE 44<a class="headerlink" href="#pe-44" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-mathematica notranslate"><div class="highlight"><pre><span></span><span class="nv">#</span><span class="w"> </span><span class="mi">44</span><span class="w"> </span><span class="n">Pentagon</span><span class="w"> </span><span class="n">Numbers</span>
<span class="n">def</span><span class="w"> </span><span class="nv">pentagon_num</span><span class="p">(</span><span class="n">n</span><span class="p">)</span><span class="err">:</span>
<span class="w">    </span><span class="n">return</span><span class="w"> </span><span class="n">n</span><span class="o">*</span><span class="p">(</span><span class="mi">3</span><span class="o">*</span><span class="n">n</span><span class="mi">-1</span><span class="p">)</span><span class="o">//</span><span class="mi">2</span>
<span class="n">def</span><span class="w"> </span><span class="nv">is_pentagonal</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="err">:</span>
<span class="w">    </span><span class="n">if</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="mi">0</span><span class="err">:</span>
<span class="w">        </span><span class="n">return</span><span class="w"> </span><span class="n">False</span>
<span class="w">    </span><span class="n">disc</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">24</span><span class="o">*</span><span class="n">x</span>
<span class="w">    </span><span class="nv">sqrt_disc</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">int</span><span class="p">(</span><span class="n">math</span><span class="err">.</span><span class="n">isqrt</span><span class="p">(</span><span class="n">disc</span><span class="p">))</span>
<span class="w">    </span><span class="n">return</span><span class="w"> </span><span class="nv">sqrt_disc</span><span class="o">*</span><span class="nv">sqrt_disc</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">disc</span><span class="w"> </span><span class="n">and</span><span class="w"> </span><span class="p">(</span><span class="mi">1</span><span class="o">+</span><span class="nv">sqrt_disc</span><span class="p">)</span><span class="w"> </span><span class="err">%</span><span class="w"> </span><span class="mi">6</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span>
<span class="n">def</span><span class="w"> </span><span class="nv">pentagonal_pair</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="mi">3000</span><span class="p">)</span><span class="err">:</span>
<span class="w">    </span><span class="n">pentagonal</span><span class="o">=</span><span class="p">[</span><span class="nv">pentagon_num</span><span class="p">(</span><span class="n">num</span><span class="p">)</span><span class="w"> </span><span class="n">for</span><span class="w"> </span><span class="n">num</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="n">index</span><span class="o">+</span><span class="mi">1</span><span class="p">)]</span>
<span class="w">    </span><span class="n">diff</span><span class="o">=</span><span class="n">float</span><span class="p">(</span><span class="err">&#39;</span><span class="n">inf</span><span class="err">&#39;</span><span class="p">)</span>
<span class="w">    </span><span class="n">for</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="n">index</span><span class="p">)</span><span class="err">:</span>
<span class="w">        </span><span class="n">for</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span><span class="n">index</span><span class="p">)</span><span class="err">:</span>
<span class="w">            </span><span class="n">num</span><span class="o">=</span><span class="n">pentagonal</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
<span class="w">            </span><span class="n">num1</span><span class="o">=</span><span class="n">pentagonal</span><span class="p">[</span><span class="n">j</span><span class="p">]</span>
<span class="w">            </span><span class="n">if</span><span class="w"> </span><span class="nv">is_pentagonal</span><span class="p">(</span><span class="n">abs</span><span class="p">(</span><span class="n">num</span><span class="o">-</span><span class="n">num1</span><span class="p">))</span><span class="w"> </span><span class="n">and</span><span class="w"> </span><span class="nv">is_pentagonal</span><span class="p">(</span><span class="n">num</span><span class="o">+</span><span class="n">num1</span><span class="p">)</span><span class="err">:</span>
<span class="w">                </span><span class="n">diff</span><span class="o">=</span><span class="n">min</span><span class="p">(</span><span class="n">diff</span><span class="p">,</span><span class="n">abs</span><span class="p">(</span><span class="n">num</span><span class="o">-</span><span class="n">num1</span><span class="p">))</span>
<span class="w">    </span><span class="n">return</span><span class="w"> </span><span class="n">diff</span>
<span class="nv">pentagonal_pair</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="pe-45">
<h2>PE 45<a class="headerlink" href="#pe-45" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-mathematica notranslate"><div class="highlight"><pre><span></span><span class="c">(* 45 Triangular, Pentagonal, and Hexagonal </span>
<span class="c">    what I can learn?</span>
<span class="c">    1) defining series </span>
<span class="c">    2) finding common items in lists using set theory: Intersection and Union*)</span>
<span class="n">n</span><span class="o">=</span><span class="mi">99999</span><span class="p">;</span>
<span class="n">Tri</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">#</span><span class="p">(</span><span class="nv">#</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span><span class="o">/</span><span class="mi">2</span><span class="w"> </span><span class="o">&amp;</span><span class="w">  </span><span class="o">/@</span><span class="w"> </span><span class="n">Range</span><span class="p">[</span><span class="n">n</span><span class="p">];</span>
<span class="n">Pen</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">#</span><span class="p">(</span><span class="mi">3</span><span class="nv">#</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span><span class="o">/</span><span class="mi">2</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="o">/@</span><span class="w"> </span><span class="n">Range</span><span class="p">[</span><span class="n">n</span><span class="p">];</span>
<span class="n">Hex</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">#</span><span class="p">(</span><span class="mi">2</span><span class="nv">#</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span><span class="w"> </span><span class="o">&amp;</span><span class="w">   </span><span class="o">/@</span><span class="w"> </span><span class="n">Range</span><span class="p">[</span><span class="n">n</span><span class="p">];</span>
<span class="n">Intersection</span><span class="p">[</span><span class="n">Tri</span><span class="p">,</span><span class="n">Pen</span><span class="p">,</span><span class="n">Hex</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="pe-46">
<h2>PE 46<a class="headerlink" href="#pe-46" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-mathematica notranslate"><div class="highlight"><pre><span></span><span class="nv">#46</span><span class="w"> </span><span class="n">Goldbach</span><span class="err">&#39;</span><span class="n">s</span><span class="w"> </span><span class="n">Other</span><span class="w"> </span><span class="n">Conjecture</span>
<span class="n">import</span><span class="w"> </span><span class="n">time</span>
<span class="n">start</span><span class="o">=</span><span class="n">time</span><span class="err">.</span><span class="n">time</span><span class="p">()</span>
<span class="nv">#</span><span class="w"> </span><span class="n">Define</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">function</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">tests</span><span class="w"> </span><span class="n">if</span><span class="w"> </span><span class="n">an</span><span class="w"> </span><span class="n">odd</span><span class="w"> </span><span class="n">composite</span><span class="w"> </span><span class="n">integer</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">represented</span><span class="w"> </span><span class="n">as</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">sum</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">prime</span><span class="w"> </span><span class="n">and</span><span class="w"> </span><span class="n">twice</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">square</span>
<span class="n">def</span><span class="w"> </span><span class="nv">other_conjecture</span><span class="p">(</span><span class="n">n</span><span class="p">)</span><span class="err">:</span>
<span class="w">    </span><span class="s">&quot;&quot;&quot;Assume n is an odd composite integer&quot;&quot;&quot;</span>
<span class="w">    </span><span class="n">for</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="n">n</span><span class="mi">-1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">)</span><span class="err">:</span>
<span class="w">        </span><span class="n">num</span><span class="o">=</span><span class="n">n</span><span class="o">-</span><span class="n">i</span>
<span class="w">        </span><span class="n">number</span><span class="o">=</span><span class="n">num</span><span class="o">/</span><span class="mi">2</span>
<span class="w">        </span><span class="nv">sqrt_num</span><span class="o">=</span><span class="n">int</span><span class="p">(</span><span class="n">number</span><span class="o">**</span><span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">)</span><span class="o">+</span><span class="mi">1</span>
<span class="w">        </span><span class="n">if</span><span class="w"> </span><span class="n">prime</span><span class="p">(</span><span class="n">i</span><span class="p">)</span><span class="o">==</span><span class="n">True</span><span class="err">:</span>
<span class="w">            </span><span class="n">for</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="nv">sqrt_num</span><span class="p">)</span><span class="err">:</span>
<span class="w">                </span><span class="n">if</span><span class="w"> </span><span class="n">i</span><span class="o">+</span><span class="mi">2</span><span class="o">*</span><span class="p">(</span><span class="n">j</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span><span class="o">==</span><span class="n">n</span><span class="err">:</span>
<span class="w">                    </span><span class="n">return</span><span class="w"> </span><span class="n">True</span>
<span class="w">    </span><span class="n">return</span><span class="w"> </span><span class="n">False</span>
<span class="nv">#</span><span class="w"> </span><span class="n">calculation</span>
<span class="n">n</span><span class="o">=</span><span class="mi">9</span>
<span class="n">while</span><span class="w"> </span><span class="n">True</span><span class="err">:</span>
<span class="w">    </span><span class="n">if</span><span class="w"> </span><span class="n">prime</span><span class="p">(</span><span class="n">n</span><span class="p">)</span><span class="o">==</span><span class="n">True</span><span class="err">:</span>
<span class="w">        </span><span class="n">n</span><span class="o">+=</span><span class="mi">2</span>
<span class="w">    </span><span class="n">else</span><span class="err">:</span>
<span class="w">        </span><span class="n">if</span><span class="w"> </span><span class="nv">other_conjecture</span><span class="p">(</span><span class="n">n</span><span class="p">)</span><span class="o">==</span><span class="n">True</span><span class="err">:</span>
<span class="w">            </span><span class="n">n</span><span class="o">+=</span><span class="mi">2</span>
<span class="w">        </span><span class="n">else</span><span class="err">:</span>
<span class="w">            </span><span class="n">break</span>
<span class="n">print</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
<span class="n">end</span><span class="o">=</span><span class="n">time</span><span class="err">.</span><span class="n">time</span><span class="p">()</span>
<span class="n">print</span><span class="p">(</span><span class="n">end</span><span class="o">-</span><span class="n">start</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="pe-47">
<h2>PE 47<a class="headerlink" href="#pe-47" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-mathematica notranslate"><div class="highlight"><pre><span></span><span class="c">(* 47 Distinct Primes Factors*)</span>
<span class="n">lst</span><span class="o">=</span><span class="n">Table</span><span class="p">[</span><span class="n">FactorInteger</span><span class="p">[</span><span class="n">n</span><span class="p">],{</span><span class="n">n</span><span class="p">,</span><span class="mi">134040</span><span class="p">,</span><span class="mi">134050</span><span class="p">}];</span>
<span class="n">lst1</span><span class="o">=</span><span class="n">Length</span><span class="o">/@</span><span class="n">lst</span><span class="p">;</span>
<span class="n">ans</span><span class="o">=</span><span class="n">Select</span><span class="p">[</span><span class="n">Range</span><span class="p">[</span><span class="n">Length</span><span class="p">[</span><span class="n">lst1</span><span class="p">]],</span><span class="n">lst1</span><span class="p">[[</span><span class="nv">#</span><span class="p">]]</span><span class="o">==</span><span class="mi">4</span><span class="o">&amp;</span><span class="p">];</span>
<span class="n">ans1</span><span class="o">=</span><span class="n">Select</span><span class="p">[</span><span class="n">Range</span><span class="p">[</span><span class="mi">3</span><span class="p">,</span><span class="n">Length</span><span class="p">[</span><span class="n">ans</span><span class="p">]],</span><span class="n">ans</span><span class="p">[[</span><span class="nv">#</span><span class="p">]]</span><span class="o">==</span><span class="n">ans</span><span class="p">[[</span><span class="nv">#</span><span class="mi">-3</span><span class="p">]]</span><span class="o">+</span><span class="mi">3</span><span class="o">&amp;</span><span class="p">]</span>
<span class="n">ans</span>
<span class="c">(* learn 5 functions:</span>
<span class="c">    Table[]</span>
<span class="c">    Length[]</span>
<span class="c">    FactorInteger[]</span>
<span class="c">    Select[]</span>
<span class="c">    Range[]*)</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="pe-48">
<h2>PE 48<a class="headerlink" href="#pe-48" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-mathematica notranslate"><div class="highlight"><pre><span></span><span class="nv">#48</span><span class="w"> </span><span class="n">Self</span><span class="w"> </span><span class="n">Powers</span>
<span class="n">for</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">6</span><span class="p">)</span><span class="err">:</span>
<span class="w">    </span><span class="nv">sum_num</span><span class="o">=</span><span class="mi">0</span>
<span class="w">    </span><span class="n">for</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="mi">11</span><span class="o">^</span><span class="n">i</span><span class="p">)</span><span class="err">:</span>
<span class="w">        </span><span class="nv">sum_num</span><span class="o">+=</span><span class="p">(</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span><span class="o">^</span><span class="p">(</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span>
<span class="w">        </span><span class="nv">sum_num</span><span class="err">%</span><span class="o">=</span><span class="mi">10</span><span class="o">^</span><span class="mi">10</span>
<span class="w">    </span><span class="n">print</span><span class="p">(</span><span class="nv">sum_num</span><span class="err">%</span><span class="mi">10</span><span class="o">^</span><span class="mi">10</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="pe-49">
<h2>PE 49<a class="headerlink" href="#pe-49" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-mathematica notranslate"><div class="highlight"><pre><span></span><span class="n">def</span><span class="w"> </span><span class="n">primes</span><span class="p">()</span><span class="err">:</span>
<span class="w">    </span><span class="s">&quot;&quot;&quot;Generate a list of 4-digit prime numbers excluding the known sequence.&quot;&quot;&quot;</span>
<span class="w">    </span><span class="n">num</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[]</span>
<span class="w">    </span><span class="n">for</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="mi">1001</span><span class="p">,</span><span class="w"> </span><span class="mi">9998</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">)</span><span class="err">:</span>
<span class="w">        </span><span class="n">if</span><span class="w"> </span><span class="n">prime</span><span class="p">(</span><span class="n">i</span><span class="p">)</span><span class="err">:</span>
<span class="w">            </span><span class="n">num</span><span class="err">.</span><span class="n">append</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
<span class="w">    </span><span class="nv">#</span><span class="w"> </span><span class="n">Exclude</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">specific</span><span class="w"> </span><span class="n">prime</span><span class="w"> </span><span class="n">sequence</span>
<span class="w">    </span><span class="n">excluded</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="mi">1487</span><span class="p">,</span><span class="w"> </span><span class="mi">4817</span><span class="p">,</span><span class="w"> </span><span class="mi">8147</span><span class="p">}</span>
<span class="w">    </span><span class="n">num</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="n">n</span><span class="w"> </span><span class="n">for</span><span class="w"> </span><span class="n">n</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">num</span><span class="w"> </span><span class="n">if</span><span class="w"> </span><span class="n">n</span><span class="w"> </span><span class="n">not</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">excluded</span><span class="p">]</span>
<span class="w">    </span><span class="n">return</span><span class="w"> </span><span class="n">num</span>

<span class="n">def</span><span class="w"> </span><span class="n">permutations</span><span class="p">(</span><span class="n">lst</span><span class="p">)</span><span class="err">:</span>
<span class="w">    </span><span class="s">&quot;&quot;&quot;Find primes that have the same digit permutations.&quot;&quot;&quot;</span>
<span class="w">    </span><span class="nv">#</span><span class="w"> </span><span class="n">Sort</span><span class="w"> </span><span class="n">digits</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">each</span><span class="w"> </span><span class="n">number</span>
<span class="w">    </span><span class="nv">sorted_lst</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="err">&#39;&#39;.</span><span class="n">join</span><span class="p">(</span><span class="n">sorted</span><span class="p">(</span><span class="n">str</span><span class="p">(</span><span class="n">num</span><span class="p">)))</span><span class="w"> </span><span class="n">for</span><span class="w"> </span><span class="n">num</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">lst</span><span class="p">]</span>
<span class="w">    </span>
<span class="w">    </span><span class="nv">#</span><span class="w"> </span><span class="n">Dictionary</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">store</span><span class="w"> </span><span class="n">primes</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">their</span><span class="w"> </span><span class="n">sorted</span><span class="w"> </span><span class="n">digit</span><span class="w"> </span><span class="n">permutation</span>
<span class="w">    </span><span class="nv">perm_dict</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{}</span>
<span class="w">    </span><span class="n">for</span><span class="w"> </span><span class="n">i</span><span class="p">,</span><span class="w"> </span><span class="n">num</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">enumerate</span><span class="p">(</span><span class="n">lst</span><span class="p">)</span><span class="err">:</span>
<span class="w">        </span><span class="n">perm</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">sorted_lst</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
<span class="w">        </span><span class="n">if</span><span class="w"> </span><span class="n">perm</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="nv">perm_dict</span><span class="err">:</span>
<span class="w">            </span><span class="nv">perm_dict</span><span class="p">[</span><span class="n">perm</span><span class="p">]</span><span class="err">.</span><span class="n">append</span><span class="p">(</span><span class="n">num</span><span class="p">)</span>
<span class="w">        </span><span class="n">else</span><span class="err">:</span>
<span class="w">            </span><span class="nv">perm_dict</span><span class="p">[</span><span class="n">perm</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="n">num</span><span class="p">]</span>
<span class="w">    </span>
<span class="w">    </span><span class="nv">#</span><span class="w"> </span><span class="n">Return</span><span class="w"> </span><span class="n">only</span><span class="w"> </span><span class="n">those</span><span class="w"> </span><span class="n">lists</span><span class="w"> </span><span class="n">with</span><span class="w"> </span><span class="n">more</span><span class="w"> </span><span class="n">than</span><span class="w"> </span><span class="n">one</span><span class="w"> </span><span class="n">permutation</span>
<span class="w">    </span><span class="n">return</span><span class="w"> </span><span class="p">{</span><span class="n">k</span><span class="err">:</span><span class="w"> </span><span class="n">v</span><span class="w"> </span><span class="n">for</span><span class="w"> </span><span class="n">k</span><span class="p">,</span><span class="w"> </span><span class="n">v</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="nv">perm_dict</span><span class="err">.</span><span class="n">items</span><span class="p">()</span><span class="w"> </span><span class="n">if</span><span class="w"> </span><span class="n">len</span><span class="p">(</span><span class="n">v</span><span class="p">)</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">1</span><span class="p">}</span>

<span class="nv">#</span><span class="w"> </span><span class="n">Get</span><span class="w"> </span><span class="n">primes</span><span class="w"> </span><span class="n">and</span><span class="w"> </span><span class="n">permutations</span>
<span class="nv">prime_list</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">primes</span><span class="p">()</span>
<span class="nv">permutations_dict</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">permutations</span><span class="p">(</span><span class="nv">prime_list</span><span class="p">)</span>

<span class="n">print</span><span class="p">(</span><span class="nv">permutations_dict</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-mathematica notranslate"><div class="highlight"><pre><span></span><span class="nv">#</span><span class="w"> </span><span class="mi">49</span><span class="w"> </span><span class="n">Prime</span><span class="w"> </span><span class="n">Permutations</span>
<span class="n">def</span><span class="w"> </span><span class="n">primes</span><span class="p">()</span><span class="err">:</span>
<span class="w">    </span><span class="n">num</span><span class="o">=</span><span class="p">[]</span>
<span class="w">    </span><span class="n">for</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="mi">1001</span><span class="p">,</span><span class="mi">9998</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span><span class="err">:</span>
<span class="w">        </span><span class="n">if</span><span class="w"> </span><span class="n">prime</span><span class="p">(</span><span class="n">i</span><span class="p">)</span><span class="o">==</span><span class="n">True</span><span class="err">:</span>
<span class="w">            </span><span class="n">num</span><span class="err">.</span><span class="n">append</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
<span class="w">    </span><span class="n">return</span><span class="w"> </span><span class="n">num</span>

<span class="n">def</span><span class="w"> </span><span class="n">permutations</span><span class="p">(</span><span class="n">lst</span><span class="p">)</span><span class="err">:</span>
<span class="w">    </span><span class="n">lst2</span><span class="o">=</span><span class="p">[]</span>
<span class="w">    </span><span class="n">for</span><span class="w"> </span><span class="n">num</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">lst</span><span class="err">:</span>
<span class="w">        </span><span class="n">lst3</span><span class="o">=</span><span class="n">list</span><span class="p">(</span><span class="n">map</span><span class="p">(</span><span class="n">int</span><span class="p">,</span><span class="n">str</span><span class="p">(</span><span class="n">num</span><span class="p">)))</span>
<span class="w">        </span><span class="n">lst3</span><span class="err">.</span><span class="n">sort</span><span class="p">()</span>
<span class="w">        </span><span class="n">lst2</span><span class="err">.</span><span class="n">append</span><span class="p">(</span><span class="n">lst3</span><span class="p">)</span>
<span class="w">    </span><span class="n">lst1</span><span class="o">=</span><span class="p">[</span><span class="n">lst2</span><span class="err">.</span><span class="n">count</span><span class="p">(</span><span class="n">lst4</span><span class="p">)</span><span class="w"> </span><span class="n">for</span><span class="w"> </span><span class="n">lst4</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">lst2</span><span class="p">]</span>
<span class="w">    </span><span class="n">lst5</span><span class="o">=</span><span class="p">[</span><span class="n">lst</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">*</span><span class="p">(</span><span class="n">lst1</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">&gt;=</span><span class="mi">3</span><span class="p">)</span><span class="w"> </span><span class="n">for</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="n">len</span><span class="p">(</span><span class="n">lst1</span><span class="p">))]</span>
<span class="w">    </span><span class="n">for</span><span class="w"> </span><span class="nv">_</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="n">lst5</span><span class="err">.</span><span class="n">count</span><span class="p">(</span><span class="mi">0</span><span class="p">))</span><span class="err">:</span>
<span class="w">        </span><span class="n">lst5</span><span class="err">.</span><span class="n">remove</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="w">    </span><span class="n">return</span><span class="w"> </span><span class="n">lst5</span>

<span class="n">lst</span><span class="o">=</span><span class="n">permutations</span><span class="p">(</span><span class="n">primes</span><span class="p">());</span><span class="n">lst</span>
<span class="n">lst1</span><span class="o">=</span><span class="p">[</span><span class="n">list</span><span class="p">(</span><span class="n">Permutations</span><span class="p">(</span><span class="n">list</span><span class="p">(</span><span class="n">str</span><span class="p">(</span><span class="n">item</span><span class="p">))))</span><span class="w"> </span><span class="n">for</span><span class="w"> </span><span class="n">item</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">lst</span><span class="p">];</span><span class="n">lst1</span>
<span class="n">lst2</span><span class="o">=</span><span class="p">[]</span>
<span class="n">for</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="n">len</span><span class="p">(</span><span class="n">lst1</span><span class="p">))</span><span class="err">:</span>
<span class="w">    </span><span class="n">lst3</span><span class="o">=</span><span class="p">[]</span>
<span class="w">    </span><span class="n">for</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">lst1</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="err">:</span>
<span class="w">        </span><span class="n">n</span><span class="o">=</span><span class="n">int</span><span class="p">(</span><span class="err">&#39;&#39;.</span><span class="n">join</span><span class="p">(</span><span class="n">j</span><span class="p">))</span>
<span class="w">        </span><span class="n">if</span><span class="w"> </span><span class="n">n</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">lst</span><span class="err">:</span>
<span class="w">            </span><span class="n">lst3</span><span class="err">.</span><span class="n">append</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
<span class="w">    </span><span class="n">lst2</span><span class="err">.</span><span class="n">append</span><span class="p">(</span><span class="n">lst3</span><span class="p">)</span>
<span class="n">lst2</span>
<span class="n">for</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="n">len</span><span class="p">(</span><span class="n">lst2</span><span class="p">))</span><span class="err">:</span>
<span class="w">    </span><span class="n">for</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="n">len</span><span class="p">(</span><span class="n">lst2</span><span class="p">[</span><span class="n">i</span><span class="p">]))</span><span class="err">:</span>
<span class="w">        </span><span class="n">lst2</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span><span class="o">=</span><span class="n">abs</span><span class="p">(</span><span class="n">lst</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">-</span><span class="n">lst2</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">])</span>
<span class="n">lst2</span>
<span class="n">lst3</span><span class="o">=</span><span class="p">[]</span>
<span class="n">for</span><span class="w"> </span><span class="n">lst</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">lst2</span><span class="err">:</span>
<span class="w">    </span><span class="n">lst3</span><span class="err">.</span><span class="n">append</span><span class="p">(</span><span class="n">list</span><span class="p">(</span><span class="n">set</span><span class="p">(</span><span class="n">lst</span><span class="p">)))</span>
<span class="n">lst3</span>
<span class="n">for</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="n">len</span><span class="p">(</span><span class="n">lst2</span><span class="p">))</span><span class="err">:</span>
<span class="w">    </span><span class="n">lst2</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">=</span><span class="n">sorted</span><span class="p">(</span><span class="n">lst2</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
<span class="n">for</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="n">len</span><span class="p">(</span><span class="n">lst3</span><span class="p">))</span><span class="err">:</span>
<span class="w">    </span><span class="n">lst3</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">=</span><span class="n">sorted</span><span class="p">(</span><span class="n">lst3</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
<span class="n">for</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="n">len</span><span class="p">(</span><span class="n">lst2</span><span class="p">))</span><span class="err">:</span>
<span class="w">    </span><span class="n">if</span><span class="w"> </span><span class="n">lst2</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">==</span><span class="n">lst3</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="err">:</span>
<span class="w">        </span><span class="n">print</span><span class="p">()</span>
<span class="w">    </span><span class="n">else</span><span class="err">:</span>
<span class="w">        </span><span class="n">print</span><span class="p">(</span><span class="err">&#39;</span><span class="n">Search</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="n">line</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">output</span><span class="w"> </span><span class="n">for</span><span class="w"> </span><span class="n">other</span><span class="w"> </span><span class="n">cells</span><span class="err">&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="pe-50">
<h2>PE 50<a class="headerlink" href="#pe-50" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-mathematica notranslate"><div class="highlight"><pre><span></span><span class="n">prime</span><span class="p">(</span><span class="mi">997661</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-mathematica notranslate"><div class="highlight"><pre><span></span><span class="n">primes</span><span class="o">=</span><span class="p">[]</span>
<span class="n">for</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">3877</span><span class="p">)</span><span class="err">:</span>
<span class="w">    </span><span class="n">if</span><span class="w"> </span><span class="n">prime</span><span class="p">(</span><span class="n">i</span><span class="p">)</span><span class="err">:</span>
<span class="w">        </span><span class="n">primes</span><span class="err">.</span><span class="n">append</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
<span class="n">sum</span><span class="p">(</span><span class="n">primes</span><span class="p">)</span><span class="o">+</span><span class="mi">3877</span><span class="o">+</span><span class="mi">3881</span><span class="o">+</span><span class="mi">3889</span><span class="o">+</span><span class="mi">3907</span><span class="o">+</span><span class="mi">3911</span><span class="o">+</span><span class="mi">3917</span><span class="o">+</span><span class="mi">3919</span><span class="o">+</span><span class="mi">3923</span><span class="o">+</span><span class="mi">3929</span><span class="o">+</span><span class="mi">3931</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-mathematica notranslate"><div class="highlight"><pre><span></span><span class="n">prime</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-mathematica notranslate"><div class="highlight"><pre><span></span><span class="nv">#</span><span class="w"> </span><span class="mi">50</span><span class="w"> </span><span class="n">Consecutive</span><span class="w"> </span><span class="n">Prime</span><span class="w"> </span><span class="n">Sum</span>
<span class="n">primes</span><span class="o">=</span><span class="p">[]</span>
<span class="n">for</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span><span class="mi">3932</span><span class="p">)</span><span class="err">:</span>
<span class="w">    </span><span class="n">if</span><span class="w"> </span><span class="n">prime</span><span class="p">(</span><span class="n">i</span><span class="p">)</span><span class="err">:</span>
<span class="w">        </span><span class="n">primes</span><span class="err">.</span><span class="n">append</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
<span class="n">primes</span><span class="o">=</span><span class="n">primes</span><span class="p">[</span><span class="err">::</span><span class="mi">-1</span><span class="p">]</span>
<span class="n">count</span><span class="o">=</span><span class="n">sum</span><span class="p">(</span><span class="n">primes</span><span class="p">)</span>
<span class="n">for</span><span class="w"> </span><span class="n">p</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">primes</span><span class="err">:</span>
<span class="w">    </span><span class="n">if</span><span class="w"> </span><span class="n">prime</span><span class="p">(</span><span class="n">count</span><span class="p">)</span><span class="err">:</span>
<span class="w">        </span><span class="n">print</span><span class="p">(</span><span class="n">count</span><span class="p">)</span>
<span class="w">        </span><span class="n">break</span>
<span class="w">    </span><span class="n">print</span><span class="p">(</span><span class="n">p</span><span class="p">)</span>
<span class="w">    </span><span class="n">count</span><span class="o">-=</span><span class="n">p</span>
</pre></div>
</div>
</div>
</div>
</section>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="project-euler-51-100">
<h1>Project Euler 51-100<a class="headerlink" href="#project-euler-51-100" title="Link to this heading">#</a></h1>
<section id="pe-51">
<h2>PE 51<a class="headerlink" href="#pe-51" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-mathematica notranslate"><div class="highlight"><pre><span></span><span class="nv">#</span><span class="w"> </span><span class="mi">51</span><span class="w"> </span><span class="n">Prime</span><span class="w"> </span><span class="n">Digit</span><span class="w"> </span><span class="n">Replacements</span>
<span class="n">def</span><span class="w"> </span><span class="nv">prime_replacements</span><span class="p">(</span><span class="n">num</span><span class="err">:</span><span class="n">int</span><span class="p">,</span><span class="n">changed</span><span class="err">:</span><span class="n">list</span><span class="p">)</span><span class="err">:</span>
<span class="w">    </span><span class="n">lst</span><span class="o">=</span><span class="n">list</span><span class="p">(</span><span class="n">map</span><span class="p">(</span><span class="n">int</span><span class="p">,</span><span class="n">str</span><span class="p">(</span><span class="n">num</span><span class="p">)))</span>
<span class="w">    </span><span class="n">n</span><span class="o">=</span><span class="p">[]</span>
<span class="w">    </span><span class="n">if</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">changed</span><span class="err">:</span>
<span class="w">        </span><span class="n">limits</span><span class="o">=</span><span class="n">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">10</span><span class="p">)</span>
<span class="w">    </span><span class="n">else</span><span class="err">:</span>
<span class="w">        </span><span class="n">limits</span><span class="o">=</span><span class="n">range</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
<span class="w">    </span><span class="n">for</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">limits</span><span class="err">:</span>
<span class="w">        </span><span class="n">n</span><span class="err">.</span><span class="n">append</span><span class="p">(</span><span class="n">int</span><span class="p">(</span><span class="err">&#39;&#39;.</span><span class="n">join</span><span class="p">([</span><span class="n">str</span><span class="p">(</span><span class="n">i</span><span class="p">)</span><span class="w"> </span><span class="n">if</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">changed</span><span class="w"> </span><span class="n">else</span><span class="w"> </span><span class="n">str</span><span class="p">(</span><span class="n">lst</span><span class="p">[</span><span class="n">j</span><span class="p">])</span><span class="w"> </span><span class="n">for</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="n">len</span><span class="p">(</span><span class="n">lst</span><span class="p">))])))</span>
<span class="w">    </span><span class="n">n</span><span class="o">=</span><span class="n">list</span><span class="p">(</span><span class="n">filter</span><span class="p">(</span><span class="n">lambda</span><span class="w"> </span><span class="n">x</span><span class="err">:</span><span class="n">prime</span><span class="p">(</span><span class="n">x</span><span class="p">),</span><span class="n">n</span><span class="p">))</span>
<span class="w">    </span><span class="n">return</span><span class="w"> </span><span class="n">n</span>
<span class="n">def</span><span class="w"> </span><span class="n">valid</span><span class="p">(</span><span class="n">n</span><span class="p">)</span><span class="err">:</span>
<span class="w">    </span><span class="n">s</span><span class="o">=</span><span class="n">list</span><span class="p">(</span><span class="n">str</span><span class="p">(</span><span class="n">n</span><span class="p">))</span>
<span class="w">    </span><span class="n">for</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">set</span><span class="p">(</span><span class="n">s</span><span class="p">)</span><span class="err">:</span>
<span class="w">        </span><span class="n">if</span><span class="w"> </span><span class="n">s</span><span class="err">.</span><span class="n">count</span><span class="p">(</span><span class="n">i</span><span class="p">)</span><span class="err">%</span><span class="mi">3</span><span class="o">==</span><span class="mi">0</span><span class="err">:</span>
<span class="w">            </span><span class="n">return</span><span class="w"> </span><span class="n">i</span>
<span class="w">    </span><span class="n">return</span><span class="w"> </span><span class="n">False</span>
<span class="n">lst</span><span class="o">=</span><span class="nv">prime_range</span><span class="p">(</span><span class="mi">10</span><span class="o">^</span><span class="mi">6</span><span class="p">)</span>
<span class="n">lst</span><span class="o">=</span><span class="n">list</span><span class="p">(</span><span class="n">filter</span><span class="p">(</span><span class="n">lambda</span><span class="w"> </span><span class="n">x</span><span class="err">:</span><span class="n">valid</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="o">!=</span><span class="n">False</span><span class="p">,</span><span class="n">lst</span><span class="p">))</span>
<span class="n">for</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">lst</span><span class="err">:</span>
<span class="w">    </span><span class="n">v</span><span class="o">=</span><span class="n">valid</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
<span class="w">    </span><span class="n">changed</span><span class="o">=</span><span class="p">[</span><span class="n">j</span><span class="w"> </span><span class="n">for</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="n">len</span><span class="p">(</span><span class="n">str</span><span class="p">(</span><span class="n">i</span><span class="p">)))</span><span class="w"> </span><span class="n">if</span><span class="w"> </span><span class="n">str</span><span class="p">(</span><span class="n">i</span><span class="p">)[</span><span class="n">j</span><span class="p">]</span><span class="o">==</span><span class="n">v</span><span class="p">]</span>
<span class="w">    </span><span class="n">if</span><span class="w"> </span><span class="n">len</span><span class="p">(</span><span class="nv">prime_replacements</span><span class="p">(</span><span class="n">i</span><span class="p">,</span><span class="n">changed</span><span class="p">))</span><span class="o">==</span><span class="mi">8</span><span class="err">:</span>
<span class="w">        </span><span class="nv">#</span><span class="w"> </span><span class="n">print</span><span class="p">(</span><span class="nv">prime_replacements</span><span class="p">(</span><span class="n">i</span><span class="p">,</span><span class="n">changed</span><span class="p">))</span><span class="w"> </span><span class="n">undo</span><span class="w"> </span><span class="n">commenting</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">reveal</span><span class="w"> </span><span class="n">answer</span>
<span class="w">        </span><span class="n">break</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="pe-52">
<h2>PE 52<a class="headerlink" href="#pe-52" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-mathematica notranslate"><div class="highlight"><pre><span></span><span class="nv">#52</span><span class="w"> </span><span class="n">Permuted</span><span class="w"> </span><span class="n">Multiples</span>
<span class="n">def</span><span class="w"> </span><span class="n">permuted</span><span class="p">(</span><span class="n">n</span><span class="p">)</span><span class="err">:</span>
<span class="w">    </span><span class="n">listnum</span><span class="o">=</span><span class="n">list</span><span class="p">(</span><span class="n">map</span><span class="p">(</span><span class="n">int</span><span class="p">,</span><span class="w"> </span><span class="n">str</span><span class="p">(</span><span class="n">n</span><span class="p">)))</span>
<span class="w">    </span><span class="n">listnum1</span><span class="o">=</span><span class="n">listnum</span><span class="p">[</span><span class="err">:</span><span class="p">]</span>
<span class="w">    </span><span class="n">listnum1</span><span class="err">.</span><span class="n">sort</span><span class="p">()</span>
<span class="w">    </span><span class="n">m</span><span class="o">=</span><span class="mi">1</span>
<span class="w">    </span><span class="n">old</span><span class="o">=</span><span class="nv">list_to_int</span><span class="p">(</span><span class="n">listnum</span><span class="p">)</span>
<span class="w">    </span><span class="n">while</span><span class="w"> </span><span class="n">True</span><span class="err">:</span>
<span class="w">        </span><span class="n">n</span><span class="o">=</span><span class="n">old</span><span class="o">*</span><span class="p">(</span><span class="n">m</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span>
<span class="w">        </span><span class="n">test</span><span class="o">=</span><span class="n">list</span><span class="p">(</span><span class="n">map</span><span class="p">(</span><span class="n">int</span><span class="p">,</span><span class="w"> </span><span class="n">str</span><span class="p">(</span><span class="n">n</span><span class="p">)))</span>
<span class="w">        </span><span class="n">test</span><span class="err">.</span><span class="n">sort</span><span class="p">()</span>
<span class="w">        </span><span class="n">if</span><span class="w"> </span><span class="n">test</span><span class="o">!=</span><span class="n">listnum1</span><span class="err">:</span>
<span class="w">            </span><span class="n">break</span>
<span class="w">        </span><span class="n">m</span><span class="o">+=</span><span class="mi">1</span>
<span class="w">    </span><span class="n">return</span><span class="w"> </span><span class="n">m</span>
<span class="n">def</span><span class="w"> </span><span class="n">solve</span><span class="p">(</span><span class="n">m</span><span class="p">)</span><span class="err">:</span>
<span class="w">    </span><span class="n">n</span><span class="o">=</span><span class="mi">1000</span>
<span class="w">    </span><span class="n">while</span><span class="w"> </span><span class="n">True</span><span class="err">:</span>
<span class="w">        </span><span class="n">num</span><span class="o">=</span><span class="n">permuted</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
<span class="w">        </span><span class="n">if</span><span class="w"> </span><span class="n">num</span><span class="o">&gt;=</span><span class="n">m</span><span class="err">:</span>
<span class="w">            </span><span class="n">break</span>
<span class="w">        </span><span class="n">n</span><span class="o">+=</span><span class="mi">1</span>
<span class="w">    </span><span class="n">return</span><span class="w"> </span><span class="n">n</span>
<span class="n">print</span><span class="p">(</span><span class="n">solve</span><span class="p">(</span><span class="mi">6</span><span class="p">))</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="pe-53">
<h2>PE 53<a class="headerlink" href="#pe-53" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-mathematica notranslate"><div class="highlight"><pre><span></span><span class="nv">#</span><span class="w"> </span><span class="mi">53</span><span class="w"> </span><span class="n">Combinatoric</span><span class="w"> </span><span class="n">Selections</span>
<span class="n">def</span><span class="w"> </span><span class="n">ncr</span><span class="p">(</span><span class="n">n</span><span class="p">,</span><span class="w"> </span><span class="n">r</span><span class="p">)</span><span class="err">:</span>
<span class="w">    </span><span class="n">return</span><span class="w"> </span><span class="n">factorial</span><span class="p">(</span><span class="n">n</span><span class="p">)</span><span class="o">/</span><span class="p">(</span><span class="n">factorial</span><span class="p">(</span><span class="n">r</span><span class="p">)</span><span class="o">*</span><span class="n">factorial</span><span class="p">(</span><span class="n">n</span><span class="o">-</span><span class="n">r</span><span class="p">))</span>

<span class="nv">over_million</span><span class="o">=</span><span class="mi">0</span>
<span class="n">for</span><span class="w"> </span><span class="n">n</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="mi">22</span><span class="p">,</span><span class="mi">101</span><span class="p">)</span><span class="err">:</span>
<span class="w">    </span><span class="n">for</span><span class="w"> </span><span class="n">r</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="n">n</span><span class="mi">-1</span><span class="p">)</span><span class="err">:</span>
<span class="w">        </span><span class="n">if</span><span class="w"> </span><span class="n">ncr</span><span class="p">(</span><span class="n">n</span><span class="p">,</span><span class="n">r</span><span class="p">)</span><span class="o">&gt;</span><span class="mi">1000000</span><span class="err">:</span>
<span class="w">            </span><span class="nv">over_million</span><span class="o">+=</span><span class="mi">1</span>
<span class="nv">over_million</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="pe-54">
<h2>PE 54<a class="headerlink" href="#pe-54" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-mathematica notranslate"><div class="highlight"><pre><span></span><span class="n">import</span><span class="w"> </span><span class="n">requests</span>
<span class="n">response</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">requests</span><span class="err">.</span><span class="n">get</span><span class="p">(</span><span class="s">&quot;https://projecteuler.net/resources/documents/0054_poker.txt&quot;</span><span class="p">)</span><span class="w">   </span><span class="nv">#</span><span class="w"> </span><span class="n">request</span><span class="err">.</span><span class="n">get</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">URL</span>
<span class="n">content</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">response</span><span class="err">.</span><span class="n">text</span><span class="w">     </span><span class="nv">#</span><span class="w"> </span><span class="n">Read</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">content</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">response</span>
<span class="n">hands</span><span class="o">=</span><span class="n">content</span><span class="err">.</span><span class="n">split</span><span class="p">(</span><span class="err">&#39;\</span><span class="n">n</span><span class="err">&#39;</span><span class="p">)</span>
<span class="n">hands</span><span class="o">=</span><span class="p">[</span><span class="n">hand</span><span class="err">.</span><span class="n">split</span><span class="p">()</span><span class="w"> </span><span class="n">for</span><span class="w"> </span><span class="n">hand</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">hands</span><span class="p">]</span>
<span class="n">hands</span><span class="o">=</span><span class="n">hands</span><span class="p">[</span><span class="err">:</span><span class="mi">-1</span><span class="p">]</span>
<span class="n">hands</span>
<span class="nv">#</span><span class="w"> </span><span class="n">This</span><span class="w"> </span><span class="n">had</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">changed</span><span class="w"> </span><span class="n">and</span><span class="w"> </span><span class="n">debugged</span>
<span class="nv">#</span><span class="w"> </span><span class="n">Updated</span><span class="w"> </span><span class="n">Function</span><span class="w"> </span><span class="n">below</span>
<span class="n">stt</span><span class="o">=</span><span class="p">[[</span><span class="err">&#39;</span><span class="mi">2</span><span class="err">&#39;</span><span class="p">,</span><span class="w"> </span><span class="err">&#39;</span><span class="mi">3</span><span class="err">&#39;</span><span class="p">,</span><span class="w"> </span><span class="err">&#39;</span><span class="mi">4</span><span class="err">&#39;</span><span class="p">,</span><span class="w"> </span><span class="err">&#39;</span><span class="mi">5</span><span class="err">&#39;</span><span class="p">,</span><span class="w"> </span><span class="err">&#39;</span><span class="mi">6</span><span class="err">&#39;</span><span class="p">],</span>
<span class="w"> </span><span class="p">[</span><span class="err">&#39;</span><span class="mi">3</span><span class="err">&#39;</span><span class="p">,</span><span class="w"> </span><span class="err">&#39;</span><span class="mi">4</span><span class="err">&#39;</span><span class="p">,</span><span class="w"> </span><span class="err">&#39;</span><span class="mi">5</span><span class="err">&#39;</span><span class="p">,</span><span class="w"> </span><span class="err">&#39;</span><span class="mi">6</span><span class="err">&#39;</span><span class="p">,</span><span class="w"> </span><span class="err">&#39;</span><span class="mi">7</span><span class="err">&#39;</span><span class="p">],</span>
<span class="w"> </span><span class="p">[</span><span class="err">&#39;</span><span class="mi">4</span><span class="err">&#39;</span><span class="p">,</span><span class="w"> </span><span class="err">&#39;</span><span class="mi">5</span><span class="err">&#39;</span><span class="p">,</span><span class="w"> </span><span class="err">&#39;</span><span class="mi">6</span><span class="err">&#39;</span><span class="p">,</span><span class="w"> </span><span class="err">&#39;</span><span class="mi">7</span><span class="err">&#39;</span><span class="p">,</span><span class="w"> </span><span class="err">&#39;</span><span class="mi">8</span><span class="err">&#39;</span><span class="p">],</span>
<span class="w"> </span><span class="p">[</span><span class="err">&#39;</span><span class="mi">5</span><span class="err">&#39;</span><span class="p">,</span><span class="w"> </span><span class="err">&#39;</span><span class="mi">6</span><span class="err">&#39;</span><span class="p">,</span><span class="w"> </span><span class="err">&#39;</span><span class="mi">7</span><span class="err">&#39;</span><span class="p">,</span><span class="w"> </span><span class="err">&#39;</span><span class="mi">8</span><span class="err">&#39;</span><span class="p">,</span><span class="w"> </span><span class="err">&#39;</span><span class="mi">9</span><span class="err">&#39;</span><span class="p">],</span>
<span class="w"> </span><span class="p">[</span><span class="err">&#39;</span><span class="mi">6</span><span class="err">&#39;</span><span class="p">,</span><span class="w"> </span><span class="err">&#39;</span><span class="mi">7</span><span class="err">&#39;</span><span class="p">,</span><span class="w"> </span><span class="err">&#39;</span><span class="mi">8</span><span class="err">&#39;</span><span class="p">,</span><span class="w"> </span><span class="err">&#39;</span><span class="mi">9</span><span class="err">&#39;</span><span class="p">,</span><span class="w"> </span><span class="err">&#39;</span><span class="n">T</span><span class="err">&#39;</span><span class="p">],</span>
<span class="w"> </span><span class="p">[</span><span class="err">&#39;</span><span class="mi">7</span><span class="err">&#39;</span><span class="p">,</span><span class="w"> </span><span class="err">&#39;</span><span class="mi">8</span><span class="err">&#39;</span><span class="p">,</span><span class="w"> </span><span class="err">&#39;</span><span class="mi">9</span><span class="err">&#39;</span><span class="p">,</span><span class="w"> </span><span class="err">&#39;</span><span class="n">J</span><span class="err">&#39;</span><span class="p">,</span><span class="w"> </span><span class="err">&#39;</span><span class="n">T</span><span class="err">&#39;</span><span class="p">],</span>
<span class="w"> </span><span class="p">[</span><span class="err">&#39;</span><span class="mi">8</span><span class="err">&#39;</span><span class="p">,</span><span class="w"> </span><span class="err">&#39;</span><span class="mi">9</span><span class="err">&#39;</span><span class="p">,</span><span class="w"> </span><span class="err">&#39;</span><span class="n">J</span><span class="err">&#39;</span><span class="p">,</span><span class="w"> </span><span class="err">&#39;</span><span class="n">Q</span><span class="err">&#39;</span><span class="p">,</span><span class="w"> </span><span class="err">&#39;</span><span class="n">T</span><span class="err">&#39;</span><span class="p">],</span>
<span class="w"> </span><span class="p">[</span><span class="err">&#39;</span><span class="mi">9</span><span class="err">&#39;</span><span class="p">,</span><span class="w"> </span><span class="err">&#39;</span><span class="n">J</span><span class="err">&#39;</span><span class="p">,</span><span class="w"> </span><span class="err">&#39;</span><span class="n">K</span><span class="err">&#39;</span><span class="p">,</span><span class="w"> </span><span class="err">&#39;</span><span class="n">Q</span><span class="err">&#39;</span><span class="p">,</span><span class="w"> </span><span class="err">&#39;</span><span class="n">T</span><span class="err">&#39;</span><span class="p">],</span>
<span class="w"> </span><span class="p">[</span><span class="err">&#39;</span><span class="n">A</span><span class="err">&#39;</span><span class="p">,</span><span class="w"> </span><span class="err">&#39;</span><span class="n">J</span><span class="err">&#39;</span><span class="p">,</span><span class="w"> </span><span class="err">&#39;</span><span class="n">K</span><span class="err">&#39;</span><span class="p">,</span><span class="w"> </span><span class="err">&#39;</span><span class="n">Q</span><span class="err">&#39;</span><span class="p">,</span><span class="w"> </span><span class="err">&#39;</span><span class="n">T</span><span class="err">&#39;</span><span class="p">]]</span>
<span class="n">def</span><span class="w"> </span><span class="n">test</span><span class="p">(</span><span class="n">lst</span><span class="err">:</span><span class="n">list</span><span class="p">)</span><span class="err">:</span>
<span class="w">    </span><span class="n">hand1</span><span class="o">=</span><span class="n">lst</span><span class="p">[</span><span class="err">:</span><span class="mi">5</span><span class="p">]</span>
<span class="w">    </span><span class="n">hand2</span><span class="o">=</span><span class="n">lst</span><span class="p">[</span><span class="mi">5</span><span class="err">:</span><span class="p">]</span>
<span class="w">    </span><span class="n">hand1</span><span class="err">.</span><span class="n">sort</span><span class="p">()</span>
<span class="w">    </span><span class="n">hand2</span><span class="err">.</span><span class="n">sort</span><span class="p">()</span>
<span class="w">    </span><span class="n">flush1</span><span class="o">=</span><span class="n">hand1</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span><span class="o">==</span><span class="n">hand1</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span><span class="o">==</span><span class="n">hand1</span><span class="p">[</span><span class="mi">2</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span><span class="o">==</span><span class="n">hand1</span><span class="p">[</span><span class="mi">3</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span><span class="o">==</span><span class="n">hand1</span><span class="p">[</span><span class="mi">4</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span>
<span class="w">    </span><span class="n">flush2</span><span class="o">=</span><span class="n">hand2</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span><span class="o">==</span><span class="n">hand2</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span><span class="o">==</span><span class="n">hand2</span><span class="p">[</span><span class="mi">2</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span><span class="o">==</span><span class="n">hand2</span><span class="p">[</span><span class="mi">3</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span><span class="o">==</span><span class="n">hand2</span><span class="p">[</span><span class="mi">4</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span>
<span class="w">    </span><span class="n">value1</span><span class="o">=</span><span class="p">[</span><span class="n">hand1</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span><span class="w"> </span><span class="n">for</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="mi">5</span><span class="p">)]</span>
<span class="w">    </span><span class="n">value2</span><span class="o">=</span><span class="p">[</span><span class="n">hand2</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span><span class="w"> </span><span class="n">for</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="mi">5</span><span class="p">)]</span>
<span class="w">    </span><span class="n">four1</span><span class="o">=</span><span class="n">value1</span><span class="err">.</span><span class="n">count</span><span class="p">(</span><span class="n">value1</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span><span class="o">&gt;=</span><span class="mi">4</span>
<span class="w">    </span><span class="n">four2</span><span class="o">=</span><span class="n">value2</span><span class="err">.</span><span class="n">count</span><span class="p">(</span><span class="n">value2</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span><span class="o">&gt;=</span><span class="mi">4</span>
<span class="w">    </span><span class="n">three1</span><span class="o">=</span><span class="n">value1</span><span class="err">.</span><span class="n">count</span><span class="p">(</span><span class="n">value1</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span><span class="o">==</span><span class="mi">3</span>
<span class="w">    </span><span class="n">three2</span><span class="o">=</span><span class="n">value2</span><span class="err">.</span><span class="n">count</span><span class="p">(</span><span class="n">value2</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span><span class="o">==</span><span class="mi">3</span>
<span class="w">    </span><span class="n">two1</span><span class="o">=</span><span class="n">value1</span><span class="err">.</span><span class="n">count</span><span class="p">(</span><span class="n">value1</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span><span class="o">==</span><span class="mi">2</span><span class="w"> </span><span class="n">or</span><span class="w"> </span><span class="n">value1</span><span class="err">.</span><span class="n">count</span><span class="p">(</span><span class="n">value1</span><span class="p">[</span><span class="mi">3</span><span class="p">])</span><span class="o">==</span><span class="mi">2</span>
<span class="w">    </span><span class="n">two2</span><span class="o">=</span><span class="n">value2</span><span class="err">.</span><span class="n">count</span><span class="p">(</span><span class="n">value2</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span><span class="o">==</span><span class="mi">2</span><span class="w"> </span><span class="n">or</span><span class="w"> </span><span class="n">value2</span><span class="err">.</span><span class="n">count</span><span class="p">(</span><span class="n">value2</span><span class="p">[</span><span class="mi">3</span><span class="p">])</span><span class="o">==</span><span class="mi">2</span>
<span class="w">    </span><span class="n">fh1</span><span class="o">=</span><span class="n">three1</span><span class="w"> </span><span class="n">and</span><span class="w"> </span><span class="n">two1</span>
<span class="w">    </span><span class="n">fh2</span><span class="o">=</span><span class="n">three2</span><span class="w"> </span><span class="n">and</span><span class="w"> </span><span class="n">two2</span>
<span class="w">    </span><span class="n">stt1</span><span class="o">=</span><span class="n">value1</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">stt</span>
<span class="w">    </span><span class="n">stt2</span><span class="o">=</span><span class="n">value2</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">stt</span>
<span class="w">    </span><span class="n">fs1</span><span class="o">=</span><span class="n">flush1</span><span class="w"> </span><span class="n">and</span><span class="w"> </span><span class="n">stt1</span>
<span class="w">    </span><span class="n">fs2</span><span class="o">=</span><span class="n">flush2</span><span class="w"> </span><span class="n">and</span><span class="w"> </span><span class="n">stt2</span>
<span class="w">    </span><span class="n">if</span><span class="w"> </span><span class="n">fs1</span><span class="w"> </span><span class="n">and</span><span class="w"> </span><span class="n">not</span><span class="w"> </span><span class="n">fs2</span><span class="err">:</span>
<span class="w">        </span><span class="n">return</span><span class="w"> </span><span class="mi">1</span>
<span class="w">    </span><span class="n">if</span><span class="w"> </span><span class="n">fs2</span><span class="w"> </span><span class="n">and</span><span class="w"> </span><span class="n">not</span><span class="w"> </span><span class="n">fs1</span><span class="err">:</span>
<span class="w">        </span><span class="n">return</span><span class="w"> </span><span class="mi">0</span>
<span class="w">    </span><span class="n">if</span><span class="w"> </span><span class="n">fs1</span><span class="w"> </span><span class="n">and</span><span class="w"> </span><span class="n">fs2</span><span class="err">:</span>
<span class="w">        </span><span class="n">rank1</span><span class="o">=</span><span class="n">stt</span><span class="err">.</span><span class="n">index</span><span class="p">(</span><span class="n">value1</span><span class="p">)</span>
<span class="w">        </span><span class="n">rank2</span><span class="o">=</span><span class="n">stt</span><span class="err">.</span><span class="n">index</span><span class="p">(</span><span class="n">value2</span><span class="p">)</span>
<span class="w">        </span><span class="n">if</span><span class="w"> </span><span class="n">rank1</span><span class="o">&gt;</span><span class="n">rank2</span><span class="err">:</span>
<span class="w">            </span><span class="n">return</span><span class="w"> </span><span class="mi">1</span>
<span class="w">        </span><span class="n">return</span><span class="w"> </span><span class="mi">0</span>
<span class="w">    </span><span class="n">if</span><span class="w"> </span><span class="n">four1</span><span class="w"> </span><span class="n">and</span><span class="w"> </span><span class="n">not</span><span class="w"> </span><span class="n">four2</span><span class="err">:</span>
<span class="w">        </span><span class="n">return</span><span class="w"> </span><span class="mi">1</span>
<span class="w">    </span><span class="n">if</span><span class="w"> </span><span class="n">four2</span><span class="w"> </span><span class="n">and</span><span class="w"> </span><span class="n">not</span><span class="w"> </span><span class="n">four1</span><span class="err">:</span>
<span class="w">        </span><span class="n">return</span><span class="w"> </span><span class="mi">0</span>
<span class="w">    </span><span class="n">if</span><span class="w"> </span><span class="n">four1</span><span class="w"> </span><span class="n">and</span><span class="w"> </span><span class="n">four2</span><span class="err">:</span>
<span class="w">        </span><span class="n">rank1</span><span class="o">=</span><span class="n">value1</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>
<span class="w">        </span><span class="n">rank2</span><span class="o">=</span><span class="n">value2</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>
<span class="w">        </span><span class="n">if</span><span class="w"> </span><span class="n">rank1</span><span class="o">&gt;</span><span class="n">rank2</span><span class="err">:</span>
<span class="w">            </span><span class="n">return</span><span class="w"> </span><span class="mi">1</span>
<span class="w">        </span><span class="n">if</span><span class="w"> </span><span class="n">rank1</span><span class="o">&lt;</span><span class="n">rank2</span><span class="err">:</span>
<span class="w">            </span><span class="n">return</span><span class="w"> </span><span class="mi">0</span>
<span class="w">        </span><span class="n">if</span><span class="w"> </span><span class="n">value1</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">!=</span><span class="n">value1</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="err">:</span>
<span class="w">            </span><span class="n">s1</span><span class="o">=</span><span class="n">value1</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="w">        </span><span class="n">else</span><span class="err">:</span>
<span class="w">            </span><span class="n">s1</span><span class="o">=</span><span class="n">value1</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span>
<span class="w">        </span><span class="n">if</span><span class="w"> </span><span class="n">value2</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">!=</span><span class="n">value2</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="err">:</span>
<span class="w">            </span><span class="n">s2</span><span class="o">=</span><span class="n">value2</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="w">        </span><span class="n">else</span><span class="err">:</span>
<span class="w">            </span><span class="n">s2</span><span class="o">=</span><span class="n">value2</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span>
<span class="w">        </span><span class="n">if</span><span class="w"> </span><span class="n">s1</span><span class="o">&gt;</span><span class="n">s2</span><span class="err">:</span>
<span class="w">            </span><span class="n">return</span><span class="w"> </span><span class="mi">1</span>
<span class="w">        </span><span class="n">return</span><span class="w"> </span><span class="mi">0</span>
<span class="w">    </span><span class="n">if</span><span class="w"> </span><span class="n">fh1</span><span class="w"> </span><span class="n">and</span><span class="w"> </span><span class="n">not</span><span class="w"> </span><span class="n">fh2</span><span class="err">:</span>
<span class="w">        </span><span class="n">return</span><span class="w"> </span><span class="mi">1</span>
<span class="w">    </span><span class="n">if</span><span class="w"> </span><span class="n">fh2</span><span class="w"> </span><span class="n">and</span><span class="w"> </span><span class="n">not</span><span class="w"> </span><span class="n">fh1</span><span class="err">:</span>
<span class="w">        </span><span class="n">return</span><span class="w"> </span><span class="mi">0</span>
<span class="w">    </span><span class="n">if</span><span class="w"> </span><span class="n">fh1</span><span class="w"> </span><span class="n">and</span><span class="w"> </span><span class="n">fh2</span><span class="err">:</span>
<span class="w">    </span><span class="n">print</span><span class="p">(</span><span class="n">value1</span><span class="p">)</span>
<span class="w">    </span><span class="n">print</span><span class="p">(</span><span class="n">value2</span><span class="p">)</span>
<span class="w">    </span><span class="n">print</span><span class="p">(</span><span class="n">hand1</span><span class="p">)</span>
<span class="w">    </span><span class="n">print</span><span class="p">(</span><span class="n">hand2</span><span class="p">)</span>
<span class="n">for</span><span class="w"> </span><span class="n">hand</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">hands</span><span class="err">:</span>
<span class="w">    </span><span class="n">test</span><span class="p">(</span><span class="n">hand</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-mathematica notranslate"><div class="highlight"><pre><span></span><span class="nv">#</span><span class="w"> </span><span class="n">Updated</span><span class="w"> </span><span class="n">Function</span>
<span class="n">RANKS</span><span class="o">=</span><span class="p">{</span><span class="o">**</span><span class="p">{</span><span class="n">str</span><span class="p">(</span><span class="n">i</span><span class="p">)</span><span class="err">:</span><span class="n">i</span><span class="w"> </span><span class="n">for</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">10</span><span class="p">)},</span><span class="err">&#39;</span><span class="n">T</span><span class="err">&#39;:</span><span class="mi">10</span><span class="p">,</span><span class="err">&#39;</span><span class="n">J</span><span class="err">&#39;:</span><span class="mi">11</span><span class="p">,</span><span class="err">&#39;</span><span class="n">Q</span><span class="err">&#39;:</span><span class="mi">12</span><span class="p">,</span><span class="err">&#39;</span><span class="n">K</span><span class="err">&#39;:</span><span class="mi">13</span><span class="p">,</span><span class="err">&#39;</span><span class="n">A</span><span class="err">&#39;:</span><span class="mi">14</span><span class="p">}</span>
<span class="n">def</span><span class="w"> </span><span class="nv">hand_rank</span><span class="p">(</span><span class="n">hand</span><span class="err">:</span><span class="n">list</span><span class="p">)</span><span class="err">:</span>
<span class="w">    </span><span class="n">ranks</span><span class="o">=</span><span class="p">[</span><span class="n">RANKS</span><span class="p">[</span><span class="n">card</span><span class="p">[</span><span class="mi">0</span><span class="p">]]</span><span class="w"> </span><span class="n">for</span><span class="w"> </span><span class="n">card</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">hand</span><span class="p">]</span>
<span class="w">    </span><span class="n">suits</span><span class="o">=</span><span class="p">[</span><span class="n">card</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="w"> </span><span class="n">for</span><span class="w"> </span><span class="n">card</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">hand</span><span class="p">]</span>
<span class="w">    </span><span class="n">ranks</span><span class="err">.</span><span class="n">sort</span><span class="p">()</span>
<span class="w">    </span><span class="n">counter</span><span class="o">=</span><span class="n">dict</span><span class="p">(</span><span class="n">Counter</span><span class="p">(</span><span class="n">ranks</span><span class="p">))</span>
<span class="w">    </span><span class="n">flush</span><span class="o">=</span><span class="n">len</span><span class="p">(</span><span class="n">set</span><span class="p">(</span><span class="n">suits</span><span class="p">))</span><span class="o">==</span><span class="mi">1</span>
<span class="w">    </span><span class="n">stt</span><span class="o">=</span><span class="n">max</span><span class="p">(</span><span class="n">ranks</span><span class="p">)</span><span class="o">-</span><span class="n">min</span><span class="p">(</span><span class="n">ranks</span><span class="p">)</span><span class="o">==</span><span class="mi">4</span><span class="w"> </span><span class="n">and</span><span class="w"> </span><span class="n">len</span><span class="p">(</span><span class="n">set</span><span class="p">(</span><span class="n">ranks</span><span class="p">))</span><span class="o">==</span><span class="mi">5</span>
<span class="w">    </span><span class="n">four</span><span class="o">=</span><span class="n">counter</span><span class="p">[</span><span class="n">ranks</span><span class="p">[</span><span class="mi">2</span><span class="p">]]</span><span class="o">==</span><span class="mi">4</span>
<span class="w">    </span><span class="n">three</span><span class="o">=</span><span class="n">counter</span><span class="p">[</span><span class="n">ranks</span><span class="p">[</span><span class="mi">2</span><span class="p">]]</span><span class="o">==</span><span class="mi">3</span>
<span class="w">    </span><span class="n">two</span><span class="o">=</span><span class="n">counter</span><span class="p">[</span><span class="n">ranks</span><span class="p">[</span><span class="mi">1</span><span class="p">]]</span><span class="o">==</span><span class="mi">2</span><span class="w"> </span><span class="n">or</span><span class="w"> </span><span class="n">counter</span><span class="p">[</span><span class="n">ranks</span><span class="p">[</span><span class="mi">3</span><span class="p">]]</span><span class="o">==</span><span class="mi">2</span>
<span class="w">    </span><span class="nv">full_house</span><span class="o">=</span><span class="n">three</span><span class="w"> </span><span class="n">and</span><span class="w"> </span><span class="n">two</span>
<span class="w">    </span><span class="nv">two_pairs</span><span class="o">=</span><span class="n">counter</span><span class="p">[</span><span class="n">ranks</span><span class="p">[</span><span class="mi">1</span><span class="p">]]</span><span class="o">==</span><span class="mi">2</span><span class="w"> </span><span class="n">and</span><span class="w"> </span><span class="n">counter</span><span class="p">[</span><span class="n">ranks</span><span class="p">[</span><span class="mi">3</span><span class="p">]]</span><span class="o">==</span><span class="mi">2</span>
<span class="w">    </span><span class="n">if</span><span class="w"> </span><span class="n">flush</span><span class="w"> </span><span class="n">and</span><span class="w"> </span><span class="n">stt</span><span class="err">:</span>
<span class="w">        </span><span class="n">return</span><span class="w"> </span><span class="p">(</span><span class="mi">8</span><span class="p">,[</span><span class="n">max</span><span class="p">(</span><span class="n">ranks</span><span class="p">)])</span>
<span class="w">    </span><span class="n">if</span><span class="w"> </span><span class="n">four</span><span class="err">:</span>
<span class="w">        </span><span class="n">return</span><span class="w"> </span><span class="p">(</span><span class="mi">7</span><span class="p">,[</span><span class="n">ranks</span><span class="p">[</span><span class="mi">2</span><span class="p">]])</span>
<span class="w">    </span><span class="n">if</span><span class="w"> </span><span class="nv">full_house</span><span class="err">:</span>
<span class="w">        </span><span class="n">return</span><span class="w"> </span><span class="p">(</span><span class="mi">6</span><span class="p">,[</span><span class="n">ranks</span><span class="p">[</span><span class="mi">2</span><span class="p">]])</span>
<span class="w">    </span><span class="n">if</span><span class="w"> </span><span class="n">flush</span><span class="err">:</span>
<span class="w">        </span><span class="n">return</span><span class="w"> </span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="n">ranks</span><span class="p">[</span><span class="err">::</span><span class="mi">-1</span><span class="p">])</span>
<span class="w">    </span><span class="n">if</span><span class="w"> </span><span class="n">stt</span><span class="err">:</span>
<span class="w">        </span><span class="n">return</span><span class="w"> </span><span class="p">(</span><span class="mi">4</span><span class="p">,[</span><span class="n">ranks</span><span class="p">[</span><span class="mi">0</span><span class="p">]])</span>
<span class="w">    </span><span class="n">if</span><span class="w"> </span><span class="n">three</span><span class="err">:</span>
<span class="w">        </span><span class="n">return</span><span class="w"> </span><span class="p">(</span><span class="mi">3</span><span class="p">,[</span><span class="n">ranks</span><span class="p">[</span><span class="mi">2</span><span class="p">]])</span>
<span class="w">    </span><span class="n">if</span><span class="w"> </span><span class="nv">two_pairs</span><span class="err">:</span>
<span class="w">        </span><span class="n">if</span><span class="w"> </span><span class="n">counter</span><span class="p">[</span><span class="n">ranks</span><span class="p">[</span><span class="mi">0</span><span class="p">]]</span><span class="o">==</span><span class="mi">1</span><span class="err">:</span>
<span class="w">            </span><span class="n">kicker</span><span class="o">=</span><span class="mi">0</span>
<span class="w">        </span><span class="n">elif</span><span class="w"> </span><span class="n">counter</span><span class="p">[</span><span class="n">ranks</span><span class="p">[</span><span class="mi">2</span><span class="p">]]</span><span class="o">==</span><span class="mi">1</span><span class="err">:</span>
<span class="w">            </span><span class="n">kicker</span><span class="o">=</span><span class="mi">2</span>
<span class="w">        </span><span class="n">else</span><span class="err">:</span>
<span class="w">            </span><span class="n">kicker</span><span class="o">=</span><span class="mi">4</span>
<span class="w">        </span><span class="n">return</span><span class="w"> </span><span class="p">(</span><span class="mi">2</span><span class="p">,[</span><span class="n">ranks</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span><span class="n">ranks</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span><span class="n">ranks</span><span class="p">[</span><span class="n">kicker</span><span class="p">]])</span>
<span class="w">    </span><span class="n">if</span><span class="w"> </span><span class="n">two</span><span class="err">:</span>
<span class="w">        </span><span class="n">if</span><span class="w"> </span><span class="n">counter</span><span class="p">[</span><span class="n">ranks</span><span class="p">[</span><span class="mi">1</span><span class="p">]]</span><span class="o">==</span><span class="mi">2</span><span class="err">:</span>
<span class="w">            </span><span class="n">pos</span><span class="o">=</span><span class="mi">1</span>
<span class="w">        </span><span class="n">else</span><span class="err">:</span>
<span class="w">            </span><span class="n">pos</span><span class="o">=</span><span class="mi">3</span>
<span class="w">        </span><span class="n">singles</span><span class="o">=</span><span class="p">[(</span><span class="n">counter</span><span class="p">[</span><span class="n">n</span><span class="p">]</span><span class="o">==</span><span class="mi">1</span><span class="p">)</span><span class="o">*</span><span class="n">n</span><span class="w"> </span><span class="n">for</span><span class="w"> </span><span class="n">n</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">ranks</span><span class="p">]</span>
<span class="w">        </span><span class="n">singles</span><span class="err">.</span><span class="n">sort</span><span class="p">()</span>
<span class="w">        </span><span class="n">for</span><span class="w"> </span><span class="nv">_</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span><span class="err">:</span>
<span class="w">            </span><span class="n">singles</span><span class="err">.</span><span class="n">remove</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="w">        </span><span class="n">return</span><span class="w"> </span><span class="p">(</span><span class="mi">1</span><span class="p">,[</span><span class="n">ranks</span><span class="p">[</span><span class="n">pos</span><span class="p">]]</span><span class="o">+</span><span class="n">singles</span><span class="p">[</span><span class="err">::</span><span class="mi">-1</span><span class="p">])</span><span class="w"> </span><span class="nv">#</span><span class="w"> </span><span class="n">determine</span><span class="w"> </span><span class="n">pair</span><span class="w"> </span><span class="n">position</span>
<span class="w">    </span><span class="n">return</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="n">ranks</span><span class="p">[</span><span class="err">::</span><span class="mi">-1</span><span class="p">])</span>
<span class="n">def</span><span class="w"> </span><span class="n">test</span><span class="p">(</span><span class="n">hands</span><span class="err">:</span><span class="n">list</span><span class="p">)</span><span class="err">:</span>
<span class="w">    </span><span class="n">hand1</span><span class="o">=</span><span class="n">hands</span><span class="p">[</span><span class="err">:</span><span class="mi">5</span><span class="p">]</span>
<span class="w">    </span><span class="n">hand2</span><span class="o">=</span><span class="n">hands</span><span class="p">[</span><span class="mi">5</span><span class="err">:</span><span class="p">]</span>
<span class="w">    </span><span class="n">if</span><span class="w"> </span><span class="nv">hand_rank</span><span class="p">(</span><span class="n">hand1</span><span class="p">)</span><span class="o">&gt;</span><span class="nv">hand_rank</span><span class="p">(</span><span class="n">hand2</span><span class="p">)</span><span class="err">:</span>
<span class="w">        </span><span class="n">return</span><span class="w"> </span><span class="mi">1</span>
<span class="w">    </span><span class="n">return</span><span class="w"> </span><span class="mi">0</span>
<span class="n">results</span><span class="o">=</span><span class="p">[</span><span class="n">test</span><span class="p">(</span><span class="n">hand</span><span class="p">)</span><span class="w"> </span><span class="n">for</span><span class="w"> </span><span class="n">hand</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">hands</span><span class="p">]</span>
<span class="n">print</span><span class="p">(</span><span class="n">sum</span><span class="p">(</span><span class="n">results</span><span class="p">))</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="pe-55">
<h2>PE 55<a class="headerlink" href="#pe-55" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-mathematica notranslate"><div class="highlight"><pre><span></span><span class="nv">#55</span><span class="w"> </span><span class="n">Lychrel</span><span class="w"> </span><span class="n">Numbers</span>
<span class="nv">MAX_ITERATIONS</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">50</span>
<span class="n">def</span><span class="w"> </span><span class="n">isPalindrome</span><span class="p">(</span><span class="n">number</span><span class="p">)</span><span class="err">:</span><span class="w"> </span>
<span class="w">	</span><span class="n">return</span><span class="w"> </span><span class="n">number</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">reverse</span><span class="p">(</span><span class="n">number</span><span class="p">)</span>
<span class="n">def</span><span class="w"> </span><span class="n">reverse</span><span class="p">(</span><span class="n">number</span><span class="p">)</span><span class="err">:</span><span class="w"> </span>
<span class="w">	</span><span class="n">reverse</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span>
<span class="w">	</span><span class="n">while</span><span class="w"> </span><span class="p">(</span><span class="n">number</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="err">:</span><span class="w"> </span>
<span class="w">		</span><span class="n">remainder</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">number</span><span class="w"> </span><span class="err">%</span><span class="w"> </span><span class="mi">10</span>
<span class="w">		</span><span class="n">reverse</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">reverse</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">10</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">remainder</span>
<span class="w">		</span><span class="n">number</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">int</span><span class="p">(</span><span class="n">number</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="mi">10</span><span class="p">)</span>
<span class="w">	</span><span class="n">return</span><span class="w"> </span><span class="n">reverse</span>
<span class="n">def</span><span class="w"> </span><span class="n">isLychrel</span><span class="p">(</span><span class="n">number</span><span class="p">)</span><span class="err">:</span>
<span class="w">	</span><span class="n">for</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="nv">MAX_ITERATIONS</span><span class="p">)</span><span class="err">:</span><span class="w"> </span>
<span class="w">		</span><span class="n">number</span><span class="o">+=</span><span class="n">reverse</span><span class="p">(</span><span class="n">number</span><span class="p">)</span>
<span class="w">		</span><span class="n">if</span><span class="w"> </span><span class="p">(</span><span class="n">isPalindrome</span><span class="p">(</span><span class="n">number</span><span class="p">))</span><span class="err">:</span><span class="w"> </span>
<span class="w">			</span><span class="n">return</span><span class="w"> </span><span class="n">False</span>
<span class="w">	</span><span class="n">return</span><span class="w"> </span><span class="n">True</span>
<span class="nv">num_lyc</span><span class="o">=</span><span class="mi">0</span>
<span class="n">for</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">10000</span><span class="p">)</span><span class="err">:</span>
<span class="w">	</span><span class="n">if</span><span class="w"> </span><span class="n">isLychrel</span><span class="p">(</span><span class="n">i</span><span class="p">)</span><span class="o">==</span><span class="n">True</span><span class="err">:</span>
<span class="w">		</span><span class="nv">num_lyc</span><span class="o">+=</span><span class="mi">1</span>
<span class="nv">num_lyc</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="pe-56">
<h2>PE 56<a class="headerlink" href="#pe-56" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-mathematica notranslate"><div class="highlight"><pre><span></span><span class="nv">#56</span><span class="w"> </span><span class="n">Powerful</span><span class="w"> </span><span class="n">Digit</span><span class="w"> </span><span class="n">Sum</span>
<span class="nv">sum_num</span><span class="o">=</span><span class="mi">0</span>
<span class="n">for</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">100</span><span class="p">)</span><span class="err">:</span>
<span class="w">    </span><span class="n">for</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">100</span><span class="p">)</span><span class="err">:</span>
<span class="w">        </span><span class="nv">current_sum</span><span class="o">=</span><span class="mi">0</span>
<span class="w">        </span><span class="n">power</span><span class="o">=</span><span class="n">i</span><span class="o">**</span><span class="n">j</span>
<span class="w">        </span><span class="nv">list_power</span><span class="o">=</span><span class="n">list</span><span class="p">(</span><span class="n">map</span><span class="p">(</span><span class="n">int</span><span class="p">,</span><span class="w"> </span><span class="n">str</span><span class="p">(</span><span class="n">power</span><span class="p">)))</span>
<span class="w">        </span><span class="n">for</span><span class="w"> </span><span class="n">digit</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="nv">list_power</span><span class="err">:</span>
<span class="w">            </span><span class="nv">current_sum</span><span class="o">+=</span><span class="n">digit</span>
<span class="w">        </span><span class="n">if</span><span class="w"> </span><span class="nv">current_sum</span><span class="o">&gt;</span><span class="nv">sum_num</span><span class="err">:</span>
<span class="w">            </span><span class="nv">sum_num</span><span class="o">=</span><span class="nv">current_sum</span>
<span class="nv">sum_num</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="pe-57">
<h2>PE 57<a class="headerlink" href="#pe-57" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-mathematica notranslate"><div class="highlight"><pre><span></span><span class="nv">#</span><span class="w"> </span><span class="mi">57</span><span class="w"> </span><span class="n">Square</span><span class="w"> </span><span class="n">Root</span><span class="w"> </span><span class="n">Convergents</span>
<span class="n">def</span><span class="w"> </span><span class="nv">convergent_square_root2</span><span class="p">(</span><span class="n">term</span><span class="p">)</span><span class="err">:</span>
<span class="w">    </span><span class="n">numerator</span><span class="o">=</span><span class="mi">3</span>
<span class="w">    </span><span class="n">denominator</span><span class="o">=</span><span class="mi">2</span>
<span class="w">    </span><span class="n">for</span><span class="w"> </span><span class="nv">_</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="n">term</span><span class="mi">-1</span><span class="p">)</span><span class="err">:</span>
<span class="w">        </span><span class="n">denominator1</span><span class="o">=</span><span class="n">numerator</span><span class="o">+</span><span class="n">denominator</span>
<span class="w">        </span><span class="n">numerator</span><span class="o">=</span><span class="n">denominator</span><span class="o">+</span><span class="n">denominator1</span>
<span class="w">        </span><span class="n">denominator</span><span class="o">=</span><span class="n">denominator1</span>
<span class="w">    </span><span class="n">return</span><span class="w"> </span><span class="p">[</span><span class="n">numerator</span><span class="p">,</span><span class="n">denominator</span><span class="p">]</span>

<span class="n">def</span><span class="w"> </span><span class="n">solve</span><span class="p">()</span><span class="err">:</span>
<span class="w">    </span><span class="n">ans</span><span class="o">=</span><span class="mi">0</span>
<span class="w">    </span><span class="n">for</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1001</span><span class="p">)</span><span class="err">:</span>
<span class="w">        </span><span class="n">fraction</span><span class="o">=</span><span class="nv">convergent_square_root2</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
<span class="w">        </span><span class="n">n</span><span class="o">=</span><span class="n">list</span><span class="p">(</span><span class="n">map</span><span class="p">(</span><span class="n">int</span><span class="p">,</span><span class="n">str</span><span class="p">(</span><span class="n">fraction</span><span class="p">[</span><span class="mi">0</span><span class="p">])))</span>
<span class="w">        </span><span class="n">d</span><span class="o">=</span><span class="n">list</span><span class="p">(</span><span class="n">map</span><span class="p">(</span><span class="n">int</span><span class="p">,</span><span class="n">str</span><span class="p">(</span><span class="n">fraction</span><span class="p">[</span><span class="mi">1</span><span class="p">])))</span><span class="w"> </span><span class="nv">#</span><span class="n">separates</span><span class="w"> </span><span class="n">number</span><span class="err">&#39;</span><span class="n">s</span><span class="w"> </span><span class="n">digits</span><span class="w"> </span><span class="n">into</span><span class="w"> </span><span class="n">list</span>
<span class="w">        </span><span class="n">if</span><span class="w"> </span><span class="n">len</span><span class="p">(</span><span class="n">n</span><span class="p">)</span><span class="o">&gt;</span><span class="n">len</span><span class="p">(</span><span class="n">d</span><span class="p">)</span><span class="err">:</span>
<span class="w">            </span><span class="n">ans</span><span class="o">+=</span><span class="mi">1</span>
<span class="w">    </span><span class="n">return</span><span class="w"> </span><span class="n">ans</span>

<span class="n">solve</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="pe-58">
<h2>PE 58<a class="headerlink" href="#pe-58" title="Link to this heading">#</a></h2>
<p>The corner_num function:</p>
<ol class="arabic simple">
<li><p>Number 1 is the centre of the square.</p></li>
<li><p>Create a list containing the number 1.</p></li>
<li><p>Iterate for the number of times you need to add a number to the list</p>
<ul class="simple">
<li><p>Add the next number</p></li>
<li><p>Change n to the last number of the list</p></li>
</ul>
</li>
<li><p>Return the list</p></li>
</ol>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-mathematica notranslate"><div class="highlight"><pre><span></span><span class="nv">#</span><span class="w"> </span><span class="mi">58</span><span class="w"> </span><span class="n">Spiral</span><span class="w"> </span><span class="n">Primes</span>
<span class="err">&#39;&#39;&#39;</span><span class="w"> </span><span class="mi">37</span><span class="w"> </span><span class="mi">36</span><span class="w"> </span><span class="mi">35</span><span class="w"> </span><span class="mi">34</span><span class="w"> </span><span class="mi">33</span><span class="w"> </span><span class="mi">32</span><span class="w"> </span><span class="mi">31</span>
<span class="w">    </span><span class="mi">38</span><span class="w"> </span><span class="mi">17</span><span class="w"> </span><span class="mi">16</span><span class="w"> </span><span class="mi">15</span><span class="w"> </span><span class="mi">14</span><span class="w"> </span><span class="mi">13</span><span class="w"> </span><span class="mi">30</span>
<span class="w">    </span><span class="mi">39</span><span class="w"> </span><span class="mi">18</span><span class="w">  </span><span class="mi">5</span><span class="w">  </span><span class="mi">4</span><span class="w">  </span><span class="mi">3</span><span class="w"> </span><span class="mi">12</span><span class="w"> </span><span class="mi">29</span>
<span class="w">    </span><span class="mi">40</span><span class="w"> </span><span class="mi">19</span><span class="w">  </span><span class="mi">6</span><span class="w">  </span><span class="mi">1</span><span class="w">  </span><span class="mi">2</span><span class="w"> </span><span class="mi">11</span><span class="w"> </span><span class="mi">28</span>
<span class="w">    </span><span class="mi">41</span><span class="w"> </span><span class="mi">20</span><span class="w">  </span><span class="mi">7</span><span class="w">  </span><span class="mi">8</span><span class="w">  </span><span class="mi">9</span><span class="w"> </span><span class="mi">10</span><span class="w"> </span><span class="mi">27</span>
<span class="w">    </span><span class="mi">42</span><span class="w"> </span><span class="mi">21</span><span class="w"> </span><span class="mi">22</span><span class="w"> </span><span class="mi">23</span><span class="w"> </span><span class="mi">24</span><span class="w"> </span><span class="mi">25</span><span class="w"> </span><span class="mi">26</span>
<span class="w">    </span><span class="mi">43</span><span class="w"> </span><span class="mi">44</span><span class="w"> </span><span class="mi">45</span><span class="w"> </span><span class="mi">46</span><span class="w"> </span><span class="mi">47</span><span class="w"> </span><span class="mi">48</span><span class="w"> </span><span class="mi">49</span>
<span class="err">&#39;&#39;&#39;</span>
<span class="n">def</span><span class="w"> </span><span class="nv">corner_num</span><span class="p">(</span><span class="nv">side_length</span><span class="p">)</span><span class="err">:</span>
<span class="w">    </span><span class="n">lst</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
<span class="w">    </span><span class="n">n</span><span class="o">=</span><span class="mi">1</span>
<span class="w">    </span><span class="n">for</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="nv">side_length</span><span class="o">*</span><span class="mi">2</span><span class="o">+</span><span class="mi">2</span><span class="p">)</span><span class="err">:</span>
<span class="w">        </span><span class="n">lst</span><span class="err">.</span><span class="n">append</span><span class="p">(</span><span class="n">n</span><span class="o">+</span><span class="n">i</span><span class="o">//</span><span class="mi">4</span><span class="o">*</span><span class="mi">2</span><span class="p">)</span>
<span class="w">        </span><span class="n">n</span><span class="o">+=</span><span class="n">i</span><span class="o">//</span><span class="mi">4</span><span class="o">*</span><span class="mi">2</span>
<span class="w">    </span><span class="n">return</span><span class="w"> </span><span class="n">lst</span>
<span class="n">def</span><span class="w"> </span><span class="nv">prime_percentage</span><span class="p">(</span><span class="n">lst</span><span class="p">)</span><span class="err">:</span>
<span class="w">    </span><span class="n">p</span><span class="o">=</span><span class="n">list</span><span class="p">(</span><span class="n">filter</span><span class="p">(</span><span class="n">lambda</span><span class="w"> </span><span class="n">x</span><span class="err">:</span><span class="nv">is_prime</span><span class="p">(</span><span class="n">x</span><span class="p">),</span><span class="n">lst</span><span class="p">))</span>
<span class="w">    </span><span class="n">return</span><span class="w"> </span><span class="n">float</span><span class="p">(</span><span class="n">len</span><span class="p">(</span><span class="n">p</span><span class="p">)</span><span class="o">/</span><span class="n">len</span><span class="p">(</span><span class="n">lst</span><span class="p">)</span><span class="o">*</span><span class="mi">100</span><span class="p">)</span>

<span class="n">for</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="mi">26200</span><span class="p">,</span><span class="mi">26300</span><span class="p">)</span><span class="err">:</span>
<span class="w">    </span><span class="n">if</span><span class="w"> </span><span class="nv">prime_percentage</span><span class="p">(</span><span class="nv">corner_num</span><span class="p">(</span><span class="n">i</span><span class="p">))</span><span class="o">&lt;=</span><span class="mi">10</span><span class="err">:</span>
<span class="w">        </span><span class="n">print</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
<span class="w">        </span><span class="n">break</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="pe-59">
<h2>PE 59<a class="headerlink" href="#pe-59" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-mathematica notranslate"><div class="highlight"><pre><span></span><span class="nv">#</span><span class="w"> </span><span class="mi">59</span><span class="w"> </span><span class="n">XOR</span><span class="w"> </span><span class="n">Decryption</span>
<span class="nv">#</span><span class="w"> </span><span class="n">python</span><span class="w"> </span><span class="n">instead</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">sage</span><span class="w"> </span><span class="n">was</span><span class="w"> </span><span class="n">used</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">use</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">xor</span><span class="w"> </span><span class="n">function</span><span class="p">(</span><span class="n">a</span><span class="o">^</span><span class="n">b</span><span class="w"> </span><span class="n">means</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">xor</span><span class="w"> </span><span class="n">b</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">python</span><span class="p">)</span>
<span class="n">import</span><span class="w"> </span><span class="n">requests</span>
<span class="n">response</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">requests</span><span class="err">.</span><span class="n">get</span><span class="p">(</span><span class="s">&quot;https://projecteuler.net/resources/documents/0059_cipher.txt&quot;</span><span class="p">)</span><span class="w">   </span><span class="nv">#</span><span class="w"> </span><span class="n">Send</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">GET</span><span class="w"> </span><span class="n">request</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">URL</span>
<span class="n">content</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">response</span><span class="err">.</span><span class="n">text</span><span class="w">     </span><span class="nv">#</span><span class="w"> </span><span class="n">Read</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">content</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">response</span>
<span class="n">content</span><span class="o">=</span><span class="n">content</span><span class="err">.</span><span class="n">split</span><span class="p">(</span><span class="err">&#39;</span><span class="p">,</span><span class="err">&#39;</span><span class="p">)</span>
<span class="nv">ascii_num</span><span class="o">=</span><span class="p">[</span><span class="n">int</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="w"> </span><span class="n">for</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">content</span><span class="p">]</span>
<span class="n">def</span><span class="w"> </span><span class="nv">xor_decrypt</span><span class="p">(</span><span class="n">txt</span><span class="p">,</span><span class="n">cipher</span><span class="p">)</span><span class="err">:</span>
<span class="w">    </span><span class="n">lst</span><span class="o">=</span><span class="p">[]</span>
<span class="w">    </span><span class="n">for</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="n">len</span><span class="p">(</span><span class="n">txt</span><span class="p">))</span><span class="err">:</span>
<span class="w">        </span><span class="n">lst</span><span class="err">.</span><span class="n">append</span><span class="p">(</span><span class="n">chr</span><span class="p">(</span><span class="n">txt</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">^</span><span class="n">cipher</span><span class="p">[</span><span class="n">i</span><span class="err">%</span><span class="mi">3</span><span class="p">]))</span>
<span class="w">    </span><span class="n">return</span><span class="w"> </span><span class="err">&#39;&#39;.</span><span class="n">join</span><span class="p">(</span><span class="n">lst</span><span class="p">)</span>
<span class="n">for</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="mi">97</span><span class="p">,</span><span class="mi">123</span><span class="p">)</span><span class="err">:</span>
<span class="w">    </span><span class="n">for</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="mi">97</span><span class="p">,</span><span class="mi">123</span><span class="p">)</span><span class="err">:</span>
<span class="w">        </span><span class="n">for</span><span class="w"> </span><span class="n">k</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="mi">97</span><span class="p">,</span><span class="mi">123</span><span class="p">)</span><span class="err">:</span>
<span class="w">            </span><span class="n">plain</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">xor_decrypt</span><span class="p">(</span><span class="nv">ascii_num</span><span class="p">,</span><span class="w"> </span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="w"> </span><span class="n">j</span><span class="p">,</span><span class="w"> </span><span class="n">k</span><span class="p">])</span>
<span class="w">            </span><span class="n">if</span><span class="w"> </span><span class="n">all</span><span class="p">(</span><span class="mi">32</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="n">ord</span><span class="p">(</span><span class="n">ch</span><span class="p">)</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="mi">126</span><span class="w"> </span><span class="n">or</span><span class="w"> </span><span class="n">ch</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="s">&quot;\n\r\t&quot;</span><span class="w"> </span><span class="n">for</span><span class="w"> </span><span class="n">ch</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">plain</span><span class="p">[</span><span class="err">:</span><span class="mi">200</span><span class="p">])</span><span class="err">:</span>
<span class="w">                </span><span class="n">print</span><span class="p">(</span><span class="n">chr</span><span class="p">(</span><span class="n">i</span><span class="p">),</span><span class="w"> </span><span class="n">chr</span><span class="p">(</span><span class="n">j</span><span class="p">),</span><span class="w"> </span><span class="n">chr</span><span class="p">(</span><span class="n">k</span><span class="p">),</span><span class="w"> </span><span class="s">&quot;=&gt;&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">plain</span><span class="p">[</span><span class="err">:</span><span class="mi">80</span><span class="p">])</span>
<span class="w">                </span><span class="n">print</span><span class="p">(</span><span class="n">str</span><span class="p">(</span><span class="n">plain</span><span class="err">.</span><span class="n">count</span><span class="p">(</span><span class="err">&#39;</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="err">&#39;</span><span class="p">))</span><span class="o">+</span><span class="err">&#39;</span><span class="mi">11111</span><span class="err">&#39;</span><span class="p">)</span><span class="w"> </span><span class="nv">#</span><span class="w"> </span><span class="n">search</span><span class="w"> </span><span class="n">for</span><span class="w"> </span><span class="mi">3211111</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">output</span>
<span class="n">sum</span><span class="p">(</span><span class="n">ord</span><span class="p">(</span><span class="n">char</span><span class="p">)</span><span class="w"> </span><span class="n">for</span><span class="w"> </span><span class="n">char</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">list</span><span class="p">(</span><span class="nv">xor_decrypt</span><span class="p">(</span><span class="nv">ascii_num</span><span class="p">,[</span><span class="mi">101</span><span class="p">,</span><span class="mi">120</span><span class="p">,</span><span class="mi">112</span><span class="p">])))</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="pe-61">
<h2>PE 61<a class="headerlink" href="#pe-61" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-mathematica notranslate"><div class="highlight"><pre><span></span><span class="n">def</span><span class="w"> </span><span class="n">cyclical</span><span class="p">(</span><span class="n">chain</span><span class="p">,</span><span class="n">unused</span><span class="p">)</span><span class="err">:</span>
<span class="w">    </span><span class="n">t</span><span class="o">=</span><span class="n">list</span><span class="p">(</span><span class="n">unused</span><span class="p">)</span>
<span class="w">    </span><span class="n">lst</span><span class="o">=</span><span class="n">chain</span><span class="p">[</span><span class="mi">-1</span><span class="p">]</span>
<span class="w">    </span><span class="n">if</span><span class="w"> </span><span class="n">len</span><span class="p">(</span><span class="n">unused</span><span class="p">)</span><span class="o">==</span><span class="mi">1</span><span class="err">:</span>
<span class="w">        </span><span class="n">for</span><span class="w"> </span><span class="n">n</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">figurate</span><span class="p">[</span><span class="n">t</span><span class="p">[</span><span class="mi">0</span><span class="p">]]</span><span class="err">:</span>
<span class="w">            </span><span class="n">if</span><span class="w"> </span><span class="n">lst</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">==</span><span class="n">n</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="w"> </span><span class="n">and</span><span class="w"> </span><span class="n">chain</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span><span class="o">==</span><span class="n">n</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="err">:</span>
<span class="w">                </span><span class="n">print</span><span class="p">(</span><span class="n">chain</span><span class="p">)</span>
<span class="w">                </span><span class="n">return</span><span class="w"> </span><span class="n">True</span>
<span class="w">        </span><span class="n">return</span><span class="w"> </span><span class="n">False</span>
<span class="w">    </span><span class="n">for</span><span class="w"> </span><span class="n">s</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">t</span><span class="err">:</span>
<span class="w">        </span><span class="n">for</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">figurate</span><span class="p">[</span><span class="n">s</span><span class="p">]</span><span class="err">:</span>
<span class="w">            </span><span class="n">if</span><span class="w"> </span><span class="n">lst</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">==</span><span class="n">i</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="err">:</span>
<span class="w">                </span><span class="n">if</span><span class="w"> </span><span class="n">cyclical</span><span class="p">(</span><span class="n">chain</span><span class="o">+</span><span class="p">[</span><span class="n">i</span><span class="p">],</span><span class="n">unused</span><span class="o">-</span><span class="p">{</span><span class="n">s</span><span class="p">})</span><span class="err">:</span>
<span class="w">                    </span><span class="n">print</span><span class="p">(</span><span class="n">chain</span><span class="p">)</span>
<span class="w">                    </span><span class="n">return</span><span class="w"> </span><span class="n">True</span>
<span class="w">    </span><span class="n">return</span><span class="w"> </span><span class="n">False</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-mathematica notranslate"><div class="highlight"><pre><span></span><span class="nv">#</span><span class="w"> </span><span class="mi">61</span><span class="w"> </span><span class="n">Cyclical</span><span class="w"> </span><span class="n">Figurate</span><span class="w"> </span><span class="n">Numbers</span>
<span class="n">triangle</span><span class="o">=</span><span class="p">[</span><span class="n">n</span><span class="o">*</span><span class="p">(</span><span class="n">n</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span><span class="o">//</span><span class="mi">2</span><span class="w"> </span><span class="n">for</span><span class="w"> </span><span class="n">n</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="mi">45</span><span class="p">,</span><span class="mi">141</span><span class="p">)]</span>
<span class="n">square</span><span class="o">=</span><span class="p">[</span><span class="n">n</span><span class="o">^</span><span class="mi">2</span><span class="w"> </span><span class="n">for</span><span class="w"> </span><span class="n">n</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="mi">32</span><span class="p">,</span><span class="mi">100</span><span class="p">)]</span>
<span class="n">pentagonal</span><span class="o">=</span><span class="p">[</span><span class="n">n</span><span class="o">*</span><span class="p">(</span><span class="mi">3</span><span class="o">*</span><span class="n">n</span><span class="mi">-1</span><span class="p">)</span><span class="o">//</span><span class="mi">2</span><span class="w"> </span><span class="n">for</span><span class="w"> </span><span class="n">n</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="mi">26</span><span class="p">,</span><span class="mi">82</span><span class="p">)]</span>
<span class="n">hexagonal</span><span class="o">=</span><span class="p">[</span><span class="n">n</span><span class="o">*</span><span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="n">n</span><span class="mi">-1</span><span class="p">)</span><span class="w"> </span><span class="n">for</span><span class="w"> </span><span class="n">n</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="mi">23</span><span class="p">,</span><span class="mi">71</span><span class="p">)]</span>
<span class="n">heptagonal</span><span class="o">=</span><span class="p">[</span><span class="n">n</span><span class="o">*</span><span class="p">(</span><span class="mi">5</span><span class="o">*</span><span class="n">n</span><span class="mi">-3</span><span class="p">)</span><span class="o">//</span><span class="mi">2</span><span class="w"> </span><span class="n">for</span><span class="w"> </span><span class="n">n</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="mi">21</span><span class="p">,</span><span class="mi">64</span><span class="p">)]</span>
<span class="n">octagonal</span><span class="o">=</span><span class="p">[</span><span class="n">n</span><span class="o">*</span><span class="p">(</span><span class="mi">3</span><span class="o">*</span><span class="n">n</span><span class="mi">-2</span><span class="p">)</span><span class="w"> </span><span class="n">for</span><span class="w"> </span><span class="n">n</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="mi">19</span><span class="p">,</span><span class="mi">59</span><span class="p">)]</span>
<span class="n">figurate</span><span class="o">=</span><span class="p">[</span><span class="n">triangle</span><span class="p">,</span><span class="n">square</span><span class="p">,</span><span class="n">pentagonal</span><span class="p">,</span><span class="n">hexagonal</span><span class="p">,</span><span class="n">heptagonal</span><span class="p">,</span><span class="n">octagonal</span><span class="p">]</span>
<span class="n">for</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="n">len</span><span class="p">(</span><span class="n">figurate</span><span class="p">))</span><span class="err">:</span>
<span class="w">    </span><span class="n">figurate</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">=</span><span class="n">list</span><span class="p">(</span><span class="n">map</span><span class="p">(</span><span class="n">lambda</span><span class="w"> </span><span class="n">x</span><span class="err">:</span><span class="p">[</span><span class="n">int</span><span class="p">(</span><span class="err">&#39;&#39;.</span><span class="n">join</span><span class="p">([</span><span class="n">str</span><span class="p">(</span><span class="n">x</span><span class="p">)[</span><span class="mi">0</span><span class="p">],</span><span class="n">str</span><span class="p">(</span><span class="n">x</span><span class="p">)[</span><span class="mi">1</span><span class="p">]])),</span><span class="n">int</span><span class="p">(</span><span class="err">&#39;&#39;.</span><span class="n">join</span><span class="p">([</span><span class="n">str</span><span class="p">(</span><span class="n">x</span><span class="p">)[</span><span class="mi">2</span><span class="p">],</span><span class="n">str</span><span class="p">(</span><span class="n">x</span><span class="p">)[</span><span class="mi">3</span><span class="p">]]))],</span><span class="n">figurate</span><span class="p">[</span><span class="n">i</span><span class="p">]))</span>
<span class="w">    </span><span class="n">figurate</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">=</span><span class="n">list</span><span class="p">(</span><span class="n">filter</span><span class="p">(</span><span class="n">lambda</span><span class="w"> </span><span class="n">x</span><span class="err">:</span><span class="n">x</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">&gt;=</span><span class="mi">10</span><span class="p">,</span><span class="n">figurate</span><span class="p">[</span><span class="n">i</span><span class="p">]))</span>
<span class="n">triangle</span><span class="o">=</span><span class="n">figurate</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="n">square</span><span class="o">=</span><span class="n">figurate</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
<span class="n">pentagonal</span><span class="o">=</span><span class="n">figurate</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>
<span class="n">hexagonal</span><span class="o">=</span><span class="n">figurate</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span>
<span class="n">heptagonal</span><span class="o">=</span><span class="n">figurate</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span>
<span class="n">octagonal</span><span class="o">=</span><span class="n">figurate</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span>
<span class="n">for</span><span class="w"> </span><span class="n">n</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">octagonal</span><span class="err">:</span>
<span class="w">    </span><span class="n">if</span><span class="w"> </span><span class="n">cyclical</span><span class="p">([</span><span class="n">n</span><span class="p">],{</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">})</span><span class="err">:</span>
<span class="w">        </span><span class="n">print</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
<span class="w">        </span><span class="n">break</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="pe-62">
<h2>PE 62<a class="headerlink" href="#pe-62" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-mathematica notranslate"><div class="highlight"><pre><span></span><span class="nv">#62</span><span class="w"> </span>
<span class="n">import</span><span class="w"> </span><span class="n">time</span>
<span class="n">start</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">time</span><span class="err">.</span><span class="n">time</span><span class="p">()</span>
<span class="n">cubes</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[]</span>
<span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span>
<span class="n">while</span><span class="w"> </span><span class="n">True</span><span class="err">:</span>
<span class="w">    </span><span class="n">cube</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">sorted</span><span class="p">(</span><span class="n">list</span><span class="p">(</span><span class="n">str</span><span class="p">(</span><span class="n">i</span><span class="o">**</span><span class="mi">3</span><span class="p">)))</span>
<span class="w">    </span><span class="n">cubes</span><span class="err">.</span><span class="n">append</span><span class="p">(</span><span class="n">cube</span><span class="p">)</span>
<span class="w">    </span><span class="n">if</span><span class="w"> </span><span class="n">cubes</span><span class="err">.</span><span class="n">count</span><span class="p">(</span><span class="n">cube</span><span class="p">)</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">5</span><span class="err">:</span>
<span class="w">        </span><span class="n">print</span><span class="p">((</span><span class="n">cubes</span><span class="err">.</span><span class="n">index</span><span class="p">(</span><span class="n">cube</span><span class="p">))</span><span class="o">**</span><span class="mi">3</span><span class="p">)</span>
<span class="w">        </span><span class="n">break</span>
<span class="w">    </span><span class="n">i</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="mi">1</span>
<span class="n">end</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">time</span><span class="err">.</span><span class="n">time</span><span class="p">()</span>
<span class="n">print</span><span class="p">(</span><span class="n">end</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">start</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="pe-63">
<h2>PE 63<a class="headerlink" href="#pe-63" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-mathematica notranslate"><div class="highlight"><pre><span></span><span class="nv">#</span><span class="w"> </span><span class="mi">63</span><span class="w"> </span><span class="n">Powerful</span><span class="w"> </span><span class="n">Digit</span><span class="w"> </span><span class="n">Counts</span>
<span class="n">num</span><span class="o">=</span><span class="mi">0</span>
<span class="n">for</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">10</span><span class="p">)</span><span class="err">:</span>
<span class="w">    </span><span class="n">for</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">22</span><span class="p">)</span><span class="err">:</span>
<span class="w">        </span><span class="n">if</span><span class="w"> </span><span class="n">length</span><span class="p">(</span><span class="n">i</span><span class="o">**</span><span class="n">j</span><span class="p">)</span><span class="o">==</span><span class="n">j</span><span class="err">:</span>
<span class="w">            </span><span class="n">num</span><span class="o">+=</span><span class="mi">1</span>
<span class="n">num</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="pe-64">
<h2>PE 64<a class="headerlink" href="#pe-64" title="Link to this heading">#</a></h2>
<p>The period function uses the continued_fraction function in sage and a recurrence function. The continued_fraction function generates the values for the sequence where you have to check for repeating numbers.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-mathematica notranslate"><div class="highlight"><pre><span></span><span class="nv">#</span><span class="w"> </span><span class="mi">64</span><span class="w"> </span><span class="n">Odd</span><span class="w"> </span><span class="n">Period</span><span class="w"> </span><span class="n">Square</span><span class="w"> </span><span class="n">Roots</span>
<span class="n">def</span><span class="w"> </span><span class="n">period</span><span class="p">(</span><span class="n">n</span><span class="p">,</span><span class="n">limit</span><span class="o">=</span><span class="mi">1000</span><span class="p">)</span><span class="err">:</span>
<span class="w">    </span><span class="n">fr</span><span class="o">=</span><span class="nv">continued_fraction</span><span class="p">(</span><span class="n">sqrt</span><span class="p">(</span><span class="n">n</span><span class="p">))</span>
<span class="w">    </span><span class="n">a0</span><span class="o">=</span><span class="n">fr</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="w">    </span><span class="n">fr</span><span class="o">=</span><span class="n">fr</span><span class="p">[</span><span class="mi">1</span><span class="err">:</span><span class="p">]</span>
<span class="w">    </span><span class="n">a</span><span class="o">=</span><span class="n">a0</span>
<span class="w">    </span><span class="n">m</span><span class="o">=</span><span class="mi">0</span>
<span class="w">    </span><span class="n">d</span><span class="o">=</span><span class="mi">1</span>
<span class="w">    </span><span class="n">for</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="n">limit</span><span class="p">)</span><span class="err">:</span>
<span class="w">        </span><span class="n">m</span><span class="o">=</span><span class="n">d</span><span class="o">*</span><span class="n">a</span><span class="o">-</span><span class="n">m</span>
<span class="w">        </span><span class="n">d</span><span class="o">=</span><span class="p">(</span><span class="n">n</span><span class="o">-</span><span class="n">m</span><span class="o">*</span><span class="n">m</span><span class="p">)</span><span class="o">//</span><span class="n">d</span>
<span class="w">        </span><span class="n">a</span><span class="o">=</span><span class="p">(</span><span class="n">a0</span><span class="o">+</span><span class="n">m</span><span class="p">)</span><span class="o">//</span><span class="n">d</span>
<span class="w">        </span><span class="n">if</span><span class="w"> </span><span class="n">a</span><span class="o">==</span><span class="mi">2</span><span class="o">*</span><span class="n">a0</span><span class="err">:</span>
<span class="w">            </span><span class="n">return</span><span class="w"> </span><span class="n">i</span>

<span class="n">count</span><span class="o">=</span><span class="mi">0</span>
<span class="n">for</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">10000</span><span class="p">)</span><span class="err">:</span>
<span class="w">    </span><span class="n">if</span><span class="w"> </span><span class="n">not</span><span class="w"> </span><span class="nv">is_square</span><span class="p">(</span><span class="n">i</span><span class="p">)</span><span class="w"> </span><span class="n">and</span><span class="w"> </span><span class="nv">is_odd</span><span class="p">(</span><span class="n">period</span><span class="p">(</span><span class="n">i</span><span class="p">))</span><span class="err">:</span>
<span class="w">        </span><span class="n">count</span><span class="o">+=</span><span class="mi">1</span>
<span class="n">count</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="pe-65">
<h2>PE 65<a class="headerlink" href="#pe-65" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-mathematica notranslate"><div class="highlight"><pre><span></span><span class="nv">#65</span><span class="w"> </span><span class="n">Convergents</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">e</span>
<span class="n">def</span><span class="w"> </span><span class="n">solve</span><span class="p">(</span><span class="n">N</span><span class="p">)</span><span class="err">:</span>
<span class="w">    </span><span class="n">n</span><span class="o">=</span><span class="mi">2</span>
<span class="w">    </span><span class="nv">prev_n</span><span class="o">=</span><span class="mi">1</span>
<span class="w">    </span><span class="n">fract</span><span class="o">=</span><span class="mi">1</span>
<span class="w">    </span><span class="n">for</span><span class="w"> </span><span class="n">k</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="n">N</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span><span class="err">:</span>
<span class="w">        </span><span class="n">temp</span><span class="o">=</span><span class="nv">prev_n</span>
<span class="w">        </span><span class="n">if</span><span class="w"> </span><span class="p">(</span><span class="n">k</span><span class="w"> </span><span class="err">%</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="err">:</span>
<span class="w">            </span><span class="n">fract</span><span class="o">=</span><span class="mi">2</span><span class="o">*</span><span class="n">int</span><span class="p">(</span><span class="n">k</span><span class="o">/</span><span class="mi">3</span><span class="p">)</span>
<span class="w">        </span><span class="n">else</span><span class="err">:</span>
<span class="w">            </span><span class="n">fract</span><span class="o">=</span><span class="mi">1</span>
<span class="w">        </span><span class="nv">prev_n</span><span class="o">=</span><span class="n">n</span>
<span class="w">        </span><span class="n">n</span><span class="o">=</span><span class="n">fract</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="nv">prev_n</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">temp</span>
<span class="w">    </span><span class="n">sum</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">digit_sum</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
<span class="w">    </span><span class="n">return</span><span class="w"> </span><span class="n">sum</span>
<span class="n">def</span><span class="w"> </span><span class="nv">digit_sum</span><span class="p">(</span><span class="n">num</span><span class="p">)</span><span class="err">:</span>
<span class="w">    </span><span class="n">sum</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span>
<span class="w">    </span><span class="n">while</span><span class="w"> </span><span class="n">num</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">0</span><span class="err">:</span>
<span class="w">        </span><span class="n">sum</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">sum</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="p">(</span><span class="n">num</span><span class="w"> </span><span class="err">%</span><span class="w"> </span><span class="mi">10</span><span class="p">)</span>
<span class="w">        </span><span class="n">num</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">num</span><span class="w"> </span><span class="o">//</span><span class="w"> </span><span class="mi">10</span>
<span class="w">    </span><span class="n">return</span><span class="w"> </span><span class="n">sum</span>
<span class="nv">#</span><span class="n">cal</span>
<span class="n">solve</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-mathematica notranslate"><div class="highlight"><pre><span></span><span class="c">(* 65 Convergents of e *)</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="pe-66">
<h2>PE 66<a class="headerlink" href="#pe-66" title="Link to this heading">#</a></h2>
<p>see <a class="reference external" href="https://en.wikipedia.org/wiki/Pell%27s_equation">https://en.wikipedia.org/wiki/Pells_equation</a></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-mathematica notranslate"><div class="highlight"><pre><span></span><span class="nv">#66</span><span class="w"> </span><span class="n">Diophantine</span><span class="w"> </span><span class="n">Equation</span>
<span class="n">def</span><span class="w"> </span><span class="n">test</span><span class="p">(</span><span class="n">s</span><span class="p">,</span><span class="n">num</span><span class="p">)</span><span class="err">:</span>
<span class="w">    </span><span class="n">if</span><span class="w"> </span><span class="err">&#39;</span><span class="o">/</span><span class="err">&#39;</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">s</span><span class="err">:</span>
<span class="w">        </span><span class="n">s</span><span class="o">=</span><span class="n">s</span><span class="err">.</span><span class="n">split</span><span class="p">(</span><span class="err">&#39;</span><span class="o">/</span><span class="err">&#39;</span><span class="p">)</span>
<span class="w">        </span><span class="n">s1</span><span class="o">=</span><span class="n">int</span><span class="p">(</span><span class="n">s</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
<span class="w">        </span><span class="n">s2</span><span class="o">=</span><span class="n">int</span><span class="p">(</span><span class="n">s</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="w">    </span><span class="n">else</span><span class="err">:</span>
<span class="w">        </span><span class="n">s1</span><span class="o">=</span><span class="n">int</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
<span class="w">        </span><span class="n">s2</span><span class="o">=</span><span class="mi">1</span>
<span class="w">    </span><span class="n">if</span><span class="w"> </span><span class="n">s1</span><span class="o">^</span><span class="mi">2</span><span class="o">-</span><span class="n">s2</span><span class="o">^</span><span class="mi">2</span><span class="o">*</span><span class="n">num</span><span class="o">==</span><span class="mi">1</span><span class="err">:</span>
<span class="w">        </span><span class="n">return</span><span class="w"> </span><span class="n">s1</span>
<span class="n">l</span><span class="o">=</span><span class="p">[]</span>
<span class="n">for</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2001</span><span class="p">)</span><span class="err">:</span>
<span class="w">    </span><span class="n">print</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
<span class="w">    </span><span class="n">if</span><span class="w"> </span><span class="n">not</span><span class="w"> </span><span class="nv">is_square</span><span class="p">(</span><span class="n">i</span><span class="p">)</span><span class="err">:</span>
<span class="w">        </span><span class="n">cf</span><span class="o">=</span><span class="nv">continued_fraction</span><span class="p">(</span><span class="n">sqrt</span><span class="p">(</span><span class="n">i</span><span class="p">))</span>
<span class="w">        </span><span class="n">lst</span><span class="o">=</span><span class="n">list</span><span class="p">(</span><span class="n">map</span><span class="p">(</span><span class="n">str</span><span class="p">,</span><span class="nv">continued_fraction</span><span class="p">(</span><span class="n">cf</span><span class="p">[</span><span class="err">:</span><span class="mi">130</span><span class="p">])</span><span class="err">.</span><span class="n">convergents</span><span class="p">()))</span>
<span class="w">        </span><span class="n">for</span><span class="w"> </span><span class="n">item</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">lst</span><span class="err">:</span>
<span class="w">            </span><span class="n">if</span><span class="w"> </span><span class="n">test</span><span class="p">(</span><span class="n">item</span><span class="p">,</span><span class="n">i</span><span class="p">)</span><span class="err">:</span>
<span class="w">                </span><span class="n">l</span><span class="err">.</span><span class="n">append</span><span class="p">((</span><span class="n">test</span><span class="p">(</span><span class="n">item</span><span class="p">,</span><span class="n">i</span><span class="p">),</span><span class="n">i</span><span class="p">))</span>
<span class="w">                </span><span class="n">break</span>
<span class="n">max</span><span class="p">(</span><span class="n">l</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="pe-69">
<h2>PE 69<a class="headerlink" href="#pe-69" title="Link to this heading">#</a></h2>
<p>Eulers Totient Function (or just Euler <span class="math notranslate nohighlight">\(\phi\)</span> function) has a general formulas as below, <span class="math notranslate nohighlight">\(p_i\)</span> is all of the coprime of x, where x is a positive integer.</p>
<div class="math notranslate nohighlight">
\[\phi(x)=x\prod_{i=1}^n(1-\frac{1}{p_i})\]</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-mathematica notranslate"><div class="highlight"><pre><span></span><span class="nv">#69</span><span class="w"> </span><span class="n">Totient</span><span class="w"> </span><span class="n">Maximum</span>
<span class="n">def</span><span class="w"> </span><span class="n">factors</span><span class="p">(</span><span class="n">n</span><span class="p">)</span><span class="err">:</span>
<span class="w">    </span><span class="n">intnum</span><span class="o">=</span><span class="n">int</span><span class="p">(</span><span class="n">n</span><span class="o">**</span><span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">)</span><span class="o">+</span><span class="mi">1</span>
<span class="w">    </span><span class="n">num</span><span class="o">=</span><span class="p">[]</span>
<span class="w">    </span><span class="n">for</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">intnum</span><span class="p">)</span><span class="err">:</span>
<span class="w">        </span><span class="n">if</span><span class="w"> </span><span class="n">n</span><span class="err">%</span><span class="n">i</span><span class="o">==</span><span class="mi">0</span><span class="err">:</span>
<span class="w">            </span><span class="n">num</span><span class="err">.</span><span class="n">append</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
<span class="w">    </span><span class="n">for</span><span class="w"> </span><span class="n">number</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">num</span><span class="err">:</span>
<span class="w">        </span><span class="n">if</span><span class="w"> </span><span class="n">n</span><span class="o">/</span><span class="n">number</span><span class="w"> </span><span class="n">not</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">num</span><span class="err">:</span>
<span class="w">            </span><span class="n">num</span><span class="err">.</span><span class="n">append</span><span class="p">(</span><span class="n">n</span><span class="o">/</span><span class="n">number</span><span class="p">)</span>
<span class="w">    </span><span class="n">return</span><span class="w"> </span><span class="n">num</span>
<span class="n">def</span><span class="w"> </span><span class="n">prime1</span><span class="p">(</span><span class="n">n</span><span class="p">)</span><span class="err">:</span>
<span class="w">    </span><span class="n">if</span><span class="w"> </span><span class="n">len</span><span class="p">(</span><span class="n">factors</span><span class="p">(</span><span class="n">n</span><span class="p">))</span><span class="o">==</span><span class="mi">2</span><span class="err">:</span>
<span class="w">        </span><span class="n">return</span><span class="w"> </span><span class="n">True</span>
<span class="w">    </span><span class="n">return</span><span class="w"> </span><span class="n">False</span>
<span class="n">def</span><span class="w"> </span><span class="n">smaller</span><span class="p">(</span><span class="n">mt</span><span class="p">,</span><span class="w"> </span><span class="n">n</span><span class="p">)</span><span class="err">:</span>
<span class="w">    </span><span class="n">if</span><span class="w"> </span><span class="n">m</span><span class="o">&lt;</span><span class="n">n</span><span class="err">:</span>
<span class="w">        </span><span class="n">return</span><span class="w"> </span><span class="n">m</span>
<span class="w">    </span><span class="n">elif</span><span class="w"> </span><span class="n">m</span><span class="o">&gt;</span><span class="n">n</span><span class="err">:</span>
<span class="w">        </span><span class="n">return</span><span class="w"> </span><span class="n">n</span>
<span class="w">    </span><span class="n">else</span><span class="err">:</span>
<span class="w">        </span><span class="n">return</span><span class="w"> </span><span class="err">&#39;</span><span class="n">same</span><span class="err">&#39;</span>
<span class="n">def</span><span class="w"> </span><span class="n">bcf</span><span class="p">(</span><span class="n">m</span><span class="p">,</span><span class="w"> </span><span class="n">n</span><span class="p">)</span><span class="err">:</span>
<span class="w">    </span><span class="n">fac</span><span class="o">=</span><span class="n">factors</span><span class="p">(</span><span class="n">m</span><span class="p">)</span>
<span class="w">    </span><span class="n">fac1</span><span class="o">=</span><span class="n">factors</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
<span class="w">    </span><span class="n">facs</span><span class="o">=</span><span class="n">fac</span><span class="o">+</span><span class="n">fac1</span>
<span class="w">    </span><span class="n">facs</span><span class="err">.</span><span class="n">sort</span><span class="p">()</span>
<span class="w">    </span><span class="n">facs</span><span class="err">.</span><span class="n">reverse</span><span class="p">()</span>
<span class="w">    </span><span class="n">for</span><span class="w"> </span><span class="n">factor</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">facs</span><span class="err">:</span>
<span class="w">        </span><span class="n">if</span><span class="w"> </span><span class="n">factor</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">fac</span><span class="w"> </span><span class="n">and</span><span class="w"> </span><span class="n">factor</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">fac1</span><span class="err">:</span>
<span class="w">            </span><span class="n">return</span><span class="w"> </span><span class="n">factor</span>
<span class="n">def</span><span class="w"> </span><span class="n">coprime</span><span class="p">(</span><span class="n">m</span><span class="p">,</span><span class="w"> </span><span class="n">n</span><span class="p">)</span><span class="err">:</span>
<span class="w">    </span><span class="n">if</span><span class="w"> </span><span class="n">m</span><span class="o">==</span><span class="mi">1</span><span class="w"> </span><span class="n">or</span><span class="w"> </span><span class="n">n</span><span class="o">==</span><span class="mi">1</span><span class="err">:</span>
<span class="w">        </span><span class="n">return</span><span class="w"> </span><span class="n">False</span>
<span class="w">    </span><span class="n">if</span><span class="w"> </span><span class="n">prime</span><span class="p">(</span><span class="n">m</span><span class="p">)</span><span class="o">==</span><span class="n">True</span><span class="w"> </span><span class="n">or</span><span class="w"> </span><span class="n">prime</span><span class="p">(</span><span class="n">n</span><span class="p">)</span><span class="o">==</span><span class="n">True</span><span class="err">:</span>
<span class="w">        </span><span class="n">return</span><span class="w"> </span><span class="n">True</span>
<span class="w">    </span><span class="n">if</span><span class="w"> </span><span class="n">bcf</span><span class="p">(</span><span class="n">m</span><span class="p">,</span><span class="w"> </span><span class="n">n</span><span class="p">)</span><span class="o">==</span><span class="mi">1</span><span class="err">:</span>
<span class="w">        </span><span class="n">return</span><span class="w"> </span><span class="n">True</span>
<span class="w">    </span><span class="n">else</span><span class="err">:</span>
<span class="w">        </span><span class="n">return</span><span class="w"> </span><span class="n">False</span>
<span class="n">def</span><span class="w"> </span><span class="n">phi</span><span class="p">(</span><span class="n">n</span><span class="p">)</span><span class="err">:</span>
<span class="w">    </span><span class="n">num</span><span class="o">=</span><span class="mi">1</span>
<span class="w">    </span><span class="n">for</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="n">n</span><span class="p">)</span><span class="err">:</span>
<span class="w">        </span><span class="n">if</span><span class="w"> </span><span class="n">coprime</span><span class="p">(</span><span class="n">i</span><span class="p">,</span><span class="w"> </span><span class="n">n</span><span class="p">)</span><span class="o">==</span><span class="n">True</span><span class="err">:</span>
<span class="w">            </span><span class="n">num</span><span class="o">+=</span><span class="mi">1</span>
<span class="w">    </span><span class="n">return</span><span class="w"> </span><span class="n">num</span>
<span class="n">def</span><span class="w"> </span><span class="n">totient</span><span class="p">(</span><span class="n">n</span><span class="p">)</span><span class="err">:</span>
<span class="w">    </span><span class="n">big</span><span class="o">=</span><span class="mi">0</span>
<span class="w">    </span><span class="n">for</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="n">n</span><span class="p">)</span><span class="err">:</span>
<span class="w">        </span><span class="n">num</span><span class="o">=</span><span class="n">i</span><span class="o">/</span><span class="n">phi</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
<span class="w">        </span><span class="n">print</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
<span class="w">        </span><span class="n">if</span><span class="w"> </span><span class="n">num</span><span class="o">&gt;</span><span class="n">big</span><span class="err">:</span>
<span class="w">            </span><span class="n">big</span><span class="o">=</span><span class="n">num</span>
<span class="w">    </span><span class="n">return</span><span class="w"> </span><span class="n">big</span>
<span class="n">totient</span><span class="p">(</span><span class="mi">50</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-mathematica notranslate"><div class="highlight"><pre><span></span><span class="nv">#69</span><span class="w"> </span><span class="n">FP</span><span class="w"> </span><span class="n">way</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">Euler</span><span class="err">&#39;</span><span class="n">s</span><span class="w"> </span><span class="n">Totient</span><span class="w"> </span><span class="n">Function</span><span class="w"> </span><span class="p">(</span><span class="n">or</span><span class="w"> </span><span class="n">just</span><span class="w"> </span><span class="n">Euler</span><span class="w"> </span><span class="n">Function</span><span class="p">)</span>
<span class="n">from</span><span class="w"> </span><span class="n">sympy</span><span class="w"> </span><span class="n">import</span><span class="w"> </span><span class="n">totient</span><span class="w">  </span><span class="nv">#</span><span class="w"> </span><span class="n">use</span><span class="w">  </span><span class="nv">euler_phi</span><span class="p">(</span><span class="n">n</span><span class="p">)</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">Sage</span>

<span class="n">seq</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="n">n</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="nv">euler_phi</span><span class="p">(</span><span class="n">n</span><span class="p">)</span><span class="w"> </span><span class="n">for</span><span class="w"> </span><span class="n">n</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="o">^</span><span class="mi">6</span><span class="p">)]</span><span class="w"> </span><span class="nv">#</span><span class="w"> </span><span class="n">Generate</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">sequence</span><span class="w"> </span><span class="n">using</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">totient</span><span class="w"> </span><span class="n">function</span>
<span class="nv">max_value</span><span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="n">max</span><span class="p">(</span><span class="n">seq</span><span class="p">)</span>
<span class="n">print</span><span class="p">(</span><span class="n">seq</span><span class="err">.</span><span class="n">index</span><span class="p">(</span><span class="nv">max_value</span><span class="p">))</span>
<span class="nv">max_position</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="n">i</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="n">for</span><span class="w"> </span><span class="n">i</span><span class="p">,</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">enumerate</span><span class="p">(</span><span class="n">seq</span><span class="p">)</span><span class="w"> </span><span class="n">if</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="nv">max_value</span><span class="p">]</span>
<span class="nv">max_position</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-mathematica notranslate"><div class="highlight"><pre><span></span><span class="c">(* 69 Totient Maximum, also called \phi function*)</span>
<span class="c">(* seq = Table[ n/Length[Select[Range[n], CoprimeQ[#, n] == True &amp;]]</span>
<span class="c">             , {n, 10}] ;   pretty slow  *)</span>
<span class="n">seq</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Table</span><span class="p">[</span><span class="w"> </span><span class="n">n</span><span class="o">/</span><span class="n">EulerPhi</span><span class="p">[</span><span class="n">n</span><span class="p">]</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="p">{</span><span class="n">n</span><span class="p">,</span><span class="w"> </span><span class="mi">1000000</span><span class="p">}</span><span class="w"> </span><span class="p">];</span>
<span class="n">Position</span><span class="p">[</span><span class="n">seq</span><span class="p">,</span><span class="w"> </span><span class="n">Max</span><span class="p">[</span><span class="n">seq</span><span class="p">]]</span>
<span class="n">Max</span><span class="p">[</span><span class="n">seq</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="pe-70">
<h2>PE 70<a class="headerlink" href="#pe-70" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-mathematica notranslate"><div class="highlight"><pre><span></span><span class="nv">#</span><span class="w"> </span><span class="mi">70</span><span class="w"> </span><span class="n">Totient</span><span class="w"> </span><span class="n">Permutation</span>
<span class="n">lst</span><span class="o">=</span><span class="p">[</span><span class="nv">euler_phi</span><span class="p">(</span><span class="n">n</span><span class="p">)</span><span class="w"> </span><span class="n">for</span><span class="w"> </span><span class="n">n</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="mi">10</span><span class="o">^</span><span class="mi">7</span><span class="p">)]</span>
<span class="n">def</span><span class="w"> </span><span class="nv">is_perm</span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="p">)</span><span class="err">:</span>
<span class="w">    </span><span class="n">return</span><span class="w"> </span><span class="n">sorted</span><span class="p">(</span><span class="n">list</span><span class="p">(</span><span class="n">str</span><span class="p">(</span><span class="n">a</span><span class="p">)))</span><span class="o">==</span><span class="n">sorted</span><span class="p">(</span><span class="n">list</span><span class="p">(</span><span class="n">str</span><span class="p">(</span><span class="n">b</span><span class="p">)))</span>
<span class="nv">new_lst</span><span class="o">=</span><span class="n">list</span><span class="p">(</span><span class="n">filter</span><span class="p">(</span><span class="n">lambda</span><span class="w"> </span><span class="n">x</span><span class="err">:</span><span class="nv">is_perm</span><span class="p">(</span><span class="n">lst</span><span class="p">[</span><span class="n">x</span><span class="mi">-4</span><span class="p">],</span><span class="n">x</span><span class="p">),</span><span class="n">range</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="mi">10</span><span class="o">^</span><span class="mi">7</span><span class="p">)))</span>
<span class="n">for</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="mi">8319800</span><span class="p">,</span><span class="mi">8319900</span><span class="p">)</span><span class="err">:</span>
<span class="w">    </span><span class="n">if</span><span class="w"> </span><span class="nv">is_perm</span><span class="p">(</span><span class="nv">euler_phi</span><span class="p">(</span><span class="n">i</span><span class="p">),</span><span class="n">i</span><span class="p">)</span><span class="err">:</span>
<span class="w">        </span><span class="n">print</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
<span class="w">        </span><span class="n">break</span>
<span class="n">n</span><span class="o">=</span><span class="n">min</span><span class="p">(</span><span class="nv">new_lst</span><span class="p">,</span><span class="n">key</span><span class="o">=</span><span class="n">lambda</span><span class="w"> </span><span class="n">x</span><span class="err">:</span><span class="n">x</span><span class="o">/</span><span class="nv">euler_phi</span><span class="p">(</span><span class="n">x</span><span class="p">))</span>
<span class="nv">#</span><span class="w"> </span><span class="n">n</span><span class="w"> </span><span class="n">uncomment</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">show</span><span class="w"> </span><span class="n">answer</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="pe-71">
<h2>PE 71<a class="headerlink" href="#pe-71" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-mathematica notranslate"><div class="highlight"><pre><span></span><span class="nv">#71</span><span class="w"> </span><span class="n">Ordered</span><span class="w"> </span><span class="n">Fractions</span>
<span class="n">for</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">7</span><span class="p">)</span><span class="err">:</span>
<span class="w">    </span><span class="n">target</span><span class="o">=</span><span class="n">i</span><span class="o">/</span><span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span>
<span class="w">    </span><span class="n">pairs</span><span class="o">=</span><span class="p">[(</span><span class="w"> </span><span class="n">floor</span><span class="p">(</span><span class="n">deno</span><span class="o">*</span><span class="n">target</span><span class="p">)</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="n">deno</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="n">for</span><span class="w"> </span><span class="n">deno</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="o">^</span><span class="n">i</span><span class="p">)]</span>
<span class="w">    </span><span class="n">fracs</span><span class="o">=</span><span class="p">[(</span><span class="w"> </span><span class="n">n</span><span class="p">,</span><span class="w"> </span><span class="n">deno</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="n">for</span><span class="w"> </span><span class="n">n</span><span class="p">,</span><span class="w"> </span><span class="n">deno</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">pairs</span><span class="w"> </span><span class="n">if</span><span class="w"> </span><span class="p">(</span><span class="n">n</span><span class="o">/</span><span class="n">deno</span><span class="p">)</span><span class="o">&lt;</span><span class="n">target</span><span class="p">]</span><span class="w">  </span><span class="nv">#</span><span class="w"> </span><span class="n">Filter</span><span class="w"> </span><span class="n">fractions</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">target</span>
<span class="w">    </span><span class="n">print</span><span class="p">(</span><span class="n">str</span><span class="p">(</span><span class="n">i</span><span class="p">)</span><span class="o">+</span><span class="err">&#39;:&#39;</span><span class="o">+</span><span class="n">str</span><span class="p">(</span><span class="n">max</span><span class="p">(</span><span class="n">fracs</span><span class="p">,</span><span class="n">key</span><span class="o">=</span><span class="n">lambda</span><span class="w"> </span><span class="n">frac</span><span class="err">:</span><span class="w"> </span><span class="n">frac</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">/</span><span class="n">frac</span><span class="p">[</span><span class="mi">1</span><span class="p">])[</span><span class="mi">0</span><span class="p">])</span><span class="o">+</span><span class="err">&#39;</span><span class="p">,</span><span class="err">&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-mathematica notranslate"><div class="highlight"><pre><span></span><span class="c">(* 71 Ordered Fractions </span>
<span class="c">    Table[] gen [{numerator}, {denominator}]</span>
<span class="c">    Floor[] gen greatest integer &lt;= d*target</span>
<span class="c">    Select[] and MaximalBy[], both are [list + function]</span>
<span class="c">    [[2]] the 2nd item, #[[2]] the 2nd input of the function </span>
<span class="c">    *)</span>
<span class="n">target</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">3</span><span class="o">/</span><span class="mi">7</span><span class="p">;</span>
<span class="n">MaximalBy</span><span class="p">[</span><span class="n">Select</span><span class="p">[</span><span class="w">  </span><span class="n">Table</span><span class="p">[</span><span class="w"> </span><span class="p">{</span><span class="n">Floor</span><span class="p">[</span><span class="n">d</span><span class="o">*</span><span class="n">target</span><span class="p">],</span><span class="w"> </span><span class="n">d</span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="n">d</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">1000000</span><span class="p">}</span><span class="w"> </span><span class="p">],</span><span class="w"> </span>
<span class="w">                          </span><span class="nv">#</span><span class="p">[[</span><span class="mi">1</span><span class="p">]]</span><span class="o">/</span><span class="nv">#</span><span class="p">[[</span><span class="mi">2</span><span class="p">]]</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">target</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="p">],</span><span class="w"> </span>
<span class="w">         </span><span class="nv">#</span><span class="p">[[</span><span class="mi">1</span><span class="p">]]</span><span class="o">/</span><span class="nv">#</span><span class="p">[[</span><span class="mi">2</span><span class="p">]]</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="pe-72">
<h2>PE 72<a class="headerlink" href="#pe-72" title="Link to this heading">#</a></h2>
<p>A fraction is a proper fraction if the highest common divisor of its numerator and denominator is <span class="math notranslate nohighlight">\(1\)</span>, or in other words, the numerator and denominator are coprime. The euler_phi function(totient function) is defined by how many integers a number is coprime with up to the number itself. This means that the euler_phi function can determine how many times that number will appear as the denominator in the fractions. Summing all of that up gives the total amount of fractions.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-mathematica notranslate"><div class="highlight"><pre><span></span><span class="nv">#</span><span class="w"> </span><span class="mi">72</span><span class="w"> </span><span class="n">Counting</span><span class="w"> </span><span class="n">Fractions</span>
<span class="n">def</span><span class="w"> </span><span class="nv">num_fractions</span><span class="p">(</span><span class="n">num</span><span class="p">)</span><span class="err">:</span>
<span class="w">    </span><span class="n">return</span><span class="w"> </span><span class="n">sum</span><span class="p">([</span><span class="nv">euler_phi</span><span class="p">(</span><span class="n">n</span><span class="p">)</span><span class="w"> </span><span class="n">for</span><span class="w"> </span><span class="n">n</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="n">num</span><span class="o">+</span><span class="mi">1</span><span class="p">)])</span>

<span class="n">for</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">21</span><span class="p">)</span><span class="err">:</span>
<span class="w">    </span><span class="n">print</span><span class="p">(</span><span class="n">i</span><span class="p">,</span><span class="nv">num_fractions</span><span class="p">(</span><span class="mi">2</span><span class="o">^</span><span class="n">i</span><span class="p">))</span><span class="w">        </span><span class="nv">#</span><span class="w"> </span><span class="n">PL</span>
<span class="n">print</span><span class="p">(</span><span class="err">&#39;</span><span class="n">PE</span><span class="w"> </span><span class="n">answer</span><span class="err">:&#39;</span><span class="p">,</span><span class="nv">num_fractions</span><span class="p">(</span><span class="mi">10</span><span class="o">^</span><span class="mi">6</span><span class="p">))</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="pe-73">
<h2>PE 73<a class="headerlink" href="#pe-73" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-mathematica notranslate"><div class="highlight"><pre><span></span><span class="nv">#</span><span class="w"> </span><span class="mi">73</span><span class="w"> </span><span class="n">Counting</span><span class="w"> </span><span class="n">Fractions</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">Range</span>
<span class="n">def</span><span class="w"> </span><span class="n">fractions</span><span class="p">(</span><span class="n">num</span><span class="p">)</span><span class="err">:</span>
<span class="w">    </span><span class="n">return</span><span class="w"> </span><span class="p">[</span><span class="n">QQ</span><span class="p">((</span><span class="n">p</span><span class="p">,</span><span class="n">q</span><span class="p">))</span><span class="w"> </span><span class="n">for</span><span class="w"> </span><span class="n">q</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="n">num</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span><span class="w"> </span><span class="n">for</span><span class="w"> </span><span class="n">p</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="n">q</span><span class="o">//</span><span class="mi">3</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span><span class="n">ceil</span><span class="p">(</span><span class="n">q</span><span class="o">/</span><span class="mi">2</span><span class="p">))</span><span class="w"> </span><span class="n">if</span><span class="w"> </span><span class="n">gcd</span><span class="p">(</span><span class="n">p</span><span class="p">,</span><span class="n">q</span><span class="p">)</span><span class="o">==</span><span class="mi">1</span><span class="p">]</span>

<span class="n">print</span><span class="p">(</span><span class="n">len</span><span class="p">(</span><span class="n">fractions</span><span class="p">(</span><span class="mi">6400</span><span class="p">)))</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="pe-74">
<h2>PE 74<a class="headerlink" href="#pe-74" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-mathematica notranslate"><div class="highlight"><pre><span></span><span class="nv">#74</span><span class="w"> </span><span class="n">Factorial</span><span class="w"> </span><span class="n">Chains</span>
<span class="n">def</span><span class="w"> </span><span class="n">fact</span><span class="p">(</span><span class="n">n</span><span class="p">)</span><span class="err">:</span>
<span class="w">    </span><span class="n">if</span><span class="w"> </span><span class="n">n</span><span class="o">==</span><span class="mi">0</span><span class="w"> </span><span class="n">or</span><span class="w"> </span><span class="n">n</span><span class="o">==</span><span class="mi">1</span><span class="err">:</span>
<span class="w">        </span><span class="n">return</span><span class="w"> </span><span class="mi">1</span>
<span class="w">    </span><span class="n">elif</span><span class="w"> </span><span class="n">n</span><span class="o">&lt;</span><span class="mi">0</span><span class="err">:</span>
<span class="w">        </span><span class="n">raise</span><span class="w"> </span><span class="n">ValueError</span>
<span class="w">    </span><span class="n">else</span><span class="err">:</span>
<span class="w">        </span><span class="n">return</span><span class="w"> </span><span class="n">n</span><span class="o">*</span><span class="n">fact</span><span class="p">(</span><span class="n">n</span><span class="mi">-1</span><span class="p">)</span>
<span class="w">    </span>
<span class="n">factorials</span><span class="o">=</span><span class="p">{</span><span class="n">i</span><span class="err">:</span><span class="n">fact</span><span class="p">(</span><span class="n">i</span><span class="p">)</span><span class="w"> </span><span class="n">for</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="mi">10</span><span class="p">)}</span>

<span class="n">num</span><span class="o">=</span><span class="mi">0</span>
<span class="n">for</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1000000</span><span class="p">)</span><span class="err">:</span>
<span class="w">    </span><span class="n">n</span><span class="o">=</span><span class="n">i</span>
<span class="w">    </span><span class="n">lst</span><span class="o">=</span><span class="p">[]</span>
<span class="w">    </span><span class="n">while</span><span class="w"> </span><span class="n">n</span><span class="w"> </span><span class="n">not</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">lst</span><span class="err">:</span>
<span class="w">        </span><span class="n">lst</span><span class="err">.</span><span class="n">append</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
<span class="w">        </span><span class="n">n</span><span class="o">=</span><span class="n">list</span><span class="p">(</span><span class="n">map</span><span class="p">(</span><span class="n">int</span><span class="p">,</span><span class="n">str</span><span class="p">(</span><span class="n">n</span><span class="p">)))</span>
<span class="w">        </span><span class="n">n1</span><span class="o">=</span><span class="mi">0</span>
<span class="w">        </span><span class="n">for</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">n</span><span class="err">:</span>
<span class="w">            </span><span class="n">n1</span><span class="o">+=</span><span class="n">factorials</span><span class="p">[</span><span class="n">j</span><span class="p">]</span>
<span class="w">        </span><span class="n">n</span><span class="o">=</span><span class="n">n1</span>
<span class="w">    </span><span class="n">if</span><span class="w"> </span><span class="n">len</span><span class="p">(</span><span class="n">lst</span><span class="p">)</span><span class="o">==</span><span class="mi">60</span><span class="err">:</span>
<span class="w">        </span><span class="n">num</span><span class="o">+=</span><span class="mi">1</span>
<span class="n">print</span><span class="p">(</span><span class="n">num</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="pe-75">
<h2>PE 75<a class="headerlink" href="#pe-75" title="Link to this heading">#</a></h2>
<p>Given Euclids formula and non-primitive triples, use Counting function:
$<span class="math notranslate nohighlight">\(f(p)=\# \{(m,n,k)\in\N^3:m&gt;n,\quad \gcd(m, n)=1, \quad m-n\enspace\text{odd}, \quad p=k\cdot 2m(m+n)\}\)</span>$</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-mathematica notranslate"><div class="highlight"><pre><span></span><span class="nv">#</span><span class="w"> </span><span class="n">FP</span>
<span class="n">from</span><span class="w"> </span><span class="n">collections</span><span class="w"> </span><span class="n">import</span><span class="w"> </span><span class="n">Counter</span>
<span class="n">from</span><span class="w"> </span><span class="n">functools</span><span class="w"> </span><span class="n">import</span><span class="w"> </span><span class="n">reduce</span>

<span class="n">def</span><span class="w"> </span><span class="nv">all_counts</span><span class="p">(</span><span class="n">limit</span><span class="o">=</span><span class="mi">1500000</span><span class="p">)</span><span class="err">:</span>
<span class="w">    </span><span class="n">primitive</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[(</span><span class="mi">2</span><span class="o">*</span><span class="n">m</span><span class="o">*</span><span class="p">(</span><span class="n">m</span><span class="o">+</span><span class="n">n</span><span class="p">))</span>
<span class="w">                 </span><span class="n">for</span><span class="w"> </span><span class="n">m</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="n">int</span><span class="p">((</span><span class="n">limit</span><span class="o">//</span><span class="mi">2</span><span class="p">)</span><span class="o">**</span><span class="mf">0.5</span><span class="p">)</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span>
<span class="w">                 </span><span class="n">for</span><span class="w"> </span><span class="n">n</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="n">m</span><span class="p">)</span>
<span class="w">                 </span><span class="n">if</span><span class="w"> </span><span class="p">(</span><span class="n">m</span><span class="o">-</span><span class="n">n</span><span class="p">)</span><span class="w"> </span><span class="err">%</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="n">and</span><span class="w"> </span><span class="n">gcd</span><span class="p">(</span><span class="n">m</span><span class="p">,</span><span class="n">n</span><span class="p">)</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">1</span><span class="p">]</span>

<span class="w">    </span><span class="n">multiples</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">k</span><span class="o">*</span><span class="n">P0</span>
<span class="w">                 </span><span class="n">for</span><span class="w"> </span><span class="n">P0</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">primitive</span>
<span class="w">                 </span><span class="n">for</span><span class="w"> </span><span class="n">k</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">limit</span><span class="o">//</span><span class="n">P0</span><span class="o">+</span><span class="mi">1</span><span class="p">))</span>

<span class="w">    </span><span class="n">return</span><span class="w"> </span><span class="n">reduce</span><span class="p">(</span><span class="n">lambda</span><span class="w"> </span><span class="n">c</span><span class="p">,</span><span class="n">x</span><span class="err">:</span><span class="w"> </span><span class="n">c</span><span class="err">.</span><span class="n">update</span><span class="p">([</span><span class="n">x</span><span class="p">])</span><span class="w"> </span><span class="n">or</span><span class="w"> </span><span class="n">c</span><span class="p">,</span>
<span class="w">                  </span><span class="n">multiples</span><span class="p">,</span>
<span class="w">                  </span><span class="n">Counter</span><span class="p">())</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-mathematica notranslate"><div class="highlight"><pre><span></span><span class="nv">#</span><span class="w"> </span><span class="n">OOP</span>
<span class="n">from</span><span class="w"> </span><span class="n">collections</span><span class="w"> </span><span class="n">import</span><span class="w"> </span><span class="n">Counter</span>
<span class="n">def</span><span class="w"> </span><span class="nv">all_pythagorean_sums</span><span class="p">(</span><span class="n">limit</span><span class="o">=</span><span class="mi">1000</span><span class="p">)</span><span class="err">:</span>
<span class="w">    </span><span class="nv">#</span><span class="w"> </span><span class="n">Step</span><span class="w"> </span><span class="mi">1</span><span class="err">:</span><span class="w"> </span><span class="n">generate</span><span class="w"> </span><span class="n">primitive</span><span class="w"> </span><span class="n">perimeters</span>
<span class="w">    </span><span class="n">primitive</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="mi">2</span><span class="o">*</span><span class="n">m</span><span class="o">*</span><span class="p">(</span><span class="n">m</span><span class="o">+</span><span class="n">n</span><span class="p">)</span><span class="w"> </span>
<span class="w">                 </span><span class="n">for</span><span class="w"> </span><span class="n">m</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">isqrt</span><span class="p">(</span><span class="n">limit</span><span class="p">))</span><span class="w"> </span>
<span class="w">                 </span><span class="n">for</span><span class="w"> </span><span class="n">n</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="n">m</span><span class="p">)</span><span class="w"> </span>
<span class="w">                 </span><span class="n">if</span><span class="w"> </span><span class="nv">is_odd</span><span class="p">(</span><span class="n">m</span><span class="o">-</span><span class="n">n</span><span class="p">)</span><span class="w"> </span><span class="n">and</span><span class="w"> </span><span class="n">gcd</span><span class="p">(</span><span class="n">m</span><span class="p">,</span><span class="n">n</span><span class="p">)</span><span class="o">==</span><span class="mi">1</span><span class="p">]</span>

<span class="w">    </span><span class="nv">#</span><span class="w"> </span><span class="n">Step</span><span class="w"> </span><span class="mi">2</span><span class="err">:</span><span class="w"> </span><span class="n">generate</span><span class="w"> </span><span class="n">all</span><span class="w"> </span><span class="n">multiples</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="n">limit</span>
<span class="w">    </span><span class="nv">all_sums</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[]</span>
<span class="w">    </span><span class="n">for</span><span class="w"> </span><span class="n">P0</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">primitive</span><span class="err">:</span>
<span class="w">        </span><span class="n">k</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span>
<span class="w">        </span><span class="n">while</span><span class="w"> </span><span class="n">k</span><span class="o">*</span><span class="n">P0</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="n">limit</span><span class="err">:</span>
<span class="w">            </span><span class="nv">all_sums</span><span class="err">.</span><span class="n">append</span><span class="p">(</span><span class="n">k</span><span class="o">*</span><span class="n">P0</span><span class="p">)</span>
<span class="w">            </span><span class="n">k</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="mi">1</span>

<span class="w">    </span><span class="n">return</span><span class="w"> </span><span class="n">sorted</span><span class="p">(</span><span class="nv">all_sums</span><span class="p">)</span>

<span class="n">lst</span><span class="o">=</span><span class="nv">all_pythagorean_sums</span><span class="p">(</span><span class="mi">1500000</span><span class="p">)</span>
<span class="n">d</span><span class="o">=</span><span class="n">dict</span><span class="p">(</span><span class="n">Counter</span><span class="p">(</span><span class="n">lst</span><span class="p">))</span>
<span class="n">sum</span><span class="p">(</span><span class="n">d</span><span class="p">[</span><span class="n">num</span><span class="p">]</span><span class="o">==</span><span class="mi">1</span><span class="w"> </span><span class="n">for</span><span class="w"> </span><span class="n">num</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">d</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="pe-76">
<h2>PE 76<a class="headerlink" href="#pe-76" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-mathematica notranslate"><div class="highlight"><pre><span></span><span class="nv">number_of_partitions</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span><span class="mi">-1</span><span class="w">  </span><span class="nv">#</span><span class="w"> </span><span class="n">Because</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">number</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">partitions</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">basically</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">same</span><span class="w"> </span><span class="n">thing</span><span class="w"> </span><span class="n">except</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">case</span><span class="w"> </span><span class="n">where</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">just</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">itself</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-mathematica notranslate"><div class="highlight"><pre><span></span><span class="p">(</span><span class="nv">number_of_partitions</span><span class="p">(</span><span class="mi">2</span><span class="o">^</span><span class="mi">47</span><span class="p">)</span><span class="mi">-1</span><span class="p">)</span><span class="err">%</span><span class="p">(</span><span class="mi">10</span><span class="o">^</span><span class="mi">9</span><span class="o">+</span><span class="mi">7</span><span class="p">)</span><span class="w">    </span><span class="nv">#</span><span class="w"> </span><span class="n">PL</span><span class="w"> </span><span class="n">extension</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="pe-77">
<h2>PE 77<a class="headerlink" href="#pe-77" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-mathematica notranslate"><div class="highlight"><pre><span></span><span class="n">def</span><span class="w"> </span><span class="nv">prime_partitions</span><span class="p">(</span><span class="n">num</span><span class="p">,</span><span class="w"> </span><span class="nv">max_prime</span><span class="o">=</span><span class="n">None</span><span class="p">)</span><span class="err">:</span>
<span class="w">    </span><span class="n">if</span><span class="w"> </span><span class="n">num</span><span class="o">==</span><span class="mi">0</span><span class="err">:</span>
<span class="w">        </span><span class="n">return</span><span class="w"> </span><span class="mi">1</span>
<span class="w">    </span><span class="n">if</span><span class="w"> </span><span class="n">num</span><span class="o">&lt;</span><span class="mi">0</span><span class="err">:</span>
<span class="w">        </span><span class="n">return</span><span class="w"> </span><span class="mi">0</span>
<span class="w">    </span><span class="n">if</span><span class="w"> </span><span class="nv">max_prime</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">None</span><span class="err">:</span>
<span class="w">        </span><span class="nv">max_prime</span><span class="o">=</span><span class="n">num</span>
<span class="w">    </span><span class="n">total</span><span class="o">=</span><span class="mi">0</span>
<span class="w">    </span><span class="n">for</span><span class="w"> </span><span class="n">p</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="nv">prime_range</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="nv">max_prime</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span><span class="err">:</span>
<span class="w">        </span><span class="n">total</span><span class="o">+=</span><span class="nv">prime_partitions</span><span class="p">(</span><span class="n">num</span><span class="o">-</span><span class="n">p</span><span class="p">,</span><span class="n">p</span><span class="p">)</span>
<span class="w">    </span><span class="n">return</span><span class="w"> </span><span class="n">total</span>

<span class="n">limit</span><span class="o">=</span><span class="mi">100</span>
<span class="n">for</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="n">limit</span><span class="p">)</span><span class="err">:</span>
<span class="w">    </span><span class="n">if</span><span class="w"> </span><span class="nv">prime_partitions</span><span class="p">(</span><span class="n">i</span><span class="p">)</span><span class="o">&gt;=</span><span class="mi">5000</span><span class="err">:</span>
<span class="w">        </span><span class="n">print</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
<span class="w">        </span><span class="n">break</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-mathematica notranslate"><div class="highlight"><pre><span></span><span class="n">def</span><span class="w"> </span><span class="nv">prime_partitions</span><span class="p">(</span><span class="n">num</span><span class="p">)</span><span class="err">:</span>
<span class="w">    </span><span class="n">if</span><span class="w"> </span><span class="n">num</span><span class="o">==</span><span class="mi">2</span><span class="w"> </span><span class="n">or</span><span class="w"> </span><span class="n">num</span><span class="o">==</span><span class="mi">3</span><span class="err">:</span>
<span class="w">        </span><span class="n">return</span><span class="w"> </span><span class="mi">1</span>
<span class="w">    </span><span class="n">lst</span><span class="o">=</span><span class="nv">prime_range</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="n">num</span><span class="o">//</span><span class="mi">2</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span>
<span class="w">    </span><span class="n">count</span><span class="o">=</span><span class="mi">0</span>
<span class="w">    </span><span class="n">for</span><span class="w"> </span><span class="n">n</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">lst</span><span class="err">:</span>
<span class="w">        </span><span class="n">count</span><span class="o">+=</span><span class="nv">prime_partitions</span><span class="p">(</span><span class="n">num</span><span class="o">-</span><span class="n">n</span><span class="p">)</span>
<span class="w">    </span><span class="n">return</span><span class="w"> </span><span class="n">count</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="pe-78">
<h2>PE 78<a class="headerlink" href="#pe-78" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-mathematica notranslate"><div class="highlight"><pre><span></span><span class="nv">#</span><span class="w"> </span><span class="n">Pentagonal</span><span class="w"> </span><span class="n">Recurrence</span><span class="w"> </span>
<span class="n">def</span><span class="w"> </span><span class="nv">partition_mod</span><span class="p">(</span><span class="n">limit</span><span class="p">,</span><span class="n">mod</span><span class="o">=</span><span class="mi">1000000</span><span class="p">)</span><span class="err">:</span>
<span class="w">    </span><span class="n">p</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
<span class="w">    </span><span class="n">for</span><span class="w"> </span><span class="n">n</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="n">limit</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span><span class="err">:</span>
<span class="w">        </span><span class="n">total</span><span class="o">=</span><span class="mi">0</span>
<span class="w">        </span><span class="n">k</span><span class="o">=</span><span class="mi">1</span>
<span class="w">        </span><span class="n">while</span><span class="w"> </span><span class="n">True</span><span class="err">:</span>
<span class="w">            </span><span class="n">g1</span><span class="o">=</span><span class="n">k</span><span class="o">*</span><span class="p">(</span><span class="mi">3</span><span class="o">*</span><span class="n">k</span><span class="mi">-1</span><span class="p">)</span><span class="o">//</span><span class="mi">2</span>
<span class="w">            </span><span class="n">g2</span><span class="o">=</span><span class="n">k</span><span class="o">*</span><span class="p">(</span><span class="mi">3</span><span class="o">*</span><span class="n">k</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span><span class="o">//</span><span class="mi">2</span>
<span class="w">            </span><span class="n">if</span><span class="w"> </span><span class="n">g1</span><span class="o">&gt;</span><span class="n">n</span><span class="err">:</span>
<span class="w">                </span><span class="n">break</span>
<span class="w">            </span><span class="n">sign</span><span class="o">=</span><span class="mi">-1</span><span class="w"> </span><span class="n">if</span><span class="w"> </span><span class="n">k</span><span class="err">%</span><span class="mi">2</span><span class="o">==</span><span class="mi">0</span><span class="w"> </span><span class="n">else</span><span class="w"> </span><span class="mi">1</span>
<span class="w">            </span><span class="n">total</span><span class="o">+=</span><span class="n">sign</span><span class="o">*</span><span class="n">p</span><span class="p">[</span><span class="n">n</span><span class="o">-</span><span class="n">g1</span><span class="p">]</span>
<span class="w">            </span><span class="n">if</span><span class="w"> </span><span class="n">g2</span><span class="o">&lt;=</span><span class="n">n</span><span class="err">:</span>
<span class="w">                </span><span class="n">total</span><span class="o">+=</span><span class="n">sign</span><span class="o">*</span><span class="n">p</span><span class="p">[</span><span class="n">n</span><span class="o">-</span><span class="n">g2</span><span class="p">]</span>
<span class="w">            </span><span class="n">k</span><span class="o">+=</span><span class="mi">1</span>
<span class="w">        </span><span class="n">p</span><span class="err">.</span><span class="n">append</span><span class="p">(</span><span class="n">total</span><span class="err">%</span><span class="n">mod</span><span class="p">)</span>
<span class="w">    </span><span class="n">return</span><span class="w"> </span><span class="n">p</span>

<span class="nv">partition_mod</span><span class="p">(</span><span class="mi">60000</span><span class="p">)</span><span class="err">.</span><span class="n">index</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-mathematica notranslate"><div class="highlight"><pre><span></span><span class="nv">#</span><span class="w"> </span><span class="n">Recursion</span>
<span class="n">def</span><span class="w"> </span><span class="nv">partition_mod</span><span class="p">(</span><span class="n">limit</span><span class="p">,</span><span class="n">mod</span><span class="o">=</span><span class="mi">1000000</span><span class="p">)</span><span class="err">:</span>
<span class="w">    </span><span class="n">p</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">*</span><span class="p">(</span><span class="n">limit</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span>
<span class="w">    </span><span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">=</span><span class="mi">1</span>
<span class="w">    </span><span class="n">for</span><span class="w"> </span><span class="n">k</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="n">limit</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span><span class="err">:</span>
<span class="w">        </span><span class="n">for</span><span class="w"> </span><span class="n">n</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="n">k</span><span class="p">,</span><span class="n">limit</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span><span class="err">:</span>
<span class="w">            </span><span class="n">p</span><span class="p">[</span><span class="n">n</span><span class="p">]</span><span class="o">=</span><span class="p">(</span><span class="n">p</span><span class="p">[</span><span class="n">n</span><span class="p">]</span><span class="o">+</span><span class="n">p</span><span class="p">[</span><span class="n">n</span><span class="o">-</span><span class="n">k</span><span class="p">])</span><span class="err">%</span><span class="n">mod</span>
<span class="w">    </span><span class="n">return</span><span class="w"> </span><span class="n">p</span>

<span class="n">lst</span><span class="o">=</span><span class="n">sorted</span><span class="p">(</span><span class="nv">partition_mod</span><span class="p">(</span><span class="mi">10000</span><span class="p">))</span>
<span class="n">lst</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="pe-79">
<h2>PE 79<a class="headerlink" href="#pe-79" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-mathematica notranslate"><div class="highlight"><pre><span></span><span class="nv">#79</span><span class="w"> </span><span class="n">Passcode</span><span class="w"> </span><span class="n">Derivation</span>
<span class="mi">73162890</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="pe-80">
<h2>PE 80<a class="headerlink" href="#pe-80" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-mathematica notranslate"><div class="highlight"><pre><span></span><span class="nv">#80</span><span class="w"> </span><span class="n">Square</span><span class="w"> </span><span class="n">Root</span><span class="w"> </span><span class="n">Digital</span><span class="w"> </span><span class="n">Expansion</span>
<span class="n">from</span><span class="w"> </span><span class="n">re</span><span class="w"> </span><span class="n">import</span><span class="w"> </span><span class="n">findall</span>
<span class="n">from</span><span class="w"> </span><span class="n">math</span><span class="w"> </span><span class="n">import</span><span class="w"> </span><span class="n">sqrt</span>
<span class="n">num</span><span class="o">=</span><span class="n">list</span><span class="p">(</span><span class="n">range</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">100</span><span class="p">))</span>
<span class="n">num1</span><span class="o">=</span><span class="p">[]</span>
<span class="n">num</span><span class="err">.</span><span class="n">remove</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
<span class="n">num</span><span class="err">.</span><span class="n">remove</span><span class="p">(</span><span class="mi">9</span><span class="p">)</span>
<span class="n">num</span><span class="err">.</span><span class="n">remove</span><span class="p">(</span><span class="mi">16</span><span class="p">)</span>
<span class="n">num</span><span class="err">.</span><span class="n">remove</span><span class="p">(</span><span class="mi">25</span><span class="p">)</span>
<span class="n">num</span><span class="err">.</span><span class="n">remove</span><span class="p">(</span><span class="mi">36</span><span class="p">)</span>
<span class="n">num</span><span class="err">.</span><span class="n">remove</span><span class="p">(</span><span class="mi">49</span><span class="p">)</span>
<span class="n">num</span><span class="err">.</span><span class="n">remove</span><span class="p">(</span><span class="mi">64</span><span class="p">)</span>
<span class="n">num</span><span class="err">.</span><span class="n">remove</span><span class="p">(</span><span class="mi">81</span><span class="p">)</span>
<span class="n">for</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="n">len</span><span class="p">(</span><span class="n">num</span><span class="p">))</span><span class="err">:</span>
<span class="w">    </span><span class="n">num</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">=</span><span class="n">sqrt</span><span class="p">(</span><span class="n">num</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
<span class="n">for</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="n">len</span><span class="p">(</span><span class="n">num</span><span class="p">))</span><span class="err">:</span>
<span class="w">    </span><span class="n">num2</span><span class="o">=</span><span class="n">num</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="o">*</span><span class="p">(</span><span class="mi">10</span><span class="o">**</span><span class="mi">99</span><span class="p">)</span>
<span class="w">    </span><span class="n">num</span><span class="err">.</span><span class="n">remove</span><span class="p">(</span><span class="n">num</span><span class="p">[</span><span class="n">j</span><span class="p">])</span>
<span class="w">    </span><span class="n">num2</span><span class="o">=</span><span class="n">int</span><span class="p">(</span><span class="n">num2</span><span class="p">)</span>
<span class="w">    </span><span class="n">num</span><span class="err">.</span><span class="n">append</span><span class="p">(</span><span class="n">num2</span><span class="p">)</span>
<span class="n">for</span><span class="w"> </span><span class="n">number1</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">num</span><span class="err">:</span>
<span class="w">    </span><span class="n">dec</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">list</span><span class="p">(</span><span class="n">map</span><span class="p">(</span><span class="n">int</span><span class="p">,</span><span class="w"> </span><span class="n">findall</span><span class="p">(</span><span class="err">&#39;\</span><span class="n">d</span><span class="err">&#39;</span><span class="p">,</span><span class="w"> </span><span class="n">str</span><span class="p">(</span><span class="n">number1</span><span class="p">))))</span>
<span class="w">    </span><span class="n">num1</span><span class="err">.</span><span class="n">append</span><span class="p">(</span><span class="n">dec</span><span class="p">)</span>
<span class="nv">sum_digit</span><span class="o">=</span><span class="mi">0</span>
<span class="n">for</span><span class="w"> </span><span class="nv">list_num</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">num1</span><span class="err">:</span>
<span class="w">    </span><span class="n">for</span><span class="w"> </span><span class="n">number2</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="nv">list_num</span><span class="err">:</span>
<span class="w">        </span><span class="nv">sum_digit</span><span class="o">+=</span><span class="n">number2</span>
<span class="n">print</span><span class="p">(</span><span class="n">num1</span><span class="p">)</span>
<span class="n">print</span><span class="p">(</span><span class="nv">sum_digit</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-mathematica notranslate"><div class="highlight"><pre><span></span><span class="c">(* 80 Square Root Digital Expansion*)</span>
<span class="n">numberDigits</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">RealDigits</span><span class="p">[</span><span class="n">Sqrt</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w"> </span><span class="mi">100</span><span class="p">][[</span><span class="mi">1</span><span class="p">]]</span>
<span class="n">lst</span><span class="o">=</span><span class="n">Complement</span><span class="p">[</span><span class="n">Range</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">99</span><span class="p">],</span><span class="w"> </span><span class="n">Table</span><span class="p">[</span><span class="n">n</span><span class="o">^</span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="p">{</span><span class="n">n</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">Floor</span><span class="p">[</span><span class="n">Sqrt</span><span class="p">[</span><span class="mi">99</span><span class="p">]]}]];</span>
<span class="n">totalNumberDigits</span><span class="o">=</span><span class="n">Table</span><span class="p">[</span><span class="n">RealDigits</span><span class="p">[</span><span class="n">Sqrt</span><span class="p">[</span><span class="n">i</span><span class="p">],</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w"> </span><span class="mi">100</span><span class="p">][[</span><span class="mi">1</span><span class="p">]],{</span><span class="n">i</span><span class="p">,</span><span class="n">lst</span><span class="p">}];</span>
<span class="n">lst1</span><span class="o">=</span><span class="p">{{</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">},{</span><span class="mi">6</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">8</span><span class="p">,</span><span class="mi">9</span><span class="p">,</span><span class="mi">10</span><span class="p">}};</span>
<span class="n">Total</span><span class="p">[</span><span class="n">Total</span><span class="p">[</span><span class="n">lst1</span><span class="p">]]</span>
<span class="n">Total</span><span class="p">[</span><span class="n">Total</span><span class="p">[</span><span class="n">totalNumberDigits</span><span class="p">]]</span>
<span class="c">(* learn 3 functions:</span>
<span class="c">    RealDigits[] give a list of len digit</span>
<span class="c">    Complement[] after excluding the subsequent lists, the complement from the first list </span>
<span class="c">    Total[] *)</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="pe-82">
<h2>PE 82<a class="headerlink" href="#pe-82" title="Link to this heading">#</a></h2>
<p>The path_sum function uses dynamic programming. The values are check for each column, starting from the left. After the values have been determined by moving to the right, sweeping up and down is included through the double loop. Once we reach the last column we find the minimum value.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-mathematica notranslate"><div class="highlight"><pre><span></span><span class="nv">#</span><span class="w"> </span><span class="mi">82</span><span class="w"> </span><span class="n">Path</span><span class="w"> </span><span class="n">sum</span><span class="err">:</span><span class="w"> </span><span class="n">three</span><span class="w"> </span><span class="n">ways</span>
<span class="n">def</span><span class="w"> </span><span class="nv">path_sum</span><span class="p">(</span><span class="n">matrix</span><span class="p">)</span><span class="err">:</span>
<span class="w">    </span><span class="n">dp</span><span class="o">=</span><span class="p">[</span><span class="n">row</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="w"> </span><span class="n">for</span><span class="w"> </span><span class="n">row</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">matrix</span><span class="p">]</span>
<span class="w">    </span><span class="n">for</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="n">n</span><span class="p">)</span><span class="err">:</span>
<span class="w">        </span><span class="n">dp</span><span class="o">=</span><span class="p">[</span><span class="n">dp</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">+</span><span class="n">matrix</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="n">for</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="n">n</span><span class="p">)]</span>
<span class="w">        </span><span class="n">for</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="n">n</span><span class="p">)</span><span class="err">:</span>
<span class="w">            </span><span class="n">dp</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">=</span><span class="n">min</span><span class="p">(</span><span class="n">dp</span><span class="p">[</span><span class="n">i</span><span class="p">],</span><span class="n">dp</span><span class="p">[</span><span class="n">i</span><span class="mi">-1</span><span class="p">]</span><span class="o">+</span><span class="n">matrix</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">])</span>
<span class="w">        </span><span class="n">for</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="n">n</span><span class="mi">-2</span><span class="p">,</span><span class="mi">-1</span><span class="p">,</span><span class="mi">-1</span><span class="p">)</span><span class="err">:</span>
<span class="w">            </span><span class="n">dp</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">=</span><span class="n">min</span><span class="p">(</span><span class="n">dp</span><span class="p">[</span><span class="n">i</span><span class="p">],</span><span class="n">dp</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">]</span><span class="o">+</span><span class="n">matrix</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">])</span>
<span class="w">    </span><span class="n">return</span><span class="w"> </span><span class="n">min</span><span class="p">(</span><span class="n">dp</span><span class="p">)</span>

<span class="n">import</span><span class="w"> </span><span class="n">requests</span>
<span class="n">response</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">requests</span><span class="err">.</span><span class="n">get</span><span class="p">(</span><span class="s">&quot;https://projecteuler.net/resources/documents/0082_matrix.txt&quot;</span><span class="p">)</span><span class="w">   </span><span class="nv">#</span><span class="w"> </span><span class="n">Send</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">GET</span><span class="w"> </span><span class="n">request</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">URL</span>
<span class="n">content</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">response</span><span class="err">.</span><span class="n">text</span><span class="w">     </span><span class="nv">#</span><span class="w"> </span><span class="n">Read</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">content</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">response</span>
<span class="n">matrix</span><span class="o">=</span><span class="n">content</span><span class="err">.</span><span class="n">split</span><span class="p">(</span><span class="err">&#39;\</span><span class="n">n</span><span class="err">&#39;</span><span class="p">)</span>
<span class="n">matrix</span><span class="o">=</span><span class="n">matrix</span><span class="p">[</span><span class="err">:</span><span class="mi">-1</span><span class="p">]</span>
<span class="n">matrix</span><span class="o">=</span><span class="p">[</span><span class="n">list</span><span class="p">(</span><span class="n">map</span><span class="p">(</span><span class="n">int</span><span class="p">,</span><span class="n">row</span><span class="err">.</span><span class="n">split</span><span class="p">(</span><span class="err">&#39;</span><span class="p">,</span><span class="err">&#39;</span><span class="p">)))</span><span class="w"> </span><span class="n">for</span><span class="w"> </span><span class="n">row</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">matrix</span><span class="p">]</span>
<span class="n">n</span><span class="o">=</span><span class="n">len</span><span class="p">(</span><span class="n">matrix</span><span class="p">)</span>
<span class="nv">path_sum</span><span class="p">(</span><span class="n">matrix</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="pe-83">
<h2>PE 83<a class="headerlink" href="#pe-83" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-mathematica notranslate"><div class="highlight"><pre><span></span><span class="n">import</span><span class="w"> </span><span class="n">requests</span>
<span class="n">response</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">requests</span><span class="err">.</span><span class="n">get</span><span class="p">(</span><span class="s">&quot;https://projecteuler.net/resources/documents/0083_matrix.txt&quot;</span><span class="p">)</span><span class="w">   </span><span class="nv">#</span><span class="w"> </span><span class="n">Send</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">GET</span><span class="w"> </span><span class="n">request</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">URL</span>
<span class="n">content</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">response</span><span class="err">.</span><span class="n">text</span><span class="w">     </span><span class="nv">#</span><span class="w"> </span><span class="n">Read</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">content</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">response</span>
<span class="n">matrix</span><span class="o">=</span><span class="n">content</span><span class="err">.</span><span class="n">split</span><span class="p">(</span><span class="err">&#39;\</span><span class="n">n</span><span class="err">&#39;</span><span class="p">)</span>
<span class="n">matrix</span><span class="o">=</span><span class="n">matrix</span><span class="p">[</span><span class="err">:</span><span class="mi">-1</span><span class="p">]</span>
<span class="n">matrix</span><span class="o">=</span><span class="p">[</span><span class="n">list</span><span class="p">(</span><span class="n">map</span><span class="p">(</span><span class="n">int</span><span class="p">,</span><span class="n">row</span><span class="err">.</span><span class="n">split</span><span class="p">(</span><span class="err">&#39;</span><span class="p">,</span><span class="err">&#39;</span><span class="p">)))</span><span class="w"> </span><span class="n">for</span><span class="w"> </span><span class="n">row</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">matrix</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-mathematica notranslate"><div class="highlight"><pre><span></span><span class="nv">#</span><span class="w"> </span><span class="n">Example</span><span class="w"> </span><span class="mi">5</span><span class="n">x5</span><span class="w"> </span><span class="n">matrix</span><span class="w"> </span><span class="p">(</span><span class="n">replace</span><span class="w"> </span><span class="n">with</span><span class="w"> </span><span class="n">PE83</span><span class="w"> </span><span class="n">input</span><span class="w"> </span><span class="n">matrix</span><span class="p">)</span>
<span class="n">matrix</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span>
<span class="w">    </span><span class="p">[</span><span class="mi">131</span><span class="p">,</span><span class="w"> </span><span class="mi">673</span><span class="p">,</span><span class="w"> </span><span class="mi">234</span><span class="p">,</span><span class="w"> </span><span class="mi">103</span><span class="p">,</span><span class="w"> </span><span class="mi">18</span><span class="p">],</span>
<span class="w">    </span><span class="p">[</span><span class="mi">201</span><span class="p">,</span><span class="w"> </span><span class="mi">96</span><span class="p">,</span><span class="w"> </span><span class="mi">342</span><span class="p">,</span><span class="w"> </span><span class="mi">965</span><span class="p">,</span><span class="w"> </span><span class="mi">150</span><span class="p">],</span>
<span class="w">    </span><span class="p">[</span><span class="mi">630</span><span class="p">,</span><span class="w"> </span><span class="mi">803</span><span class="p">,</span><span class="w"> </span><span class="mi">746</span><span class="p">,</span><span class="w"> </span><span class="mi">422</span><span class="p">,</span><span class="w"> </span><span class="mi">111</span><span class="p">],</span>
<span class="w">    </span><span class="p">[</span><span class="mi">537</span><span class="p">,</span><span class="w"> </span><span class="mi">699</span><span class="p">,</span><span class="w"> </span><span class="mi">497</span><span class="p">,</span><span class="w"> </span><span class="mi">121</span><span class="p">,</span><span class="w"> </span><span class="mi">956</span><span class="p">],</span>
<span class="w">    </span><span class="p">[</span><span class="mi">805</span><span class="p">,</span><span class="w"> </span><span class="mi">732</span><span class="p">,</span><span class="w"> </span><span class="mi">524</span><span class="p">,</span><span class="w"> </span><span class="mi">37</span><span class="p">,</span><span class="w"> </span><span class="mi">331</span><span class="p">]</span>
<span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-mathematica notranslate"><div class="highlight"><pre><span></span><span class="n">def</span><span class="w"> </span><span class="n">dijkstra</span><span class="p">(</span><span class="n">matrix</span><span class="p">)</span><span class="err">:</span>
<span class="w">    </span><span class="n">n</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">len</span><span class="p">(</span><span class="n">matrix</span><span class="p">)</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">1</span>
<span class="w">    </span><span class="n">values</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[[</span><span class="n">float</span><span class="p">(</span><span class="err">&#39;</span><span class="n">inf</span><span class="err">&#39;</span><span class="p">)</span><span class="w"> </span><span class="n">for</span><span class="w"> </span><span class="nv">_</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="n">n</span><span class="o">+</span><span class="mi">1</span><span class="p">)]</span><span class="w"> </span><span class="n">for</span><span class="w"> </span><span class="nv">_</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="n">n</span><span class="o">+</span><span class="mi">1</span><span class="p">)]</span>
<span class="w">    </span><span class="n">values</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">matrix</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>

<span class="w">    </span><span class="nv">current_pos</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">]</span>
<span class="w">    </span><span class="nv">nodes_visited</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">set</span><span class="p">()</span>
<span class="w">    </span><span class="nv">nodes_visited</span><span class="err">.</span><span class="n">add</span><span class="p">(</span><span class="n">tuple</span><span class="p">(</span><span class="nv">current_pos</span><span class="p">))</span>

<span class="w">    </span><span class="nv">#</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">global</span><span class="w"> </span><span class="n">frontier</span>
<span class="w">    </span><span class="n">frontier</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[]</span>

<span class="w">    </span><span class="n">while</span><span class="w"> </span><span class="n">values</span><span class="p">[</span><span class="mi">-1</span><span class="p">][</span><span class="mi">-1</span><span class="p">]</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">float</span><span class="p">(</span><span class="err">&#39;</span><span class="n">inf</span><span class="err">&#39;</span><span class="p">)</span><span class="err">:</span>
<span class="w">        </span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="n">y</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">current_pos</span>
<span class="w">        </span><span class="n">lst</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[]</span>

<span class="w">        </span><span class="n">if</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="n">and</span><span class="w"> </span><span class="p">(</span><span class="n">x</span><span class="mi">-1</span><span class="p">,</span><span class="w"> </span><span class="n">y</span><span class="p">)</span><span class="w"> </span><span class="n">not</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="nv">nodes_visited</span><span class="err">:</span>
<span class="w">            </span><span class="n">values</span><span class="p">[</span><span class="n">x</span><span class="mi">-1</span><span class="p">][</span><span class="n">y</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">min</span><span class="p">(</span><span class="n">values</span><span class="p">[</span><span class="n">x</span><span class="mi">-1</span><span class="p">][</span><span class="n">y</span><span class="p">],</span><span class="w"> </span><span class="n">values</span><span class="p">[</span><span class="n">x</span><span class="p">][</span><span class="n">y</span><span class="p">]</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">matrix</span><span class="p">[</span><span class="n">x</span><span class="mi">-1</span><span class="p">][</span><span class="n">y</span><span class="p">])</span>
<span class="w">            </span><span class="n">lst</span><span class="err">.</span><span class="n">append</span><span class="p">([</span><span class="n">values</span><span class="p">[</span><span class="n">x</span><span class="mi">-1</span><span class="p">][</span><span class="n">y</span><span class="p">],</span><span class="w"> </span><span class="p">[</span><span class="n">x</span><span class="mi">-1</span><span class="p">,</span><span class="w"> </span><span class="n">y</span><span class="p">]])</span>

<span class="w">        </span><span class="n">if</span><span class="w"> </span><span class="n">y</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="n">and</span><span class="w"> </span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="n">y</span><span class="mi">-1</span><span class="p">)</span><span class="w"> </span><span class="n">not</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="nv">nodes_visited</span><span class="err">:</span>
<span class="w">            </span><span class="n">values</span><span class="p">[</span><span class="n">x</span><span class="p">][</span><span class="n">y</span><span class="mi">-1</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">min</span><span class="p">(</span><span class="n">values</span><span class="p">[</span><span class="n">x</span><span class="p">][</span><span class="n">y</span><span class="mi">-1</span><span class="p">],</span><span class="w"> </span><span class="n">values</span><span class="p">[</span><span class="n">x</span><span class="p">][</span><span class="n">y</span><span class="mi">-1</span><span class="p">],</span><span class="w"> </span><span class="n">values</span><span class="p">[</span><span class="n">x</span><span class="p">][</span><span class="n">y</span><span class="p">]</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">matrix</span><span class="p">[</span><span class="n">x</span><span class="p">][</span><span class="n">y</span><span class="mi">-1</span><span class="p">])</span>
<span class="w">            </span><span class="n">lst</span><span class="err">.</span><span class="n">append</span><span class="p">([</span><span class="n">values</span><span class="p">[</span><span class="n">x</span><span class="p">][</span><span class="n">y</span><span class="mi">-1</span><span class="p">],</span><span class="w"> </span><span class="p">[</span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="n">y</span><span class="mi">-1</span><span class="p">]])</span>

<span class="w">        </span><span class="n">if</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="n">n</span><span class="w"> </span><span class="n">and</span><span class="w"> </span><span class="p">(</span><span class="n">x</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">y</span><span class="p">)</span><span class="w"> </span><span class="n">not</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="nv">nodes_visited</span><span class="err">:</span>
<span class="w">            </span><span class="n">values</span><span class="p">[</span><span class="n">x</span><span class="o">+</span><span class="mi">1</span><span class="p">][</span><span class="n">y</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">min</span><span class="p">(</span><span class="n">values</span><span class="p">[</span><span class="n">x</span><span class="o">+</span><span class="mi">1</span><span class="p">][</span><span class="n">y</span><span class="p">],</span><span class="w"> </span><span class="n">values</span><span class="p">[</span><span class="n">x</span><span class="p">][</span><span class="n">y</span><span class="p">]</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">matrix</span><span class="p">[</span><span class="n">x</span><span class="o">+</span><span class="mi">1</span><span class="p">][</span><span class="n">y</span><span class="p">])</span>
<span class="w">            </span><span class="n">lst</span><span class="err">.</span><span class="n">append</span><span class="p">([</span><span class="n">values</span><span class="p">[</span><span class="n">x</span><span class="o">+</span><span class="mi">1</span><span class="p">][</span><span class="n">y</span><span class="p">],</span><span class="w"> </span><span class="p">[</span><span class="n">x</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">y</span><span class="p">]])</span>

<span class="w">        </span><span class="n">if</span><span class="w"> </span><span class="n">y</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="n">n</span><span class="w"> </span><span class="n">and</span><span class="w"> </span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="n">y</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span><span class="w"> </span><span class="n">not</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="nv">nodes_visited</span><span class="err">:</span>
<span class="w">            </span><span class="n">values</span><span class="p">[</span><span class="n">x</span><span class="p">][</span><span class="n">y</span><span class="o">+</span><span class="mi">1</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">min</span><span class="p">(</span><span class="n">values</span><span class="p">[</span><span class="n">x</span><span class="p">][</span><span class="n">y</span><span class="o">+</span><span class="mi">1</span><span class="p">],</span><span class="w"> </span><span class="n">values</span><span class="p">[</span><span class="n">x</span><span class="p">][</span><span class="n">y</span><span class="p">]</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">matrix</span><span class="p">[</span><span class="n">x</span><span class="p">][</span><span class="n">y</span><span class="o">+</span><span class="mi">1</span><span class="p">])</span>
<span class="w">            </span><span class="n">lst</span><span class="err">.</span><span class="n">append</span><span class="p">([</span><span class="n">values</span><span class="p">[</span><span class="n">x</span><span class="p">][</span><span class="n">y</span><span class="o">+</span><span class="mi">1</span><span class="p">],</span><span class="w"> </span><span class="p">[</span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="n">y</span><span class="o">+</span><span class="mi">1</span><span class="p">]])</span>

<span class="w">        </span><span class="nv">#</span><span class="w"> </span><span class="n">add</span><span class="w"> </span><span class="n">all</span><span class="w"> </span><span class="n">candidates</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">global</span><span class="w"> </span><span class="n">frontier</span>
<span class="w">        </span><span class="n">frontier</span><span class="err">.</span><span class="n">extend</span><span class="p">(</span><span class="n">lst</span><span class="p">)</span>

<span class="w">        </span><span class="nv">#</span><span class="w"> </span><span class="n">pick</span><span class="w"> </span><span class="n">best</span><span class="w"> </span><span class="n">among</span><span class="w"> </span><span class="n">ALL</span><span class="w"> </span><span class="n">candidates</span><span class="w"> </span><span class="n">so</span><span class="w"> </span><span class="n">far</span>
<span class="w">        </span><span class="n">frontier</span><span class="err">.</span><span class="n">sort</span><span class="p">()</span>
<span class="w">        </span><span class="n">while</span><span class="w"> </span><span class="n">frontier</span><span class="w"> </span><span class="n">and</span><span class="w"> </span><span class="n">tuple</span><span class="p">(</span><span class="n">frontier</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">1</span><span class="p">])</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="nv">nodes_visited</span><span class="err">:</span>
<span class="w">            </span><span class="n">frontier</span><span class="err">.</span><span class="n">pop</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>

<span class="w">        </span><span class="n">if</span><span class="w"> </span><span class="n">not</span><span class="w"> </span><span class="n">frontier</span><span class="err">:</span>
<span class="w">            </span><span class="n">break</span><span class="w">  </span><span class="nv">#</span><span class="w"> </span><span class="n">no</span><span class="w"> </span><span class="n">path</span><span class="w"> </span><span class="n">left</span>

<span class="w">        </span><span class="nv">current_pos</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">frontier</span><span class="err">.</span><span class="n">pop</span><span class="p">(</span><span class="mi">0</span><span class="p">)[</span><span class="mi">1</span><span class="p">]</span>
<span class="w">        </span><span class="nv">nodes_visited</span><span class="err">.</span><span class="n">add</span><span class="p">(</span><span class="n">tuple</span><span class="p">(</span><span class="nv">current_pos</span><span class="p">))</span>

<span class="w">    </span><span class="n">return</span><span class="w"> </span><span class="n">values</span><span class="p">[</span><span class="mi">-1</span><span class="p">][</span><span class="mi">-1</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-mathematica notranslate"><div class="highlight"><pre><span></span><span class="nv">#</span><span class="w"> </span><span class="n">FP</span>
<span class="n">from</span><span class="w"> </span><span class="n">heapq</span><span class="w"> </span><span class="n">import</span><span class="w"> </span><span class="n">heappush</span><span class="p">,</span><span class="n">heappop</span>
<span class="n">def</span><span class="w"> </span><span class="n">dijkstra</span><span class="p">(</span><span class="n">matrix</span><span class="p">)</span><span class="err">:</span>
<span class="w">    </span><span class="n">n</span><span class="o">=</span><span class="n">len</span><span class="p">(</span><span class="n">matrix</span><span class="p">)</span>
<span class="w">    </span><span class="n">target</span><span class="o">=</span><span class="p">(</span><span class="n">n</span><span class="mi">-1</span><span class="p">,</span><span class="n">n</span><span class="mi">-1</span><span class="p">)</span>
<span class="w">    </span><span class="n">heap</span><span class="o">=</span><span class="p">[(</span><span class="n">matrix</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">],(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">))]</span>
<span class="w">    </span><span class="n">dist</span><span class="o">=</span><span class="p">{(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span><span class="err">:</span><span class="n">matrix</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">]}</span>
<span class="w">    </span><span class="n">neighbors</span><span class="o">=</span><span class="n">lambda</span><span class="w"> </span><span class="n">i</span><span class="p">,</span><span class="n">j</span><span class="err">:</span><span class="w"> </span><span class="n">filter</span><span class="p">(</span><span class="n">lambda</span><span class="w"> </span><span class="n">x</span><span class="err">:</span><span class="mi">0</span><span class="o">&lt;=</span><span class="n">x</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">&lt;</span><span class="n">n</span><span class="w"> </span><span class="n">and</span><span class="w"> </span><span class="mi">0</span><span class="o">&lt;=</span><span class="n">x</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">&lt;</span><span class="n">n</span><span class="p">,</span>
<span class="w">    </span><span class="p">[(</span><span class="n">i</span><span class="mi">-1</span><span class="p">,</span><span class="w"> </span><span class="n">j</span><span class="p">),</span><span class="w"> </span><span class="p">(</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">j</span><span class="p">),</span><span class="w"> </span><span class="p">(</span><span class="n">i</span><span class="p">,</span><span class="w"> </span><span class="n">j</span><span class="mi">-1</span><span class="p">),</span><span class="w"> </span><span class="p">(</span><span class="n">i</span><span class="p">,</span><span class="w"> </span><span class="n">j</span><span class="o">+</span><span class="mi">1</span><span class="p">)])</span>
<span class="w">    </span><span class="n">while</span><span class="w"> </span><span class="n">heap</span><span class="err">:</span>
<span class="w">        </span><span class="n">d</span><span class="p">,(</span><span class="n">i</span><span class="p">,</span><span class="n">j</span><span class="p">)</span><span class="o">=</span><span class="n">heappop</span><span class="p">(</span><span class="n">heap</span><span class="p">)</span>
<span class="w">        </span><span class="n">if</span><span class="p">(</span><span class="n">i</span><span class="p">,</span><span class="n">j</span><span class="p">)</span><span class="o">==</span><span class="n">target</span><span class="err">:</span>
<span class="w">            </span><span class="n">return</span><span class="w"> </span><span class="n">d</span>
<span class="w">        </span><span class="n">for</span><span class="w"> </span><span class="n">ni</span><span class="p">,</span><span class="n">nj</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">neighbors</span><span class="p">(</span><span class="n">i</span><span class="p">,</span><span class="n">j</span><span class="p">)</span><span class="err">:</span>
<span class="w">            </span><span class="nv">new_d</span><span class="o">=</span><span class="n">d</span><span class="o">+</span><span class="n">matrix</span><span class="p">[</span><span class="n">ni</span><span class="p">][</span><span class="n">nj</span><span class="p">]</span>
<span class="w">            </span><span class="n">if</span><span class="w"> </span><span class="nv">new_d</span><span class="o">&lt;</span><span class="n">dist</span><span class="err">.</span><span class="n">get</span><span class="p">((</span><span class="n">ni</span><span class="p">,</span><span class="n">nj</span><span class="p">),</span><span class="n">float</span><span class="p">(</span><span class="err">&#39;</span><span class="n">inf</span><span class="err">&#39;</span><span class="p">))</span><span class="err">:</span>
<span class="w">                </span><span class="n">dist</span><span class="o">=</span><span class="p">{</span><span class="o">**</span><span class="n">dist</span><span class="p">,(</span><span class="n">ni</span><span class="p">,</span><span class="n">nj</span><span class="p">)</span><span class="err">:</span><span class="w"> </span><span class="nv">new_d</span><span class="p">}</span>
<span class="w">                </span><span class="n">heappush</span><span class="p">(</span><span class="n">heap</span><span class="p">,(</span><span class="nv">new_d</span><span class="p">,(</span><span class="n">ni</span><span class="p">,</span><span class="n">nj</span><span class="p">)))</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-mathematica notranslate"><div class="highlight"><pre><span></span><span class="nv">#</span><span class="w"> </span><span class="n">OOP</span>
<span class="n">def</span><span class="w"> </span><span class="n">dijkstra</span><span class="p">(</span><span class="n">matrix</span><span class="p">)</span><span class="err">:</span>
<span class="w">    </span><span class="n">n</span><span class="o">=</span><span class="n">len</span><span class="p">(</span><span class="n">matrix</span><span class="p">)</span><span class="mi">-1</span>
<span class="w">    </span><span class="n">values</span><span class="o">=</span><span class="p">[[</span><span class="n">float</span><span class="p">(</span><span class="err">&#39;</span><span class="n">inf</span><span class="err">&#39;</span><span class="p">)</span><span class="w"> </span><span class="n">for</span><span class="w"> </span><span class="nv">_</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="n">n</span><span class="o">+</span><span class="mi">1</span><span class="p">)]</span><span class="w"> </span><span class="n">for</span><span class="w"> </span><span class="nv">_</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="n">n</span><span class="o">+</span><span class="mi">1</span><span class="p">)]</span>
<span class="w">    </span><span class="n">values</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span><span class="o">=</span><span class="n">matrix</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>
<span class="w">    </span><span class="nv">current_pos</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">]</span>
<span class="w">    </span><span class="nv">nodes_visited</span><span class="o">=</span><span class="p">[</span><span class="nv">current_pos</span><span class="p">]</span>
<span class="w">    </span><span class="n">while</span><span class="w"> </span><span class="n">values</span><span class="p">[</span><span class="mi">-1</span><span class="p">][</span><span class="mi">-1</span><span class="p">]</span><span class="o">==</span><span class="n">float</span><span class="p">(</span><span class="err">&#39;</span><span class="n">inf</span><span class="err">&#39;</span><span class="p">)</span><span class="err">:</span>
<span class="w">        </span><span class="nv">previous_pos</span><span class="o">=</span><span class="nv">current_pos</span>
<span class="w">        </span><span class="n">lst</span><span class="o">=</span><span class="p">[]</span>
<span class="w">        </span><span class="n">if</span><span class="w"> </span><span class="nv">current_pos</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">!=</span><span class="mi">0</span><span class="w"> </span><span class="n">and</span><span class="w"> </span><span class="p">[</span><span class="nv">current_pos</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="mi">-1</span><span class="p">,</span><span class="nv">current_pos</span><span class="p">[</span><span class="mi">1</span><span class="p">]]</span><span class="w"> </span><span class="n">not</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="nv">nodes_visited</span><span class="err">:</span>
<span class="w">            </span><span class="n">values</span><span class="p">[</span><span class="nv">current_pos</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="mi">-1</span><span class="p">][</span><span class="nv">current_pos</span><span class="p">[</span><span class="mi">1</span><span class="p">]]</span><span class="o">=</span><span class="n">min</span><span class="p">(</span><span class="n">values</span><span class="p">[</span><span class="nv">current_pos</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="mi">-1</span><span class="p">][</span><span class="nv">current_pos</span><span class="p">[</span><span class="mi">1</span><span class="p">]],</span><span class="n">values</span><span class="p">[</span><span class="nv">current_pos</span><span class="p">[</span><span class="mi">0</span><span class="p">]][</span><span class="nv">current_pos</span><span class="p">[</span><span class="mi">1</span><span class="p">]]</span><span class="o">+</span><span class="n">matrix</span><span class="p">[</span><span class="nv">current_pos</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="mi">-1</span><span class="p">][</span><span class="nv">current_pos</span><span class="p">[</span><span class="mi">1</span><span class="p">]])</span>
<span class="w">            </span><span class="n">lst</span><span class="err">.</span><span class="n">append</span><span class="p">([</span><span class="n">values</span><span class="p">[</span><span class="nv">current_pos</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="mi">-1</span><span class="p">][</span><span class="nv">current_pos</span><span class="p">[</span><span class="mi">1</span><span class="p">]],[</span><span class="nv">current_pos</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="mi">-1</span><span class="p">,</span><span class="nv">current_pos</span><span class="p">[</span><span class="mi">1</span><span class="p">]]])</span>
<span class="w">        </span><span class="n">if</span><span class="w"> </span><span class="nv">current_pos</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">!=</span><span class="mi">0</span><span class="w"> </span><span class="n">and</span><span class="w"> </span><span class="p">[</span><span class="nv">current_pos</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="nv">current_pos</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="mi">-1</span><span class="p">]</span><span class="w"> </span><span class="n">not</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="nv">nodes_visited</span><span class="err">:</span>
<span class="w">            </span><span class="n">values</span><span class="p">[</span><span class="nv">current_pos</span><span class="p">[</span><span class="mi">0</span><span class="p">]][</span><span class="nv">current_pos</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="mi">-1</span><span class="p">]</span><span class="o">=</span><span class="n">min</span><span class="p">(</span><span class="n">values</span><span class="p">[</span><span class="nv">current_pos</span><span class="p">[</span><span class="mi">0</span><span class="p">]][</span><span class="nv">current_pos</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="mi">-1</span><span class="p">],</span><span class="n">values</span><span class="p">[</span><span class="nv">current_pos</span><span class="p">[</span><span class="mi">0</span><span class="p">]][</span><span class="nv">current_pos</span><span class="p">[</span><span class="mi">1</span><span class="p">]]</span><span class="o">+</span><span class="n">matrix</span><span class="p">[</span><span class="nv">current_pos</span><span class="p">[</span><span class="mi">0</span><span class="p">]][</span><span class="nv">current_pos</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="mi">-1</span><span class="p">])</span>
<span class="w">            </span><span class="n">lst</span><span class="err">.</span><span class="n">append</span><span class="p">([</span><span class="n">values</span><span class="p">[</span><span class="nv">current_pos</span><span class="p">[</span><span class="mi">0</span><span class="p">]][</span><span class="nv">current_pos</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="mi">-1</span><span class="p">],[</span><span class="nv">current_pos</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="nv">current_pos</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="mi">-1</span><span class="p">]])</span>
<span class="w">        </span><span class="n">if</span><span class="w"> </span><span class="nv">current_pos</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">!=</span><span class="n">n</span><span class="w"> </span><span class="n">and</span><span class="w"> </span><span class="p">[</span><span class="nv">current_pos</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span><span class="nv">current_pos</span><span class="p">[</span><span class="mi">1</span><span class="p">]]</span><span class="w"> </span><span class="n">not</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="nv">nodes_visited</span><span class="err">:</span>
<span class="w">            </span><span class="n">values</span><span class="p">[</span><span class="nv">current_pos</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">+</span><span class="mi">1</span><span class="p">][</span><span class="nv">current_pos</span><span class="p">[</span><span class="mi">1</span><span class="p">]]</span><span class="o">=</span><span class="n">min</span><span class="p">(</span><span class="n">values</span><span class="p">[</span><span class="nv">current_pos</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">+</span><span class="mi">1</span><span class="p">][</span><span class="nv">current_pos</span><span class="p">[</span><span class="mi">1</span><span class="p">]],</span><span class="n">values</span><span class="p">[</span><span class="nv">current_pos</span><span class="p">[</span><span class="mi">0</span><span class="p">]][</span><span class="nv">current_pos</span><span class="p">[</span><span class="mi">1</span><span class="p">]]</span><span class="o">+</span><span class="n">matrix</span><span class="p">[</span><span class="nv">current_pos</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">+</span><span class="mi">1</span><span class="p">][</span><span class="nv">current_pos</span><span class="p">[</span><span class="mi">1</span><span class="p">]])</span>
<span class="w">            </span><span class="n">lst</span><span class="err">.</span><span class="n">append</span><span class="p">([</span><span class="n">values</span><span class="p">[</span><span class="nv">current_pos</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">+</span><span class="mi">1</span><span class="p">][</span><span class="nv">current_pos</span><span class="p">[</span><span class="mi">1</span><span class="p">]],[</span><span class="nv">current_pos</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span><span class="nv">current_pos</span><span class="p">[</span><span class="mi">1</span><span class="p">]]])</span>
<span class="w">        </span><span class="n">if</span><span class="w"> </span><span class="nv">current_pos</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">!=</span><span class="n">n</span><span class="w"> </span><span class="n">and</span><span class="w"> </span><span class="p">[</span><span class="nv">current_pos</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="nv">current_pos</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">+</span><span class="mi">1</span><span class="p">]</span><span class="w"> </span><span class="n">not</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="nv">nodes_visited</span><span class="err">:</span>
<span class="w">            </span><span class="n">values</span><span class="p">[</span><span class="nv">current_pos</span><span class="p">[</span><span class="mi">0</span><span class="p">]][</span><span class="nv">current_pos</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">+</span><span class="mi">1</span><span class="p">]</span><span class="o">=</span><span class="n">min</span><span class="p">(</span><span class="n">values</span><span class="p">[</span><span class="nv">current_pos</span><span class="p">[</span><span class="mi">0</span><span class="p">]][</span><span class="nv">current_pos</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">+</span><span class="mi">1</span><span class="p">],</span><span class="n">values</span><span class="p">[</span><span class="nv">current_pos</span><span class="p">[</span><span class="mi">0</span><span class="p">]][</span><span class="nv">current_pos</span><span class="p">[</span><span class="mi">1</span><span class="p">]]</span><span class="o">+</span><span class="n">matrix</span><span class="p">[</span><span class="nv">current_pos</span><span class="p">[</span><span class="mi">0</span><span class="p">]][</span><span class="nv">current_pos</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">+</span><span class="mi">1</span><span class="p">])</span>
<span class="w">            </span><span class="n">lst</span><span class="err">.</span><span class="n">append</span><span class="p">([</span><span class="n">values</span><span class="p">[</span><span class="nv">current_pos</span><span class="p">[</span><span class="mi">0</span><span class="p">]][</span><span class="nv">current_pos</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">+</span><span class="mi">1</span><span class="p">],[</span><span class="nv">current_pos</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="nv">current_pos</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">+</span><span class="mi">1</span><span class="p">]])</span>
<span class="w">        </span><span class="n">print</span><span class="p">(</span><span class="n">lst</span><span class="p">)</span>
<span class="w">        </span><span class="nv">current_pos</span><span class="o">=</span><span class="n">min</span><span class="p">(</span><span class="n">lst</span><span class="p">)[</span><span class="mi">1</span><span class="p">]</span>
<span class="w">        </span><span class="nv">nodes_visited</span><span class="err">.</span><span class="n">append</span><span class="p">(</span><span class="nv">current_pos</span><span class="p">)</span>
<span class="w">    </span><span class="n">return</span><span class="w"> </span><span class="n">values</span><span class="p">[</span><span class="mi">-1</span><span class="p">][</span><span class="mi">-1</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-mathematica notranslate"><div class="highlight"><pre><span></span><span class="n">dijkstra</span><span class="p">(</span><span class="n">matrix</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="pe-84">
<h2>PE 84<a class="headerlink" href="#pe-84" title="Link to this heading">#</a></h2>
<p>Two ways: Markov chain and Monte Carlo simulation.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-mathematica notranslate"><div class="highlight"><pre><span></span><span class="nv">#</span><span class="w"> </span><span class="n">Define</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="mi">40</span><span class="n">x40</span><span class="w"> </span><span class="n">transition</span><span class="w"> </span><span class="n">matrix</span><span class="w"> </span><span class="n">for</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">Monopoly</span><span class="w"> </span><span class="n">board</span>
<span class="n">M</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Matrix</span><span class="p">(</span><span class="n">QQ</span><span class="p">,</span><span class="w"> </span><span class="mi">40</span><span class="p">,</span><span class="w"> </span><span class="mi">40</span><span class="p">,</span><span class="w"> </span><span class="n">sparse</span><span class="o">=</span><span class="n">True</span><span class="p">)</span>

<span class="nv">dice_probs</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="mi">2</span><span class="err">:</span><span class="w"> </span><span class="mi">1</span><span class="o">/</span><span class="mi">36</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="err">:</span><span class="w"> </span><span class="mi">2</span><span class="o">/</span><span class="mi">36</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="err">:</span><span class="w"> </span><span class="mi">3</span><span class="o">/</span><span class="mi">36</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="err">:</span><span class="w"> </span><span class="mi">4</span><span class="o">/</span><span class="mi">36</span><span class="p">,</span><span class="w"> </span><span class="mi">6</span><span class="err">:</span><span class="w"> </span><span class="mi">5</span><span class="o">/</span><span class="mi">36</span><span class="p">,</span><span class="w"> </span><span class="mi">7</span><span class="err">:</span><span class="w"> </span><span class="mi">6</span><span class="o">/</span><span class="mi">36</span><span class="p">,</span>
<span class="w">              </span><span class="mi">8</span><span class="err">:</span><span class="w"> </span><span class="mi">5</span><span class="o">/</span><span class="mi">36</span><span class="p">,</span><span class="w"> </span><span class="mi">9</span><span class="err">:</span><span class="w"> </span><span class="mi">4</span><span class="o">/</span><span class="mi">36</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="err">:</span><span class="w"> </span><span class="mi">3</span><span class="o">/</span><span class="mi">36</span><span class="p">,</span><span class="w"> </span><span class="mi">11</span><span class="err">:</span><span class="w"> </span><span class="mi">2</span><span class="o">/</span><span class="mi">36</span><span class="p">,</span><span class="w"> </span><span class="mi">12</span><span class="err">:</span><span class="w"> </span><span class="mi">1</span><span class="o">/</span><span class="mi">36</span><span class="p">}</span>

<span class="nv">chance_squares</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="mi">7</span><span class="p">,</span><span class="w"> </span><span class="mi">22</span><span class="p">,</span><span class="w"> </span><span class="mi">36</span><span class="p">]</span>
<span class="nv">community_chest_squares</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">17</span><span class="p">,</span><span class="w"> </span><span class="mi">33</span><span class="p">]</span>
<span class="nv">go_to_jail</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">30</span>
<span class="n">jail</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">10</span>

<span class="nv">chance_moves</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="mi">0</span><span class="err">:</span><span class="w"> </span><span class="mi">1</span><span class="o">/</span><span class="mi">16</span><span class="p">,</span><span class="w">   </span><span class="nv">#</span><span class="w"> </span><span class="n">Go</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">Go</span><span class="w"> </span><span class="p">(</span><span class="n">square</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span>
<span class="w">    </span><span class="mi">10</span><span class="err">:</span><span class="w"> </span><span class="mi">1</span><span class="o">/</span><span class="mi">16</span><span class="p">,</span><span class="w">  </span><span class="nv">#</span><span class="w"> </span><span class="n">Go</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">Jail</span><span class="w"> </span><span class="p">(</span><span class="n">square</span><span class="w"> </span><span class="mi">10</span><span class="p">)</span>
<span class="w">    </span><span class="mi">11</span><span class="err">:</span><span class="w"> </span><span class="mi">1</span><span class="o">/</span><span class="mi">16</span><span class="p">,</span><span class="w">  </span><span class="nv">#</span><span class="w"> </span><span class="n">Go</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">C1</span><span class="w"> </span><span class="p">(</span><span class="n">square</span><span class="w"> </span><span class="mi">11</span><span class="p">)</span>
<span class="w">    </span><span class="mi">24</span><span class="err">:</span><span class="w"> </span><span class="mi">1</span><span class="o">/</span><span class="mi">16</span><span class="p">,</span><span class="w">  </span><span class="nv">#</span><span class="w"> </span><span class="n">Go</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">E3</span><span class="w"> </span><span class="p">(</span><span class="n">square</span><span class="w"> </span><span class="mi">24</span><span class="p">)</span>
<span class="w">    </span><span class="mi">39</span><span class="err">:</span><span class="w"> </span><span class="mi">1</span><span class="o">/</span><span class="mi">16</span><span class="p">,</span><span class="w">  </span><span class="nv">#</span><span class="w"> </span><span class="n">Go</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">H2</span><span class="w"> </span><span class="p">(</span><span class="n">square</span><span class="w"> </span><span class="mi">39</span><span class="p">)</span>
<span class="w">    </span><span class="mi">5</span><span class="err">:</span><span class="w"> </span><span class="mi">1</span><span class="o">/</span><span class="mi">16</span><span class="p">,</span><span class="w">   </span><span class="nv">#</span><span class="w"> </span><span class="n">Go</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">R1</span><span class="w"> </span><span class="p">(</span><span class="n">square</span><span class="w"> </span><span class="mi">5</span><span class="p">)</span>
<span class="w">    </span><span class="nv">#</span><span class="w"> </span><span class="n">Next</span><span class="w"> </span><span class="n">railway</span><span class="w"> </span><span class="p">(</span><span class="n">R2</span><span class="p">,</span><span class="w"> </span><span class="n">R3</span><span class="p">,</span><span class="w"> </span><span class="n">R4</span><span class="w"> </span><span class="n">depend</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">current</span><span class="w"> </span><span class="n">square</span><span class="p">)</span>
<span class="w">    </span><span class="nv">#</span><span class="w"> </span><span class="n">Next</span><span class="w"> </span><span class="n">utility</span><span class="w"> </span><span class="p">(</span><span class="n">U1</span><span class="p">,</span><span class="w"> </span><span class="n">U2</span><span class="w"> </span><span class="n">depend</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">current</span><span class="w"> </span><span class="n">square</span><span class="p">)</span>
<span class="w">    </span><span class="nv">#</span><span class="w"> </span><span class="n">Back</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="n">spaces</span><span class="w"> </span><span class="p">(</span><span class="n">depends</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">current</span><span class="w"> </span><span class="n">square</span><span class="p">)</span>
<span class="w">    </span><span class="nv">#</span><span class="w"> </span><span class="mi">7</span><span class="w"> </span><span class="n">non</span><span class="o">-</span><span class="n">movement</span><span class="w"> </span><span class="n">cards</span><span class="err">:</span><span class="w"> </span><span class="n">stay</span><span class="w"> </span><span class="n">put</span><span class="w"> </span><span class="n">or</span><span class="w"> </span><span class="n">handle</span><span class="w"> </span><span class="n">via</span><span class="w"> </span><span class="n">dice</span><span class="w"> </span><span class="n">roll</span>
<span class="p">}</span>

<span class="nv">cc_moves</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="mi">0</span><span class="err">:</span><span class="w"> </span><span class="mi">1</span><span class="o">/</span><span class="mi">16</span><span class="p">,</span><span class="w">   </span><span class="nv">#</span><span class="w"> </span><span class="n">Go</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">Go</span><span class="w"> </span><span class="p">(</span><span class="n">square</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span>
<span class="w">    </span><span class="mi">10</span><span class="err">:</span><span class="w"> </span><span class="mi">1</span><span class="o">/</span><span class="mi">16</span><span class="p">,</span><span class="w">  </span><span class="nv">#</span><span class="w"> </span><span class="n">Go</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">Jail</span><span class="w"> </span><span class="p">(</span><span class="n">square</span><span class="w"> </span><span class="mi">10</span><span class="p">)</span>
<span class="w">    </span><span class="nv">#</span><span class="w"> </span><span class="mi">14</span><span class="w"> </span><span class="n">non</span><span class="o">-</span><span class="n">movement</span><span class="w"> </span><span class="n">cards</span><span class="err">:</span><span class="w"> </span><span class="n">stay</span><span class="w"> </span><span class="n">put</span><span class="w"> </span><span class="n">or</span><span class="w"> </span><span class="n">handle</span><span class="w"> </span><span class="n">via</span><span class="w"> </span><span class="n">dice</span><span class="w"> </span><span class="n">roll</span>
<span class="p">}</span>

<span class="n">def</span><span class="w"> </span><span class="nv">next_railway</span><span class="p">(</span><span class="n">square</span><span class="p">)</span><span class="err">:</span>
<span class="w">    </span><span class="n">railways</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="mi">15</span><span class="p">,</span><span class="w"> </span><span class="mi">25</span><span class="p">,</span><span class="w"> </span><span class="mi">35</span><span class="p">]</span>
<span class="w">    </span><span class="n">for</span><span class="w"> </span><span class="n">r</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">railways</span><span class="err">:</span>
<span class="w">        </span><span class="n">if</span><span class="w"> </span><span class="n">r</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="n">square</span><span class="err">:</span>
<span class="w">            </span><span class="n">return</span><span class="w"> </span><span class="n">r</span>
<span class="w">    </span><span class="n">return</span><span class="w"> </span><span class="n">railways</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="w">  </span><span class="nv">#</span><span class="w"> </span><span class="n">Wrap</span><span class="w"> </span><span class="n">around</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">R1</span>

<span class="n">def</span><span class="w"> </span><span class="nv">next_utility</span><span class="p">(</span><span class="n">square</span><span class="p">)</span><span class="err">:</span>
<span class="w">    </span><span class="n">utilities</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="mi">12</span><span class="p">,</span><span class="w"> </span><span class="mi">28</span><span class="p">]</span>
<span class="w">    </span><span class="n">for</span><span class="w"> </span><span class="n">u</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">utilities</span><span class="err">:</span>
<span class="w">        </span><span class="n">if</span><span class="w"> </span><span class="n">u</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="n">square</span><span class="err">:</span>
<span class="w">            </span><span class="n">return</span><span class="w"> </span><span class="n">u</span>
<span class="w">    </span><span class="n">return</span><span class="w"> </span><span class="n">utilities</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="w">  </span><span class="nv">#</span><span class="w"> </span><span class="n">Wrap</span><span class="w"> </span><span class="n">around</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">U1</span>

<span class="nv">#</span><span class="w"> </span><span class="n">Populate</span><span class="w"> </span><span class="n">transition</span><span class="w"> </span><span class="n">matrix</span>
<span class="n">for</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="mi">40</span><span class="p">)</span><span class="err">:</span>
<span class="w">    </span><span class="n">if</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="nv">go_to_jail</span><span class="err">:</span>
<span class="w">        </span><span class="n">M</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="w"> </span><span class="n">jail</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span>
<span class="w">    </span><span class="n">elif</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="nv">chance_squares</span><span class="err">:</span>
<span class="w">        </span><span class="nv">#</span><span class="w"> </span><span class="n">Chance</span><span class="w"> </span><span class="n">squares</span><span class="err">:</span><span class="w"> </span><span class="n">handle</span><span class="w"> </span><span class="n">card</span><span class="w"> </span><span class="n">transitions</span>
<span class="w">        </span><span class="n">for</span><span class="w"> </span><span class="n">dest</span><span class="p">,</span><span class="w"> </span><span class="n">prob</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="nv">chance_moves</span><span class="err">.</span><span class="n">items</span><span class="p">()</span><span class="err">:</span>
<span class="w">            </span><span class="n">M</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="w"> </span><span class="n">dest</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">prob</span>
<span class="w">        </span><span class="n">M</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="w"> </span><span class="nv">next_railway</span><span class="p">(</span><span class="n">i</span><span class="p">)]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="o">/</span><span class="mi">16</span>
<span class="w">        </span><span class="n">M</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="w"> </span><span class="nv">next_utility</span><span class="p">(</span><span class="n">i</span><span class="p">)]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="o">/</span><span class="mi">16</span>
<span class="w">        </span><span class="n">M</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="n">i</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">3</span><span class="p">)</span><span class="w"> </span><span class="err">%</span><span class="w"> </span><span class="mi">40</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="o">/</span><span class="mi">16</span>
<span class="w">        </span><span class="n">for</span><span class="w"> </span><span class="n">k</span><span class="p">,</span><span class="w"> </span><span class="n">prob</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="nv">dice_probs</span><span class="err">.</span><span class="n">items</span><span class="p">()</span><span class="err">:</span>
<span class="w">            </span><span class="n">M</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="n">i</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">k</span><span class="p">)</span><span class="w"> </span><span class="err">%</span><span class="w"> </span><span class="mi">40</span><span class="p">]</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="p">(</span><span class="mi">7</span><span class="o">/</span><span class="mi">16</span><span class="p">)</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">prob</span>
<span class="w">    </span><span class="n">elif</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="nv">community_chest_squares</span><span class="err">:</span>
<span class="w">        </span><span class="nv">#</span><span class="w"> </span><span class="n">Community</span><span class="w"> </span><span class="n">Chest</span><span class="err">:</span><span class="w"> </span><span class="n">handle</span><span class="w"> </span><span class="n">card</span><span class="w"> </span><span class="n">transitions</span>
<span class="w">        </span><span class="n">for</span><span class="w"> </span><span class="n">dest</span><span class="p">,</span><span class="w"> </span><span class="n">prob</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="nv">cc_moves</span><span class="err">.</span><span class="n">items</span><span class="p">()</span><span class="err">:</span>
<span class="w">            </span><span class="n">M</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="w"> </span><span class="n">dest</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">prob</span>
<span class="w">        </span><span class="n">for</span><span class="w"> </span><span class="n">k</span><span class="p">,</span><span class="w"> </span><span class="n">prob</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="nv">dice_probs</span><span class="err">.</span><span class="n">items</span><span class="p">()</span><span class="err">:</span>
<span class="w">            </span><span class="n">M</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="n">i</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">k</span><span class="p">)</span><span class="w"> </span><span class="err">%</span><span class="w"> </span><span class="mi">40</span><span class="p">]</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="p">(</span><span class="mi">14</span><span class="o">/</span><span class="mi">16</span><span class="p">)</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">prob</span>
<span class="w">    </span><span class="n">else</span><span class="err">:</span>
<span class="w">        </span><span class="nv">#</span><span class="w"> </span><span class="n">Regular</span><span class="w"> </span><span class="n">squares</span><span class="w"> </span><span class="p">(</span><span class="n">including</span><span class="w"> </span><span class="n">Jail</span><span class="p">)</span><span class="err">:</span><span class="w"> </span><span class="n">follow</span><span class="w"> </span><span class="n">dice</span><span class="w"> </span><span class="n">rolls</span>
<span class="w">        </span><span class="n">for</span><span class="w"> </span><span class="n">k</span><span class="p">,</span><span class="w"> </span><span class="n">prob</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="nv">dice_probs</span><span class="err">.</span><span class="n">items</span><span class="p">()</span><span class="err">:</span>
<span class="w">            </span><span class="n">M</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="n">i</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">k</span><span class="p">)</span><span class="w"> </span><span class="err">%</span><span class="w"> </span><span class="mi">40</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">prob</span>

<span class="nv">#</span><span class="w"> </span><span class="n">Verify</span><span class="w"> </span><span class="n">stochastic</span><span class="w"> </span><span class="n">matrix</span><span class="w"> </span><span class="p">(</span><span class="n">rows</span><span class="w"> </span><span class="n">sum</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span>
<span class="n">for</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="mi">40</span><span class="p">)</span><span class="err">:</span>
<span class="w">    </span><span class="nv">row_sum</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">sum</span><span class="p">(</span><span class="n">M</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="n">for</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="mi">40</span><span class="p">))</span>
<span class="w">    </span><span class="n">if</span><span class="w"> </span><span class="n">abs</span><span class="p">(</span><span class="nv">row_sum</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">1</span><span class="n">e</span><span class="mi">-10</span><span class="err">:</span>
<span class="w">        </span><span class="n">print</span><span class="p">(</span><span class="n">f</span><span class="s">&quot;Warning: Row {i} sums to {row_sum}&quot;</span><span class="p">)</span>

<span class="nv">#</span><span class="w"> </span><span class="n">Compute</span><span class="w"> </span><span class="n">steady</span><span class="o">-</span><span class="n">state</span><span class="w"> </span><span class="n">distribution</span>
<span class="n">eigen</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">M</span><span class="err">.</span><span class="nv">eigenvectors_left</span><span class="p">()</span>
<span class="n">stationary</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">None</span>
<span class="n">for</span><span class="w"> </span><span class="n">val</span><span class="p">,</span><span class="w"> </span><span class="n">vecs</span><span class="p">,</span><span class="w"> </span><span class="n">mult</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">eigen</span><span class="err">:</span>
<span class="w">    </span><span class="n">if</span><span class="w"> </span><span class="n">abs</span><span class="p">(</span><span class="n">val</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">1</span><span class="n">e</span><span class="mi">-10</span><span class="err">:</span>
<span class="w">        </span><span class="n">stationary</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">vecs</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="w">        </span><span class="n">stationary</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="n">x</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="n">sum</span><span class="p">(</span><span class="n">stationary</span><span class="p">)</span><span class="w"> </span><span class="n">for</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">stationary</span><span class="p">]</span><span class="w">  </span><span class="nv">#</span><span class="w"> </span><span class="n">Normalize</span>
<span class="w">        </span><span class="n">break</span>

<span class="n">if</span><span class="w"> </span><span class="n">stationary</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">None</span><span class="err">:</span>
<span class="w">    </span><span class="n">print</span><span class="p">(</span><span class="s">&quot;Error: No stationary distribution found&quot;</span><span class="p">)</span>
<span class="n">else</span><span class="err">:</span>
<span class="w">    </span><span class="nv">#</span><span class="w"> </span><span class="n">Sort</span><span class="w"> </span><span class="n">squares</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">probability</span>
<span class="w">    </span><span class="nv">square_probs</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[(</span><span class="n">prob</span><span class="p">,</span><span class="w"> </span><span class="n">i</span><span class="p">)</span><span class="w"> </span><span class="n">for</span><span class="w"> </span><span class="n">i</span><span class="p">,</span><span class="w"> </span><span class="n">prob</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">enumerate</span><span class="p">(</span><span class="n">stationary</span><span class="p">)]</span>
<span class="w">    </span><span class="nv">square_probs</span><span class="err">.</span><span class="n">sort</span><span class="p">(</span><span class="n">reverse</span><span class="o">=</span><span class="n">True</span><span class="p">)</span>
<span class="w">    </span><span class="nv">#</span><span class="w"> </span><span class="n">Print</span><span class="w"> </span><span class="n">top</span><span class="w"> </span><span class="n">squares</span><span class="w"> </span><span class="p">(</span><span class="n">example</span><span class="w"> </span><span class="n">output</span><span class="p">,</span><span class="w"> </span><span class="n">adjust</span><span class="w"> </span><span class="n">as</span><span class="w"> </span><span class="n">needed</span><span class="p">)</span>
<span class="w">    </span><span class="n">print</span><span class="p">(</span><span class="s">&quot;Top squares by probability:&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="n">for</span><span class="w"> </span><span class="n">prob</span><span class="p">,</span><span class="w"> </span><span class="n">square</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="nv">square_probs</span><span class="p">[</span><span class="err">:</span><span class="mi">5</span><span class="p">]</span><span class="err">:</span>
<span class="w">        </span><span class="n">print</span><span class="p">(</span><span class="n">f</span><span class="s">&quot;Square {square}: {prob:.6f}&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-mathematica notranslate"><div class="highlight"><pre><span></span><span class="nv">#</span><span class="w"> </span><span class="mi">84</span><span class="w"> </span><span class="n">Monopoly</span><span class="w"> </span><span class="n">Odds</span>
<span class="n">def</span><span class="w"> </span><span class="n">simulate</span><span class="p">(</span><span class="n">turns</span><span class="p">)</span><span class="err">:</span>
<span class="w">    </span><span class="n">pos</span><span class="o">=</span><span class="mi">0</span>
<span class="w">    </span><span class="n">d</span><span class="o">=</span><span class="p">{</span><span class="n">i</span><span class="err">:</span><span class="mi">0</span><span class="w"> </span><span class="n">for</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="mi">40</span><span class="p">)}</span>
<span class="w">    </span><span class="n">cc</span><span class="o">=</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">17</span><span class="p">,</span><span class="mi">33</span><span class="p">)</span>
<span class="w">    </span><span class="n">ch</span><span class="o">=</span><span class="p">(</span><span class="mi">7</span><span class="p">,</span><span class="mi">22</span><span class="p">,</span><span class="mi">36</span><span class="p">)</span>
<span class="w">    </span><span class="nv">cc_cards</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">10</span><span class="p">]</span><span class="o">+</span><span class="p">[</span><span class="err">&#39;&#39;</span><span class="p">]</span><span class="o">*</span><span class="mi">14</span>
<span class="w">    </span><span class="nv">ch_cards</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">11</span><span class="p">,</span><span class="mi">24</span><span class="p">,</span><span class="mi">39</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="err">&#39;</span><span class="n">R</span><span class="err">&#39;</span><span class="p">,</span><span class="err">&#39;</span><span class="n">R</span><span class="err">&#39;</span><span class="p">,</span><span class="err">&#39;</span><span class="n">U</span><span class="err">&#39;</span><span class="p">,</span><span class="err">&#39;</span><span class="mi">-3</span><span class="err">&#39;</span><span class="p">]</span><span class="o">+</span><span class="p">[</span><span class="err">&#39;&#39;</span><span class="p">]</span><span class="o">*</span><span class="mi">6</span>
<span class="w">    </span><span class="n">shuffle</span><span class="p">(</span><span class="nv">cc_cards</span><span class="p">)</span>
<span class="w">    </span><span class="n">shuffle</span><span class="p">(</span><span class="nv">ch_cards</span><span class="p">)</span>
<span class="w">    </span><span class="n">double</span><span class="o">=</span><span class="mi">0</span>
<span class="w">    </span><span class="n">for</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="n">turns</span><span class="p">)</span><span class="err">:</span>
<span class="w">        </span><span class="n">dice1</span><span class="o">=</span><span class="n">randint</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">4</span><span class="p">)</span>
<span class="w">        </span><span class="n">dice2</span><span class="o">=</span><span class="n">randint</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">4</span><span class="p">)</span>
<span class="w">        </span><span class="n">if</span><span class="w"> </span><span class="n">dice1</span><span class="o">==</span><span class="n">dice2</span><span class="err">:</span>
<span class="w">            </span><span class="n">double</span><span class="o">+=</span><span class="mi">1</span>
<span class="w">        </span><span class="n">else</span><span class="err">:</span>
<span class="w">            </span><span class="n">double</span><span class="o">=</span><span class="mi">0</span>
<span class="w">        </span><span class="n">pos</span><span class="o">+=</span><span class="n">dice1</span><span class="o">+</span><span class="n">dice2</span>
<span class="w">        </span><span class="n">pos</span><span class="err">%</span><span class="o">=</span><span class="mi">40</span>
<span class="w">        </span><span class="n">if</span><span class="w"> </span><span class="n">pos</span><span class="o">==</span><span class="mi">30</span><span class="err">:</span>
<span class="w">            </span><span class="n">pos</span><span class="o">=</span><span class="mi">10</span>
<span class="w">        </span><span class="n">minus3</span><span class="o">=</span><span class="n">False</span>
<span class="w">        </span><span class="n">if</span><span class="w"> </span><span class="n">pos</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">ch</span><span class="err">:</span>
<span class="w">            </span><span class="n">action</span><span class="o">=</span><span class="nv">ch_cards</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="w">            </span><span class="nv">ch_cards</span><span class="err">.</span><span class="n">append</span><span class="p">(</span><span class="nv">ch_cards</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
<span class="w">            </span><span class="nv">ch_cards</span><span class="err">.</span><span class="n">remove</span><span class="p">(</span><span class="nv">ch_cards</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
<span class="w">            </span><span class="n">if</span><span class="w"> </span><span class="n">type</span><span class="p">(</span><span class="n">action</span><span class="p">)</span><span class="o">==</span><span class="n">str</span><span class="err">:</span>
<span class="w">                </span><span class="n">if</span><span class="w"> </span><span class="n">action</span><span class="o">==</span><span class="err">&#39;</span><span class="n">R</span><span class="err">&#39;:</span>
<span class="w">                    </span><span class="n">pos</span><span class="err">%</span><span class="o">=</span><span class="mi">35</span>
<span class="w">                    </span><span class="n">pos</span><span class="o">+=</span><span class="mi">5</span>
<span class="w">                    </span><span class="n">pos</span><span class="o">//=</span><span class="mi">10</span>
<span class="w">                    </span><span class="n">pos</span><span class="o">+=</span><span class="mi">1</span>
<span class="w">                    </span><span class="n">pos</span><span class="o">*=</span><span class="mi">10</span>
<span class="w">                    </span><span class="n">pos</span><span class="o">-=</span><span class="mi">5</span>
<span class="w">                </span><span class="n">elif</span><span class="w"> </span><span class="n">action</span><span class="o">==</span><span class="err">&#39;</span><span class="n">U</span><span class="err">&#39;:</span>
<span class="w">                    </span><span class="n">if</span><span class="w"> </span><span class="mi">13</span><span class="o">&lt;=</span><span class="n">pos</span><span class="o">&lt;=</span><span class="mi">27</span><span class="err">:</span>
<span class="w">                        </span><span class="n">pos</span><span class="o">=</span><span class="mi">28</span>
<span class="w">                    </span><span class="n">else</span><span class="err">:</span>
<span class="w">                        </span><span class="n">pos</span><span class="o">=</span><span class="mi">12</span>
<span class="w">                </span><span class="n">elif</span><span class="w"> </span><span class="n">action</span><span class="o">==</span><span class="err">&#39;</span><span class="mi">-3</span><span class="err">&#39;:</span>
<span class="w">                    </span><span class="n">pos</span><span class="o">-=</span><span class="mi">3</span>
<span class="w">                    </span><span class="n">minus3</span><span class="o">=</span><span class="n">True</span>
<span class="w">            </span><span class="n">else</span><span class="err">:</span>
<span class="w">                </span><span class="n">pos</span><span class="o">=</span><span class="n">action</span>
<span class="w">        </span><span class="n">if</span><span class="w"> </span><span class="n">pos</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">cc</span><span class="err">:</span>
<span class="w">            </span><span class="n">action</span><span class="o">=</span><span class="nv">cc_cards</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="w">            </span><span class="nv">cc_cards</span><span class="err">.</span><span class="n">append</span><span class="p">(</span><span class="nv">cc_cards</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
<span class="w">            </span><span class="nv">cc_cards</span><span class="err">.</span><span class="n">remove</span><span class="p">(</span><span class="nv">cc_cards</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
<span class="w">            </span><span class="n">if</span><span class="w"> </span><span class="n">action</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">10</span><span class="p">]</span><span class="err">:</span>
<span class="w">                </span><span class="n">pos</span><span class="o">=</span><span class="n">action</span>
<span class="w">        </span><span class="n">if</span><span class="w"> </span><span class="n">pos</span><span class="o">==</span><span class="mi">10</span><span class="err">:</span>
<span class="w">            </span><span class="n">double</span><span class="o">=</span><span class="mi">0</span>
<span class="w">        </span><span class="n">d</span><span class="err">.</span><span class="n">update</span><span class="p">({</span><span class="n">pos</span><span class="err">:</span><span class="n">d</span><span class="p">[</span><span class="n">pos</span><span class="p">]</span><span class="o">+</span><span class="mi">1</span><span class="p">})</span>
<span class="w">    </span><span class="n">return</span><span class="w"> </span><span class="n">d</span>

<span class="n">simulate</span><span class="p">(</span><span class="mi">10</span><span class="o">^</span><span class="mi">7</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="pe-85">
<h2>PE 85<a class="headerlink" href="#pe-85" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-mathematica notranslate"><div class="highlight"><pre><span></span><span class="nv">#</span><span class="w"> </span><span class="mi">85</span><span class="w"> </span><span class="n">Counting</span><span class="w"> </span><span class="n">Rectangles</span>
<span class="n">def</span><span class="w"> </span><span class="nv">count_rec</span><span class="p">(</span><span class="n">length</span><span class="p">,</span><span class="n">width</span><span class="p">)</span><span class="err">:</span>
<span class="w">    </span><span class="n">lst</span><span class="o">=</span><span class="p">[]</span>
<span class="w">    </span><span class="n">for</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="n">length</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span><span class="err">:</span>
<span class="w">        </span><span class="n">for</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="n">width</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span><span class="err">:</span>
<span class="w">            </span><span class="n">lst</span><span class="err">.</span><span class="n">append</span><span class="p">((</span><span class="n">length</span><span class="o">-</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span><span class="o">*</span><span class="p">(</span><span class="n">width</span><span class="o">-</span><span class="n">j</span><span class="o">+</span><span class="mi">1</span><span class="p">))</span>
<span class="w">    </span><span class="n">return</span><span class="w"> </span><span class="n">sum</span><span class="p">(</span><span class="n">lst</span><span class="p">)</span>

<span class="n">lst</span><span class="o">=</span><span class="p">[]</span>
<span class="n">for</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">100</span><span class="p">)</span><span class="err">:</span>
<span class="w">    </span><span class="n">for</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="n">i</span><span class="p">,</span><span class="mi">100</span><span class="p">)</span><span class="err">:</span>
<span class="w">        </span><span class="n">lst</span><span class="err">.</span><span class="n">append</span><span class="p">(</span><span class="nv">count_rec</span><span class="p">(</span><span class="n">i</span><span class="p">,</span><span class="n">j</span><span class="p">))</span>
<span class="w">        </span><span class="n">if</span><span class="w"> </span><span class="mi">1998000</span><span class="o">&lt;</span><span class="nv">count_rec</span><span class="p">(</span><span class="n">i</span><span class="p">,</span><span class="n">j</span><span class="p">)</span><span class="o">&lt;</span><span class="mi">2000000</span><span class="err">:</span>
<span class="w">            </span><span class="n">print</span><span class="p">(</span><span class="err">&#39;</span><span class="n">Dimensions</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">grid</span><span class="err">:</span><span class="w"> </span><span class="err">&#39;</span><span class="o">+</span><span class="n">str</span><span class="p">(</span><span class="n">i</span><span class="p">)</span><span class="o">+</span><span class="err">&#39;</span><span class="p">,</span><span class="w"> </span><span class="err">&#39;</span><span class="o">+</span><span class="n">str</span><span class="p">(</span><span class="n">j</span><span class="p">))</span>
<span class="n">lst</span><span class="o">=</span><span class="n">list</span><span class="p">(</span><span class="n">set</span><span class="p">(</span><span class="n">lst</span><span class="p">))</span>
<span class="n">lst</span><span class="o">=</span><span class="n">list</span><span class="p">(</span><span class="n">filter</span><span class="p">(</span><span class="n">lambda</span><span class="w"> </span><span class="n">x</span><span class="err">:</span><span class="mi">1998000</span><span class="o">&lt;</span><span class="n">x</span><span class="o">&lt;</span><span class="mi">2000000</span><span class="p">,</span><span class="n">lst</span><span class="p">))</span>
<span class="n">lst</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="pe-86">
<h2>PE 86<a class="headerlink" href="#pe-86" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-mathematica notranslate"><div class="highlight"><pre><span></span><span class="n">def</span><span class="w"> </span><span class="nv">shortest_path</span><span class="p">(</span><span class="n">l</span><span class="p">,</span><span class="n">w</span><span class="p">,</span><span class="n">h</span><span class="p">)</span><span class="err">:</span>
<span class="w">    </span><span class="n">return</span><span class="w"> </span><span class="n">min</span><span class="p">((</span><span class="n">l</span><span class="o">+</span><span class="n">w</span><span class="p">)</span><span class="o">^</span><span class="mi">2</span><span class="o">+</span><span class="n">h</span><span class="o">^</span><span class="mi">2</span><span class="p">,(</span><span class="n">l</span><span class="o">+</span><span class="n">h</span><span class="p">)</span><span class="o">^</span><span class="mi">2</span><span class="o">+</span><span class="n">w</span><span class="o">^</span><span class="mi">2</span><span class="p">,(</span><span class="n">w</span><span class="o">+</span><span class="n">h</span><span class="p">)</span><span class="o">^</span><span class="mi">2</span><span class="o">+</span><span class="n">l</span><span class="o">^</span><span class="mi">2</span><span class="p">)</span>
<span class="n">def</span><span class="w"> </span><span class="nv">int_paths</span><span class="p">(</span><span class="n">m</span><span class="p">)</span><span class="err">:</span>
<span class="w">    </span><span class="n">count</span><span class="o">=</span><span class="mi">0</span>
<span class="w">    </span><span class="n">for</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="n">m</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span><span class="err">:</span>
<span class="w">        </span><span class="n">for</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="n">i</span><span class="p">,</span><span class="n">m</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span><span class="err">:</span>
<span class="w">            </span><span class="n">for</span><span class="w"> </span><span class="n">k</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="n">j</span><span class="p">,</span><span class="n">m</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span><span class="err">:</span>
<span class="w">                </span><span class="n">if</span><span class="w"> </span><span class="nv">is_square</span><span class="p">(</span><span class="nv">shortest_path</span><span class="p">(</span><span class="n">i</span><span class="p">,</span><span class="n">j</span><span class="p">,</span><span class="n">k</span><span class="p">))</span><span class="err">:</span>
<span class="w">                    </span><span class="n">count</span><span class="o">+=</span><span class="mi">1</span>
<span class="w">    </span><span class="n">return</span><span class="w"> </span><span class="n">count</span>
<span class="nv">int_paths</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-mathematica notranslate"><div class="highlight"><pre><span></span><span class="n">def</span><span class="w"> </span><span class="nv">int_paths</span><span class="p">(</span><span class="n">m</span><span class="p">)</span><span class="err">:</span>
<span class="w">    </span><span class="n">count</span><span class="o">=</span><span class="mi">0</span>
<span class="w">    </span><span class="n">primitive</span><span class="o">=</span><span class="p">[</span><span class="n">sorted</span><span class="p">([</span><span class="n">i</span><span class="o">^</span><span class="mi">2</span><span class="o">-</span><span class="n">j</span><span class="o">^</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="o">*</span><span class="n">i</span><span class="o">*</span><span class="n">j</span><span class="p">])</span><span class="w"> </span><span class="n">for</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="o">*</span><span class="n">isqrt</span><span class="p">(</span><span class="n">m</span><span class="p">))</span><span class="w"> </span><span class="n">for</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="n">i</span><span class="p">)</span><span class="w"> </span><span class="n">if</span><span class="w"> </span><span class="n">gcd</span><span class="p">(</span><span class="n">i</span><span class="p">,</span><span class="n">j</span><span class="p">)</span><span class="o">==</span><span class="mi">1</span><span class="w"> </span><span class="n">and</span><span class="w"> </span><span class="nv">is_odd</span><span class="p">(</span><span class="n">i</span><span class="o">-</span><span class="n">j</span><span class="p">)]</span>
<span class="w">    </span><span class="n">primitive</span><span class="o">=</span><span class="n">list</span><span class="p">(</span><span class="n">filter</span><span class="p">(</span><span class="n">lambda</span><span class="w"> </span><span class="n">lst</span><span class="err">:</span><span class="n">min</span><span class="p">(</span><span class="n">lst</span><span class="p">)</span><span class="o">&lt;=</span><span class="n">m</span><span class="w"> </span><span class="n">and</span><span class="w"> </span><span class="n">max</span><span class="p">(</span><span class="n">lst</span><span class="p">)</span><span class="o">&lt;=</span><span class="mi">2</span><span class="o">*</span><span class="n">m</span><span class="p">,</span><span class="n">primitive</span><span class="p">))</span>
<span class="w">    </span><span class="n">triples</span><span class="o">=</span><span class="p">[[</span><span class="n">i</span><span class="o">*</span><span class="n">triple</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="n">i</span><span class="o">*</span><span class="n">triple</span><span class="p">[</span><span class="mi">1</span><span class="p">]]</span><span class="w"> </span><span class="n">for</span><span class="w"> </span><span class="n">triple</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">primitive</span><span class="w"> </span><span class="n">for</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="n">min</span><span class="p">(</span><span class="n">m</span><span class="o">//</span><span class="n">triple</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="mi">2</span><span class="o">*</span><span class="n">m</span><span class="o">//</span><span class="n">triple</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span><span class="o">+</span><span class="mi">1</span><span class="p">)]</span>
<span class="w">    </span><span class="n">for</span><span class="w"> </span><span class="n">triple</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">triples</span><span class="err">:</span>
<span class="w">        </span><span class="n">count</span><span class="o">+=</span><span class="n">max</span><span class="p">(</span><span class="n">triple</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">-</span><span class="n">ceil</span><span class="p">(</span><span class="n">triple</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">/</span><span class="mi">2</span><span class="p">)</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>
<span class="w">        </span><span class="n">if</span><span class="w"> </span><span class="n">triple</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">&lt;=</span><span class="n">m</span><span class="err">:</span>
<span class="w">            </span><span class="n">count</span><span class="o">+=</span><span class="n">triple</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">//</span><span class="mi">2</span>
<span class="w">    </span><span class="n">return</span><span class="w"> </span><span class="n">count</span>
<span class="n">limit</span><span class="o">=</span><span class="mi">2000</span>
<span class="n">for</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="n">limit</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span><span class="err">:</span>
<span class="w">    </span><span class="n">print</span><span class="p">(</span><span class="nv">int_paths</span><span class="p">(</span><span class="n">i</span><span class="p">))</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="pe-87">
<h2>PE 87<a class="headerlink" href="#pe-87" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-mathematica notranslate"><div class="highlight"><pre><span></span><span class="n">squares</span><span class="o">=</span><span class="p">[</span><span class="n">i</span><span class="o">^</span><span class="mi">2</span><span class="w"> </span><span class="n">for</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="nv">prime_range</span><span class="p">(</span><span class="n">sqrt</span><span class="p">(</span><span class="mi">5</span><span class="o">*</span><span class="mi">10</span><span class="o">^</span><span class="mi">7</span><span class="p">))]</span>
<span class="n">cubes</span><span class="o">=</span><span class="p">[</span><span class="n">i</span><span class="o">^</span><span class="mi">3</span><span class="w"> </span><span class="n">for</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="nv">prime_range</span><span class="p">((</span><span class="mi">5</span><span class="o">*</span><span class="mi">10</span><span class="o">^</span><span class="mi">7</span><span class="p">)</span><span class="o">^</span><span class="p">(</span><span class="mi">1</span><span class="o">/</span><span class="mi">3</span><span class="p">))]</span>
<span class="n">fourths</span><span class="o">=</span><span class="p">[</span><span class="n">i</span><span class="o">^</span><span class="mi">4</span><span class="w"> </span><span class="n">for</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="nv">prime_range</span><span class="p">((</span><span class="mi">5</span><span class="o">*</span><span class="mi">10</span><span class="o">^</span><span class="mi">7</span><span class="p">)</span><span class="o">^</span><span class="p">(</span><span class="mi">1</span><span class="o">/</span><span class="mi">4</span><span class="p">))]</span>
<span class="n">lst</span><span class="o">=</span><span class="p">[]</span>
<span class="n">for</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">squares</span><span class="err">:</span>
<span class="w">    </span><span class="n">for</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">cubes</span><span class="err">:</span>
<span class="w">        </span><span class="n">for</span><span class="w"> </span><span class="n">k</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">fourths</span><span class="err">:</span>
<span class="w">            </span><span class="n">if</span><span class="w"> </span><span class="n">i</span><span class="o">+</span><span class="n">j</span><span class="o">+</span><span class="n">k</span><span class="o">&lt;</span><span class="mi">5</span><span class="o">*</span><span class="mi">10</span><span class="o">^</span><span class="mi">7</span><span class="err">:</span>
<span class="w">                </span><span class="n">lst</span><span class="err">.</span><span class="n">append</span><span class="p">(</span><span class="n">i</span><span class="o">+</span><span class="n">j</span><span class="o">+</span><span class="n">k</span><span class="p">)</span>
<span class="w">            </span><span class="n">else</span><span class="err">:</span>
<span class="w">                </span><span class="n">break</span>
<span class="n">len</span><span class="p">(</span><span class="n">set</span><span class="p">(</span><span class="n">lst</span><span class="p">))</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-mathematica notranslate"><div class="highlight"><pre><span></span><span class="n">import</span><span class="w"> </span><span class="n">itertools</span>

<span class="n">limit</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">5</span><span class="o">*</span><span class="mi">10</span><span class="o">^</span><span class="mi">7</span>

<span class="n">results</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">set</span><span class="p">(</span>
<span class="w">    </span><span class="n">s</span><span class="w"> </span><span class="n">for</span><span class="w"> </span><span class="p">(</span><span class="n">i</span><span class="p">,</span><span class="n">j</span><span class="p">,</span><span class="n">k</span><span class="p">)</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">itertools</span><span class="err">.</span><span class="n">product</span><span class="p">(</span><span class="n">squares</span><span class="p">,</span><span class="w"> </span><span class="n">cubes</span><span class="p">,</span><span class="w"> </span><span class="n">fourths</span><span class="p">)</span>
<span class="w">    </span><span class="n">if</span><span class="w"> </span><span class="p">(</span><span class="n">s</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="n">i</span><span class="o">+</span><span class="n">j</span><span class="o">+</span><span class="n">k</span><span class="p">)</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">limit</span>
<span class="p">)</span>

<span class="n">len</span><span class="p">(</span><span class="n">results</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="pe-88-unfinished">
<h2>PE 88(unfinished)<a class="headerlink" href="#pe-88-unfinished" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-mathematica notranslate"><div class="highlight"><pre><span></span><span class="n">import</span><span class="w"> </span><span class="n">requests</span>
<span class="n">response</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">requests</span><span class="err">.</span><span class="n">get</span><span class="p">(</span><span class="s">&quot;https://oeis.org/A104173/b104173.txt&quot;</span><span class="p">)</span><span class="w">   </span><span class="nv">#</span><span class="w"> </span><span class="n">Send</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">GET</span><span class="w"> </span><span class="n">request</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">URL</span>
<span class="n">content</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">response</span><span class="err">.</span><span class="n">text</span><span class="w">     </span><span class="nv">#</span><span class="w"> </span><span class="n">Read</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">content</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">response</span>
<span class="n">lst</span><span class="o">=</span><span class="n">content</span><span class="err">.</span><span class="n">split</span><span class="p">(</span><span class="err">&#39;\</span><span class="n">n</span><span class="err">&#39;</span><span class="p">)</span>
<span class="n">lst</span><span class="o">=</span><span class="n">lst</span><span class="p">[</span><span class="mi">1</span><span class="err">:</span><span class="mi">-1</span><span class="p">]</span>
<span class="n">lst</span><span class="o">=</span><span class="p">[</span><span class="n">int</span><span class="p">(</span><span class="n">lst1</span><span class="err">.</span><span class="n">split</span><span class="p">()[</span><span class="mi">1</span><span class="p">])</span><span class="w"> </span><span class="n">for</span><span class="w"> </span><span class="n">lst1</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">lst</span><span class="p">]</span>
<span class="n">sum</span><span class="p">(</span><span class="n">set</span><span class="p">(</span><span class="n">lst</span><span class="p">))</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-mathematica notranslate"><div class="highlight"><pre><span></span><span class="nv">#</span><span class="w"> </span><span class="mi">88</span><span class="w"> </span><span class="n">Product</span><span class="o">-</span><span class="n">sum</span><span class="w"> </span><span class="n">Numbers</span><span class="p">(</span><span class="n">looping</span><span class="p">)</span>
<span class="n">lst</span><span class="o">=</span><span class="p">[</span><span class="mi">10</span><span class="o">^</span><span class="mi">10</span><span class="p">]</span><span class="o">*</span><span class="mi">12000</span>
<span class="n">for</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">12500</span><span class="p">)</span><span class="err">:</span>
<span class="w">    </span><span class="n">for</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="n">i</span><span class="p">,</span><span class="mi">12500</span><span class="p">)</span><span class="err">:</span>
<span class="w">        </span><span class="n">try</span><span class="err">:</span>
<span class="w">            </span><span class="n">lst</span><span class="p">[(</span><span class="n">i</span><span class="o">*</span><span class="n">j</span><span class="p">)</span><span class="o">-</span><span class="p">(</span><span class="n">i</span><span class="o">+</span><span class="n">j</span><span class="p">)</span><span class="o">+</span><span class="mi">2</span><span class="p">]</span><span class="o">=</span><span class="n">min</span><span class="p">(</span><span class="n">i</span><span class="o">*</span><span class="n">j</span><span class="p">,</span><span class="n">lst</span><span class="p">[(</span><span class="n">i</span><span class="o">*</span><span class="n">j</span><span class="p">)</span><span class="o">-</span><span class="p">(</span><span class="n">i</span><span class="o">+</span><span class="n">j</span><span class="p">)</span><span class="o">+</span><span class="mi">2</span><span class="p">])</span>
<span class="w">        </span><span class="n">except</span><span class="err">:</span>
<span class="w">            </span><span class="n">break</span>
<span class="n">for</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">100</span><span class="p">)</span><span class="err">:</span>
<span class="w">    </span><span class="n">for</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="n">i</span><span class="p">,</span><span class="mi">4100</span><span class="p">)</span><span class="err">:</span>
<span class="w">        </span><span class="n">for</span><span class="w"> </span><span class="n">k</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="n">j</span><span class="p">,</span><span class="mi">4100</span><span class="p">)</span><span class="err">:</span>
<span class="w">            </span><span class="n">try</span><span class="err">:</span>
<span class="w">                </span><span class="n">lst</span><span class="p">[(</span><span class="n">i</span><span class="o">*</span><span class="n">j</span><span class="o">*</span><span class="n">k</span><span class="p">)</span><span class="o">-</span><span class="p">(</span><span class="n">i</span><span class="o">+</span><span class="n">j</span><span class="o">+</span><span class="n">k</span><span class="p">)</span><span class="o">+</span><span class="mi">3</span><span class="p">]</span><span class="o">=</span><span class="n">min</span><span class="p">(</span><span class="n">i</span><span class="o">*</span><span class="n">j</span><span class="o">*</span><span class="n">k</span><span class="p">,</span><span class="n">lst</span><span class="p">[(</span><span class="n">i</span><span class="o">*</span><span class="n">j</span><span class="o">*</span><span class="n">k</span><span class="p">)</span><span class="o">-</span><span class="p">(</span><span class="n">i</span><span class="o">+</span><span class="n">j</span><span class="o">+</span><span class="n">k</span><span class="p">)</span><span class="o">+</span><span class="mi">3</span><span class="p">])</span>
<span class="w">            </span><span class="n">except</span><span class="err">:</span>
<span class="w">                </span><span class="n">break</span>
<span class="n">for</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">20</span><span class="p">)</span><span class="err">:</span>
<span class="w">    </span><span class="n">for</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="n">i</span><span class="p">,</span><span class="mi">30</span><span class="p">)</span><span class="err">:</span>
<span class="w">        </span><span class="n">for</span><span class="w"> </span><span class="n">k</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="n">j</span><span class="p">,</span><span class="mi">100</span><span class="p">)</span><span class="err">:</span>
<span class="w">            </span><span class="n">for</span><span class="w"> </span><span class="n">l</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="n">k</span><span class="p">,</span><span class="mi">1750</span><span class="p">)</span><span class="err">:</span>
<span class="w">                </span><span class="n">try</span><span class="err">:</span>
<span class="w">                    </span><span class="n">lst</span><span class="p">[(</span><span class="n">i</span><span class="o">*</span><span class="n">j</span><span class="o">*</span><span class="n">k</span><span class="o">*</span><span class="n">l</span><span class="p">)</span><span class="o">-</span><span class="p">(</span><span class="n">i</span><span class="o">+</span><span class="n">j</span><span class="o">+</span><span class="n">k</span><span class="o">+</span><span class="n">l</span><span class="p">)</span><span class="o">+</span><span class="mi">4</span><span class="p">]</span><span class="o">=</span><span class="n">min</span><span class="p">(</span><span class="n">i</span><span class="o">*</span><span class="n">j</span><span class="o">*</span><span class="n">k</span><span class="o">*</span><span class="n">l</span><span class="p">,</span><span class="n">lst</span><span class="p">[(</span><span class="n">i</span><span class="o">*</span><span class="n">j</span><span class="o">*</span><span class="n">k</span><span class="o">*</span><span class="n">l</span><span class="p">)</span><span class="o">-</span><span class="p">(</span><span class="n">i</span><span class="o">+</span><span class="n">j</span><span class="o">+</span><span class="n">k</span><span class="o">+</span><span class="n">l</span><span class="p">)</span><span class="o">+</span><span class="mi">3</span><span class="p">])</span>
<span class="w">                </span><span class="n">except</span><span class="err">:</span>
<span class="w">                    </span><span class="n">break</span>
<span class="n">for</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">10</span><span class="p">)</span><span class="err">:</span>
<span class="w">    </span><span class="n">for</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="n">i</span><span class="p">,</span><span class="mi">15</span><span class="p">)</span><span class="err">:</span>
<span class="w">        </span><span class="n">for</span><span class="w"> </span><span class="n">k</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="n">j</span><span class="p">,</span><span class="mi">20</span><span class="p">)</span><span class="err">:</span>
<span class="w">            </span><span class="n">for</span><span class="w"> </span><span class="n">l</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="n">k</span><span class="p">,</span><span class="mi">50</span><span class="p">)</span><span class="err">:</span>
<span class="w">                </span><span class="n">for</span><span class="w"> </span><span class="n">m</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="n">l</span><span class="p">,</span><span class="mi">805</span><span class="p">)</span><span class="err">:</span>
<span class="w">                    </span><span class="n">try</span><span class="err">:</span>
<span class="w">                        </span><span class="n">lst</span><span class="p">[(</span><span class="n">i</span><span class="o">*</span><span class="n">j</span><span class="o">*</span><span class="n">k</span><span class="o">*</span><span class="n">l</span><span class="o">*</span><span class="n">m</span><span class="p">)</span><span class="o">-</span><span class="p">(</span><span class="n">i</span><span class="o">+</span><span class="n">j</span><span class="o">+</span><span class="n">k</span><span class="o">+</span><span class="n">l</span><span class="o">+</span><span class="n">m</span><span class="p">)</span><span class="o">+</span><span class="mi">5</span><span class="p">]</span><span class="o">=</span><span class="n">min</span><span class="p">(</span><span class="n">i</span><span class="o">*</span><span class="n">j</span><span class="o">*</span><span class="n">k</span><span class="o">*</span><span class="n">l</span><span class="o">*</span><span class="n">m</span><span class="p">,</span><span class="n">lst</span><span class="p">[(</span><span class="n">i</span><span class="o">*</span><span class="n">j</span><span class="o">*</span><span class="n">k</span><span class="o">*</span><span class="n">l</span><span class="o">*</span><span class="n">m</span><span class="p">)</span><span class="o">-</span><span class="p">(</span><span class="n">i</span><span class="o">+</span><span class="n">j</span><span class="o">+</span><span class="n">k</span><span class="o">+</span><span class="n">l</span><span class="o">+</span><span class="n">m</span><span class="p">)</span><span class="o">+</span><span class="mi">5</span><span class="p">])</span>
<span class="w">                    </span><span class="n">except</span><span class="err">:</span>
<span class="w">                        </span><span class="n">break</span>
<span class="n">for</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">7</span><span class="p">)</span><span class="err">:</span>
<span class="w">    </span><span class="n">for</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="n">i</span><span class="p">,</span><span class="mi">10</span><span class="p">)</span><span class="err">:</span>
<span class="w">        </span><span class="n">for</span><span class="w"> </span><span class="n">k</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="n">j</span><span class="p">,</span><span class="mi">15</span><span class="p">)</span><span class="err">:</span>
<span class="w">            </span><span class="n">for</span><span class="w"> </span><span class="n">l</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="n">k</span><span class="p">,</span><span class="mi">20</span><span class="p">)</span><span class="err">:</span>
<span class="w">                </span><span class="n">for</span><span class="w"> </span><span class="n">m</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="n">l</span><span class="p">,</span><span class="mi">50</span><span class="p">)</span><span class="err">:</span>
<span class="w">                    </span><span class="n">for</span><span class="w"> </span><span class="n">n</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="n">m</span><span class="p">,</span><span class="mi">410</span><span class="p">)</span><span class="err">:</span>
<span class="w">                        </span><span class="n">try</span><span class="err">:</span>
<span class="w">                            </span><span class="n">lst</span><span class="p">[(</span><span class="n">i</span><span class="o">*</span><span class="n">j</span><span class="o">*</span><span class="n">k</span><span class="o">*</span><span class="n">l</span><span class="o">*</span><span class="n">m</span><span class="o">*</span><span class="n">n</span><span class="p">)</span><span class="o">-</span><span class="p">(</span><span class="n">i</span><span class="o">+</span><span class="n">j</span><span class="o">+</span><span class="n">k</span><span class="o">+</span><span class="n">l</span><span class="o">+</span><span class="n">m</span><span class="o">+</span><span class="n">n</span><span class="p">)</span><span class="o">+</span><span class="mi">6</span><span class="p">]</span><span class="o">=</span><span class="n">min</span><span class="p">(</span><span class="n">i</span><span class="o">*</span><span class="n">j</span><span class="o">*</span><span class="n">k</span><span class="o">*</span><span class="n">l</span><span class="o">*</span><span class="n">m</span><span class="o">*</span><span class="n">n</span><span class="p">,</span><span class="n">lst</span><span class="p">[(</span><span class="n">i</span><span class="o">*</span><span class="n">j</span><span class="o">*</span><span class="n">k</span><span class="o">*</span><span class="n">l</span><span class="o">*</span><span class="n">m</span><span class="o">*</span><span class="n">n</span><span class="p">)</span><span class="o">-</span><span class="p">(</span><span class="n">i</span><span class="o">+</span><span class="n">j</span><span class="o">+</span><span class="n">k</span><span class="o">+</span><span class="n">l</span><span class="o">+</span><span class="n">m</span><span class="o">+</span><span class="n">n</span><span class="p">)</span><span class="o">+</span><span class="mi">6</span><span class="p">])</span>
<span class="w">                        </span><span class="n">except</span><span class="err">:</span>
<span class="w">                            </span><span class="n">break</span>
<span class="n">for</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">10</span><span class="p">)</span><span class="err">:</span>
<span class="w">    </span><span class="n">for</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="n">i</span><span class="p">,</span><span class="mi">10</span><span class="p">)</span><span class="err">:</span>
<span class="w">        </span><span class="n">for</span><span class="w"> </span><span class="n">k</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="n">j</span><span class="p">,</span><span class="mi">10</span><span class="p">)</span><span class="err">:</span>
<span class="w">            </span><span class="n">for</span><span class="w"> </span><span class="n">l</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="n">k</span><span class="p">,</span><span class="mi">10</span><span class="p">)</span><span class="err">:</span>
<span class="w">                </span><span class="n">for</span><span class="w"> </span><span class="n">m</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="n">l</span><span class="p">,</span><span class="mi">10</span><span class="p">)</span><span class="err">:</span>
<span class="w">                    </span><span class="n">for</span><span class="w"> </span><span class="n">n</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="n">m</span><span class="p">,</span><span class="mi">20</span><span class="p">)</span><span class="err">:</span>
<span class="w">                        </span><span class="n">for</span><span class="w"> </span><span class="n">o</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="n">n</span><span class="p">,</span><span class="mi">200</span><span class="p">)</span><span class="err">:</span>
<span class="w">                            </span><span class="n">try</span><span class="err">:</span>
<span class="w">                                </span><span class="n">lst</span><span class="p">[(</span><span class="n">i</span><span class="o">*</span><span class="n">j</span><span class="o">*</span><span class="n">k</span><span class="o">*</span><span class="n">l</span><span class="o">*</span><span class="n">m</span><span class="o">*</span><span class="n">n</span><span class="o">*</span><span class="n">o</span><span class="p">)</span><span class="o">-</span><span class="p">(</span><span class="n">i</span><span class="o">+</span><span class="n">j</span><span class="o">+</span><span class="n">k</span><span class="o">+</span><span class="n">l</span><span class="o">+</span><span class="n">m</span><span class="o">+</span><span class="n">n</span><span class="o">+</span><span class="n">o</span><span class="p">)</span><span class="o">+</span><span class="mi">7</span><span class="p">]</span><span class="o">=</span><span class="n">min</span><span class="p">(</span><span class="n">i</span><span class="o">*</span><span class="n">j</span><span class="o">*</span><span class="n">k</span><span class="o">*</span><span class="n">l</span><span class="o">*</span><span class="n">m</span><span class="o">*</span><span class="n">n</span><span class="o">*</span><span class="n">o</span><span class="p">,</span><span class="n">lst</span><span class="p">[(</span><span class="n">i</span><span class="o">*</span><span class="n">j</span><span class="o">*</span><span class="n">k</span><span class="o">*</span><span class="n">l</span><span class="o">*</span><span class="n">m</span><span class="o">*</span><span class="n">n</span><span class="o">*</span><span class="n">o</span><span class="p">)</span><span class="o">-</span><span class="p">(</span><span class="n">i</span><span class="o">+</span><span class="n">j</span><span class="o">+</span><span class="n">k</span><span class="o">+</span><span class="n">l</span><span class="o">+</span><span class="n">m</span><span class="o">+</span><span class="n">n</span><span class="o">+</span><span class="n">o</span><span class="p">)</span><span class="o">+</span><span class="mi">7</span><span class="p">])</span>
<span class="w">                            </span><span class="n">except</span><span class="err">:</span>
<span class="w">                                </span><span class="n">break</span>
<span class="n">for</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">10</span><span class="p">)</span><span class="err">:</span>
<span class="w">    </span><span class="n">for</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="n">i</span><span class="p">,</span><span class="mi">10</span><span class="p">)</span><span class="err">:</span>
<span class="w">        </span><span class="n">for</span><span class="w"> </span><span class="n">k</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="n">j</span><span class="p">,</span><span class="mi">10</span><span class="p">)</span><span class="err">:</span>
<span class="w">            </span><span class="n">for</span><span class="w"> </span><span class="n">l</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="n">k</span><span class="p">,</span><span class="mi">10</span><span class="p">)</span><span class="err">:</span>
<span class="w">                </span><span class="n">for</span><span class="w"> </span><span class="n">m</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="n">l</span><span class="p">,</span><span class="mi">10</span><span class="p">)</span><span class="err">:</span>
<span class="w">                    </span><span class="n">for</span><span class="w"> </span><span class="n">n</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="n">m</span><span class="p">,</span><span class="mi">10</span><span class="p">)</span><span class="err">:</span>
<span class="w">                        </span><span class="n">for</span><span class="w"> </span><span class="n">o</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="n">n</span><span class="p">,</span><span class="mi">15</span><span class="p">)</span><span class="err">:</span>
<span class="w">                            </span><span class="n">for</span><span class="w"> </span><span class="n">p</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="n">o</span><span class="p">,</span><span class="mi">110</span><span class="p">)</span><span class="err">:</span>
<span class="w">                                </span><span class="n">try</span><span class="err">:</span>
<span class="w">                                    </span><span class="n">lst</span><span class="p">[(</span><span class="n">i</span><span class="o">*</span><span class="n">j</span><span class="o">*</span><span class="n">k</span><span class="o">*</span><span class="n">l</span><span class="o">*</span><span class="n">m</span><span class="o">*</span><span class="n">n</span><span class="o">*</span><span class="n">o</span><span class="o">*</span><span class="n">p</span><span class="p">)</span><span class="o">-</span><span class="p">(</span><span class="n">i</span><span class="o">+</span><span class="n">j</span><span class="o">+</span><span class="n">k</span><span class="o">+</span><span class="n">l</span><span class="o">+</span><span class="n">m</span><span class="o">+</span><span class="n">n</span><span class="o">+</span><span class="n">o</span><span class="o">+</span><span class="n">p</span><span class="p">)</span><span class="o">+</span><span class="mi">8</span><span class="p">]</span><span class="o">=</span><span class="n">min</span><span class="p">(</span><span class="n">i</span><span class="o">*</span><span class="n">j</span><span class="o">*</span><span class="n">k</span><span class="o">*</span><span class="n">l</span><span class="o">*</span><span class="n">m</span><span class="o">*</span><span class="n">n</span><span class="o">*</span><span class="n">o</span><span class="o">*</span><span class="n">p</span><span class="p">,</span><span class="n">lst</span><span class="p">[(</span><span class="n">i</span><span class="o">*</span><span class="n">j</span><span class="o">*</span><span class="n">k</span><span class="o">*</span><span class="n">l</span><span class="o">*</span><span class="n">m</span><span class="o">*</span><span class="n">n</span><span class="o">*</span><span class="n">o</span><span class="o">*</span><span class="n">p</span><span class="p">)</span><span class="o">-</span><span class="p">(</span><span class="n">i</span><span class="o">+</span><span class="n">j</span><span class="o">+</span><span class="n">k</span><span class="o">+</span><span class="n">l</span><span class="o">+</span><span class="n">m</span><span class="o">+</span><span class="n">n</span><span class="o">+</span><span class="n">o</span><span class="o">+</span><span class="n">p</span><span class="p">)</span><span class="o">+</span><span class="mi">8</span><span class="p">])</span>
<span class="w">                                </span><span class="n">except</span><span class="err">:</span>
<span class="w">                                    </span><span class="n">break</span>
<span class="n">for</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">10</span><span class="p">)</span><span class="err">:</span>
<span class="w">    </span><span class="n">for</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="n">i</span><span class="p">,</span><span class="mi">10</span><span class="p">)</span><span class="err">:</span>
<span class="w">        </span><span class="n">for</span><span class="w"> </span><span class="n">k</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="n">j</span><span class="p">,</span><span class="mi">10</span><span class="p">)</span><span class="err">:</span>
<span class="w">            </span><span class="n">for</span><span class="w"> </span><span class="n">l</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="n">k</span><span class="p">,</span><span class="mi">10</span><span class="p">)</span><span class="err">:</span>
<span class="w">                </span><span class="n">for</span><span class="w"> </span><span class="n">m</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="n">l</span><span class="p">,</span><span class="mi">10</span><span class="p">)</span><span class="err">:</span>
<span class="w">                    </span><span class="n">for</span><span class="w"> </span><span class="n">n</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="n">m</span><span class="p">,</span><span class="mi">10</span><span class="p">)</span><span class="err">:</span>
<span class="w">                        </span><span class="n">for</span><span class="w"> </span><span class="n">o</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="n">n</span><span class="p">,</span><span class="mi">10</span><span class="p">)</span><span class="err">:</span>
<span class="w">                            </span><span class="n">for</span><span class="w"> </span><span class="n">p</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="n">o</span><span class="p">,</span><span class="mi">15</span><span class="p">)</span><span class="err">:</span>
<span class="w">                                </span><span class="n">for</span><span class="w"> </span><span class="n">q</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="n">p</span><span class="p">,</span><span class="mi">60</span><span class="p">)</span><span class="err">:</span>
<span class="w">                                    </span><span class="n">try</span><span class="err">:</span>
<span class="w">                                        </span><span class="n">lst</span><span class="p">[(</span><span class="n">i</span><span class="o">*</span><span class="n">j</span><span class="o">*</span><span class="n">k</span><span class="o">*</span><span class="n">l</span><span class="o">*</span><span class="n">m</span><span class="o">*</span><span class="n">n</span><span class="o">*</span><span class="n">o</span><span class="o">*</span><span class="n">p</span><span class="o">*</span><span class="n">q</span><span class="p">)</span><span class="o">-</span><span class="p">(</span><span class="n">i</span><span class="o">+</span><span class="n">j</span><span class="o">+</span><span class="n">k</span><span class="o">+</span><span class="n">l</span><span class="o">+</span><span class="n">m</span><span class="o">+</span><span class="n">n</span><span class="o">+</span><span class="n">o</span><span class="o">+</span><span class="n">p</span><span class="o">+</span><span class="n">q</span><span class="p">)</span><span class="o">+</span><span class="mi">9</span><span class="p">]</span><span class="o">=</span><span class="n">min</span><span class="p">(</span><span class="n">i</span><span class="o">*</span><span class="n">j</span><span class="o">*</span><span class="n">k</span><span class="o">*</span><span class="n">l</span><span class="o">*</span><span class="n">m</span><span class="o">*</span><span class="n">n</span><span class="o">*</span><span class="n">o</span><span class="o">*</span><span class="n">p</span><span class="o">*</span><span class="n">q</span><span class="p">,</span><span class="n">lst</span><span class="p">[(</span><span class="n">i</span><span class="o">*</span><span class="n">j</span><span class="o">*</span><span class="n">k</span><span class="o">*</span><span class="n">l</span><span class="o">*</span><span class="n">m</span><span class="o">*</span><span class="n">n</span><span class="o">*</span><span class="n">o</span><span class="o">*</span><span class="n">p</span><span class="o">*</span><span class="n">q</span><span class="p">)</span><span class="o">-</span><span class="p">(</span><span class="n">i</span><span class="o">+</span><span class="n">j</span><span class="o">+</span><span class="n">k</span><span class="o">+</span><span class="n">l</span><span class="o">+</span><span class="n">m</span><span class="o">+</span><span class="n">n</span><span class="o">+</span><span class="n">o</span><span class="o">+</span><span class="n">p</span><span class="o">+</span><span class="n">q</span><span class="p">)</span><span class="o">+</span><span class="mi">9</span><span class="p">])</span>
<span class="w">                                    </span><span class="n">except</span><span class="err">:</span>
<span class="w">                                        </span><span class="n">break</span>
<span class="n">num</span><span class="o">=</span><span class="mi">2</span><span class="o">^</span><span class="mi">10</span>
<span class="n">for</span><span class="w"> </span><span class="nv">_</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span><span class="err">:</span>
<span class="n">sum</span><span class="p">(</span><span class="n">set</span><span class="p">(</span><span class="n">lst</span><span class="p">[</span><span class="mi">2</span><span class="err">:</span><span class="mi">10000</span><span class="p">]))</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-mathematica notranslate"><div class="highlight"><pre><span></span><span class="nv">#</span><span class="w"> </span><span class="mi">88</span><span class="w"> </span><span class="n">Product</span><span class="o">-</span><span class="n">sum</span><span class="w"> </span><span class="n">Numbers</span><span class="p">(</span><span class="n">Partitioning</span><span class="p">)</span>
<span class="n">for</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">50</span><span class="p">)</span><span class="err">:</span>
<span class="w">    </span><span class="n">for</span><span class="w"> </span><span class="n">partition</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">Partitions</span><span class="p">(</span><span class="n">i</span><span class="p">)</span><span class="err">:</span>
<span class="w">        </span><span class="n">pass</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="pe-89">
<h2>PE 89<a class="headerlink" href="#pe-89" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-mathematica notranslate"><div class="highlight"><pre><span></span><span class="n">import</span><span class="w"> </span><span class="n">requests</span>
<span class="n">response</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">requests</span><span class="err">.</span><span class="n">get</span><span class="p">(</span><span class="s">&quot;https://projecteuler.net/resources/documents/0089_roman.txt&quot;</span><span class="p">)</span><span class="w">   </span><span class="nv">#</span><span class="w"> </span><span class="n">Send</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">GET</span><span class="w"> </span><span class="n">request</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">URL</span>
<span class="n">content</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">response</span><span class="err">.</span><span class="n">text</span><span class="w">     </span><span class="nv">#</span><span class="w"> </span><span class="n">Read</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">content</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">response</span>
<span class="n">content</span><span class="o">=</span><span class="n">content</span><span class="err">.</span><span class="n">split</span><span class="p">(</span><span class="err">&#39;\</span><span class="n">n</span><span class="err">&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-mathematica notranslate"><div class="highlight"><pre><span></span><span class="n">def</span><span class="w"> </span><span class="nv">roman_to_int</span><span class="p">(</span><span class="n">s</span><span class="p">)</span><span class="err">:</span>
<span class="w">    </span><span class="n">lst</span><span class="o">=</span><span class="n">list</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
<span class="w">    </span><span class="n">num</span><span class="o">=</span><span class="mi">0</span>
<span class="w">    </span><span class="n">count</span><span class="o">=</span><span class="mi">0</span>
<span class="w">    </span><span class="n">for</span><span class="w"> </span><span class="n">letter</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">lst</span><span class="err">:</span>
<span class="w">        </span><span class="n">if</span><span class="w"> </span><span class="n">letter</span><span class="o">==</span><span class="err">&#39;</span><span class="n">M</span><span class="err">&#39;:</span>
<span class="w">            </span><span class="n">num</span><span class="o">+=</span><span class="mi">1000</span>
<span class="w">            </span><span class="n">count</span><span class="o">+=</span><span class="mi">1</span>
<span class="w">        </span><span class="n">else</span><span class="err">:</span>
<span class="w">            </span><span class="n">break</span>
<span class="w">    </span><span class="n">lst</span><span class="o">=</span><span class="n">lst</span><span class="p">[</span><span class="n">count</span><span class="err">:</span><span class="p">]</span>
<span class="w">    </span><span class="n">if</span><span class="w">  </span><span class="n">lst</span><span class="o">!=</span><span class="p">[]</span><span class="w"> </span><span class="n">and</span><span class="w"> </span><span class="n">lst</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">==</span><span class="err">&#39;</span><span class="n">C</span><span class="err">&#39;</span><span class="w"> </span><span class="n">and</span><span class="w"> </span><span class="p">(</span><span class="err">&#39;</span><span class="n">D</span><span class="err">&#39;</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">lst</span><span class="w"> </span><span class="n">or</span><span class="w"> </span><span class="err">&#39;</span><span class="n">M</span><span class="err">&#39;</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">lst</span><span class="p">)</span><span class="err">:</span>
<span class="w">        </span><span class="n">if</span><span class="w"> </span><span class="n">lst</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">==</span><span class="err">&#39;</span><span class="n">D</span><span class="err">&#39;:</span>
<span class="w">            </span><span class="n">num</span><span class="o">+=</span><span class="mi">400</span>
<span class="w">            </span><span class="n">lst</span><span class="o">=</span><span class="n">lst</span><span class="p">[</span><span class="mi">2</span><span class="err">:</span><span class="p">]</span>
<span class="w">        </span><span class="n">elif</span><span class="w"> </span><span class="n">lst</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">==</span><span class="err">&#39;</span><span class="n">M</span><span class="err">&#39;:</span>
<span class="w">            </span><span class="n">num</span><span class="o">+=</span><span class="mi">900</span>
<span class="w">            </span><span class="n">lst</span><span class="o">=</span><span class="n">lst</span><span class="p">[</span><span class="mi">2</span><span class="err">:</span><span class="p">]</span>
<span class="w">    </span><span class="n">if</span><span class="w"> </span><span class="err">&#39;</span><span class="n">D</span><span class="err">&#39;</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">lst</span><span class="err">:</span>
<span class="w">        </span><span class="n">num</span><span class="o">+=</span><span class="mi">500</span>
<span class="w">        </span><span class="n">lst</span><span class="o">=</span><span class="n">lst</span><span class="p">[</span><span class="mi">1</span><span class="err">:</span><span class="p">]</span>
<span class="w">    </span><span class="n">count</span><span class="o">=</span><span class="mi">0</span>
<span class="w">    </span><span class="n">for</span><span class="w"> </span><span class="n">letter</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">lst</span><span class="err">:</span>
<span class="w">        </span><span class="n">if</span><span class="w"> </span><span class="n">letter</span><span class="o">==</span><span class="err">&#39;</span><span class="n">C</span><span class="err">&#39;:</span>
<span class="w">            </span><span class="n">num</span><span class="o">+=</span><span class="mi">100</span>
<span class="w">            </span><span class="n">count</span><span class="o">+=</span><span class="mi">1</span>
<span class="w">        </span><span class="n">else</span><span class="err">:</span>
<span class="w">            </span><span class="n">break</span>
<span class="w">    </span><span class="n">lst</span><span class="o">=</span><span class="n">lst</span><span class="p">[</span><span class="n">count</span><span class="err">:</span><span class="p">]</span>
<span class="w">    </span><span class="n">if</span><span class="w">  </span><span class="n">lst</span><span class="o">!=</span><span class="p">[]</span><span class="w"> </span><span class="n">and</span><span class="w"> </span><span class="n">lst</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">==</span><span class="err">&#39;</span><span class="n">X</span><span class="err">&#39;</span><span class="w"> </span><span class="n">and</span><span class="w"> </span><span class="p">(</span><span class="err">&#39;</span><span class="n">L</span><span class="err">&#39;</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">lst</span><span class="w"> </span><span class="n">or</span><span class="w"> </span><span class="err">&#39;</span><span class="n">C</span><span class="err">&#39;</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">lst</span><span class="p">)</span><span class="err">:</span>
<span class="w">        </span><span class="n">if</span><span class="w"> </span><span class="n">lst</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">==</span><span class="err">&#39;</span><span class="n">L</span><span class="err">&#39;:</span>
<span class="w">            </span><span class="n">num</span><span class="o">+=</span><span class="mi">40</span>
<span class="w">            </span><span class="n">lst</span><span class="o">=</span><span class="n">lst</span><span class="p">[</span><span class="mi">2</span><span class="err">:</span><span class="p">]</span>
<span class="w">        </span><span class="n">elif</span><span class="w"> </span><span class="n">lst</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">==</span><span class="err">&#39;</span><span class="n">C</span><span class="err">&#39;:</span>
<span class="w">            </span><span class="n">num</span><span class="o">+=</span><span class="mi">90</span>
<span class="w">            </span><span class="n">lst</span><span class="o">=</span><span class="n">lst</span><span class="p">[</span><span class="mi">2</span><span class="err">:</span><span class="p">]</span>
<span class="w">    </span><span class="n">if</span><span class="w"> </span><span class="err">&#39;</span><span class="n">L</span><span class="err">&#39;</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">lst</span><span class="err">:</span>
<span class="w">        </span><span class="n">num</span><span class="o">+=</span><span class="mi">50</span>
<span class="w">        </span><span class="n">lst</span><span class="o">=</span><span class="n">lst</span><span class="p">[</span><span class="mi">1</span><span class="err">:</span><span class="p">]</span>
<span class="w">    </span><span class="n">count</span><span class="o">=</span><span class="mi">0</span>
<span class="w">    </span><span class="n">for</span><span class="w"> </span><span class="n">letter</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">lst</span><span class="err">:</span>
<span class="w">        </span><span class="n">if</span><span class="w"> </span><span class="n">letter</span><span class="o">==</span><span class="err">&#39;</span><span class="n">X</span><span class="err">&#39;:</span>
<span class="w">            </span><span class="n">num</span><span class="o">+=</span><span class="mi">10</span>
<span class="w">            </span><span class="n">count</span><span class="o">+=</span><span class="mi">1</span>
<span class="w">        </span><span class="n">else</span><span class="err">:</span>
<span class="w">            </span><span class="n">break</span>
<span class="w">    </span><span class="n">lst</span><span class="o">=</span><span class="n">lst</span><span class="p">[</span><span class="n">count</span><span class="err">:</span><span class="p">]</span>
<span class="w">    </span><span class="n">if</span><span class="w"> </span><span class="n">lst</span><span class="o">!=</span><span class="p">[]</span><span class="w"> </span><span class="n">and</span><span class="w"> </span><span class="n">lst</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">==</span><span class="err">&#39;</span><span class="n">I</span><span class="err">&#39;</span><span class="w"> </span><span class="n">and</span><span class="w"> </span><span class="p">(</span><span class="err">&#39;</span><span class="n">V</span><span class="err">&#39;</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">lst</span><span class="w"> </span><span class="n">or</span><span class="w"> </span><span class="err">&#39;</span><span class="n">X</span><span class="err">&#39;</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">lst</span><span class="p">)</span><span class="err">:</span>
<span class="w">        </span><span class="n">if</span><span class="w"> </span><span class="n">lst</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">==</span><span class="err">&#39;</span><span class="n">V</span><span class="err">&#39;:</span>
<span class="w">            </span><span class="n">num</span><span class="o">+=</span><span class="mi">4</span>
<span class="w">            </span><span class="n">lst</span><span class="o">=</span><span class="n">lst</span><span class="p">[</span><span class="mi">2</span><span class="err">:</span><span class="p">]</span>
<span class="w">        </span><span class="n">elif</span><span class="w"> </span><span class="n">lst</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">==</span><span class="err">&#39;</span><span class="n">X</span><span class="err">&#39;:</span>
<span class="w">            </span><span class="n">num</span><span class="o">+=</span><span class="mi">9</span>
<span class="w">            </span><span class="n">lst</span><span class="o">=</span><span class="n">lst</span><span class="p">[</span><span class="mi">2</span><span class="err">:</span><span class="p">]</span>
<span class="w">    </span><span class="n">if</span><span class="w"> </span><span class="err">&#39;</span><span class="n">V</span><span class="err">&#39;</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">lst</span><span class="err">:</span>
<span class="w">        </span><span class="n">num</span><span class="o">+=</span><span class="mi">5</span>
<span class="w">        </span><span class="n">lst</span><span class="o">=</span><span class="n">lst</span><span class="p">[</span><span class="mi">1</span><span class="err">:</span><span class="p">]</span>
<span class="w">    </span><span class="n">return</span><span class="w"> </span><span class="n">num</span><span class="o">+</span><span class="n">len</span><span class="p">(</span><span class="n">lst</span><span class="p">)</span>

<span class="n">def</span><span class="w"> </span><span class="nv">int_to_roman</span><span class="p">(</span><span class="n">num</span><span class="p">)</span><span class="err">:</span>
<span class="w">    </span><span class="n">lst</span><span class="o">=</span><span class="p">[]</span>
<span class="w">    </span><span class="n">for</span><span class="w"> </span><span class="nv">_</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="n">num</span><span class="o">//</span><span class="mi">1000</span><span class="p">)</span><span class="err">:</span>
<span class="w">        </span><span class="n">lst</span><span class="err">.</span><span class="n">append</span><span class="p">(</span><span class="err">&#39;</span><span class="n">M</span><span class="err">&#39;</span><span class="p">)</span>
<span class="w">    </span><span class="n">num</span><span class="err">%</span><span class="o">=</span><span class="mi">1000</span>
<span class="w">    </span><span class="n">if</span><span class="w"> </span><span class="n">num</span><span class="o">&gt;=</span><span class="mi">900</span><span class="err">:</span>
<span class="w">        </span><span class="n">lst</span><span class="err">.</span><span class="n">append</span><span class="p">(</span><span class="err">&#39;</span><span class="n">CM</span><span class="err">&#39;</span><span class="p">)</span>
<span class="w">        </span><span class="n">num</span><span class="o">-=</span><span class="mi">900</span>
<span class="w">    </span><span class="n">if</span><span class="w"> </span><span class="n">num</span><span class="o">&gt;=</span><span class="mi">500</span><span class="err">:</span>
<span class="w">        </span><span class="n">lst</span><span class="err">.</span><span class="n">append</span><span class="p">(</span><span class="err">&#39;</span><span class="n">D</span><span class="err">&#39;</span><span class="p">)</span>
<span class="w">        </span><span class="n">num</span><span class="o">-=</span><span class="mi">500</span>
<span class="w">    </span><span class="n">if</span><span class="w"> </span><span class="n">num</span><span class="o">&gt;=</span><span class="mi">400</span><span class="err">:</span>
<span class="w">        </span><span class="n">lst</span><span class="err">.</span><span class="n">append</span><span class="p">(</span><span class="err">&#39;</span><span class="n">CD</span><span class="err">&#39;</span><span class="p">)</span>
<span class="w">        </span><span class="n">num</span><span class="o">-=</span><span class="mi">400</span>
<span class="w">    </span><span class="n">for</span><span class="w"> </span><span class="nv">_</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="n">num</span><span class="o">//</span><span class="mi">100</span><span class="p">)</span><span class="err">:</span>
<span class="w">        </span><span class="n">lst</span><span class="err">.</span><span class="n">append</span><span class="p">(</span><span class="err">&#39;</span><span class="n">C</span><span class="err">&#39;</span><span class="p">)</span>
<span class="w">    </span><span class="n">num</span><span class="err">%</span><span class="o">=</span><span class="mi">100</span>
<span class="w">    </span><span class="n">if</span><span class="w"> </span><span class="n">num</span><span class="o">&gt;=</span><span class="mi">90</span><span class="err">:</span>
<span class="w">        </span><span class="n">lst</span><span class="err">.</span><span class="n">append</span><span class="p">(</span><span class="err">&#39;</span><span class="n">XC</span><span class="err">&#39;</span><span class="p">)</span>
<span class="w">        </span><span class="n">num</span><span class="o">-=</span><span class="mi">90</span>
<span class="w">    </span><span class="n">if</span><span class="w"> </span><span class="n">num</span><span class="o">&gt;=</span><span class="mi">50</span><span class="err">:</span>
<span class="w">        </span><span class="n">lst</span><span class="err">.</span><span class="n">append</span><span class="p">(</span><span class="err">&#39;</span><span class="n">L</span><span class="err">&#39;</span><span class="p">)</span>
<span class="w">        </span><span class="n">num</span><span class="o">-=</span><span class="mi">50</span>
<span class="w">    </span><span class="n">if</span><span class="w"> </span><span class="n">num</span><span class="o">&gt;=</span><span class="mi">40</span><span class="err">:</span>
<span class="w">        </span><span class="n">lst</span><span class="err">.</span><span class="n">append</span><span class="p">(</span><span class="err">&#39;</span><span class="n">XL</span><span class="err">&#39;</span><span class="p">)</span>
<span class="w">        </span><span class="n">num</span><span class="o">-=</span><span class="mi">40</span>
<span class="w">    </span><span class="n">for</span><span class="w"> </span><span class="nv">_</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="n">num</span><span class="o">//</span><span class="mi">10</span><span class="p">)</span><span class="err">:</span>
<span class="w">        </span><span class="n">lst</span><span class="err">.</span><span class="n">append</span><span class="p">(</span><span class="err">&#39;</span><span class="n">X</span><span class="err">&#39;</span><span class="p">)</span>
<span class="w">    </span><span class="n">num</span><span class="err">%</span><span class="o">=</span><span class="mi">10</span>
<span class="w">    </span><span class="n">if</span><span class="w"> </span><span class="n">num</span><span class="o">==</span><span class="mi">9</span><span class="err">:</span>
<span class="w">        </span><span class="n">return</span><span class="w"> </span><span class="err">&#39;&#39;.</span><span class="n">join</span><span class="p">(</span><span class="n">lst</span><span class="p">)</span><span class="o">+</span><span class="err">&#39;</span><span class="n">IX</span><span class="err">&#39;</span>
<span class="w">    </span><span class="n">if</span><span class="w"> </span><span class="n">num</span><span class="o">&gt;=</span><span class="mi">5</span><span class="err">:</span>
<span class="w">        </span><span class="n">lst</span><span class="err">.</span><span class="n">append</span><span class="p">(</span><span class="err">&#39;</span><span class="n">V</span><span class="err">&#39;</span><span class="p">)</span>
<span class="w">        </span><span class="n">num</span><span class="o">-=</span><span class="mi">5</span>
<span class="w">    </span><span class="n">if</span><span class="w"> </span><span class="n">num</span><span class="o">==</span><span class="mi">4</span><span class="err">:</span>
<span class="w">        </span><span class="n">return</span><span class="w"> </span><span class="err">&#39;&#39;.</span><span class="n">join</span><span class="p">(</span><span class="n">lst</span><span class="p">)</span><span class="o">+</span><span class="err">&#39;</span><span class="n">IV</span><span class="err">&#39;</span>
<span class="w">    </span><span class="n">for</span><span class="w"> </span><span class="nv">_</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="n">num</span><span class="p">)</span><span class="err">:</span>
<span class="w">        </span><span class="n">lst</span><span class="err">.</span><span class="n">append</span><span class="p">(</span><span class="err">&#39;</span><span class="n">I</span><span class="err">&#39;</span><span class="p">)</span>
<span class="w">    </span><span class="n">return</span><span class="w"> </span><span class="err">&#39;&#39;.</span><span class="n">join</span><span class="p">(</span><span class="n">lst</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-mathematica notranslate"><div class="highlight"><pre><span></span><span class="n">from</span><span class="w"> </span><span class="n">functools</span><span class="w"> </span><span class="n">import</span><span class="w"> </span><span class="n">reduce</span>

<span class="nv">#</span><span class="w"> </span><span class="n">Mapping</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">roman</span><span class="w"> </span><span class="n">symbols</span>
<span class="nv">ROMAN_MAP</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="err">&#39;</span><span class="n">I</span><span class="err">&#39;:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="err">&#39;</span><span class="n">V</span><span class="err">&#39;:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="err">&#39;</span><span class="n">X</span><span class="err">&#39;:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w"> </span><span class="err">&#39;</span><span class="n">L</span><span class="err">&#39;:</span><span class="w"> </span><span class="mi">50</span><span class="p">,</span>
<span class="w">    </span><span class="err">&#39;</span><span class="n">C</span><span class="err">&#39;:</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w"> </span><span class="err">&#39;</span><span class="n">D</span><span class="err">&#39;:</span><span class="w"> </span><span class="mi">500</span><span class="p">,</span><span class="w"> </span><span class="err">&#39;</span><span class="n">M</span><span class="err">&#39;:</span><span class="w"> </span><span class="mi">1000</span>
<span class="p">}</span>

<span class="nv">#</span><span class="w"> </span><span class="o">---</span><span class="w"> </span><span class="n">FP</span><span class="w"> </span><span class="nv">roman_to_int</span><span class="w"> </span><span class="o">---</span>
<span class="n">def</span><span class="w"> </span><span class="nv">roman_to_int</span><span class="p">(</span><span class="n">s</span><span class="err">:</span><span class="w"> </span><span class="n">str</span><span class="p">)</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">int</span><span class="err">:</span>
<span class="w">    </span><span class="n">vals</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="nv">ROMAN_MAP</span><span class="p">[</span><span class="n">ch</span><span class="p">]</span><span class="w"> </span><span class="n">for</span><span class="w"> </span><span class="n">ch</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">s</span><span class="p">]</span>
<span class="w">    </span><span class="nv">#</span><span class="w"> </span><span class="n">fold</span><span class="err">:</span><span class="w"> </span><span class="n">if</span><span class="w"> </span><span class="n">smaller</span><span class="w"> </span><span class="n">before</span><span class="w"> </span><span class="n">larger</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">subtract</span><span class="p">,</span><span class="w"> </span><span class="n">else</span><span class="w"> </span><span class="n">add</span>
<span class="w">    </span><span class="n">return</span><span class="w"> </span><span class="n">reduce</span><span class="p">(</span>
<span class="w">        </span><span class="n">lambda</span><span class="w"> </span><span class="n">acc</span><span class="p">,</span><span class="w"> </span><span class="n">pair</span><span class="err">:</span><span class="w"> </span><span class="n">acc</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="p">(</span><span class="o">-</span><span class="n">pair</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="w"> </span><span class="n">if</span><span class="w"> </span><span class="n">pair</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">pair</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="w"> </span><span class="n">else</span><span class="w"> </span><span class="n">pair</span><span class="p">[</span><span class="mi">0</span><span class="p">]),</span>
<span class="w">        </span><span class="n">zip</span><span class="p">(</span><span class="n">vals</span><span class="p">,</span><span class="w"> </span><span class="n">vals</span><span class="p">[</span><span class="mi">1</span><span class="err">:</span><span class="p">]</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="p">[</span><span class="mi">0</span><span class="p">]),</span>
<span class="w">        </span><span class="mi">0</span>
<span class="w">    </span><span class="p">)</span>

<span class="nv">#</span><span class="w"> </span><span class="o">---</span><span class="w"> </span><span class="n">FP</span><span class="w"> </span><span class="nv">int_to_roman</span><span class="w"> </span><span class="o">---</span>
<span class="n">def</span><span class="w"> </span><span class="nv">int_to_roman</span><span class="p">(</span><span class="n">n</span><span class="err">:</span><span class="w"> </span><span class="n">int</span><span class="p">)</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">str</span><span class="err">:</span>
<span class="w">    </span><span class="nv">#</span><span class="w"> </span><span class="n">descending</span><span class="w"> </span><span class="n">ordered</span><span class="w"> </span><span class="n">numeral</span><span class="w"> </span><span class="n">list</span>
<span class="w">    </span><span class="n">table</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span>
<span class="w">        </span><span class="p">(</span><span class="mi">1000</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;M&quot;</span><span class="p">),</span><span class="w"> </span><span class="p">(</span><span class="mi">900</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;CM&quot;</span><span class="p">),</span><span class="w"> </span><span class="p">(</span><span class="mi">500</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;D&quot;</span><span class="p">),</span><span class="w"> </span><span class="p">(</span><span class="mi">400</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;CD&quot;</span><span class="p">),</span>
<span class="w">        </span><span class="p">(</span><span class="mi">100</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;C&quot;</span><span class="p">),</span><span class="w"> </span><span class="p">(</span><span class="mi">90</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;XC&quot;</span><span class="p">),</span><span class="w"> </span><span class="p">(</span><span class="mi">50</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;L&quot;</span><span class="p">),</span><span class="w"> </span><span class="p">(</span><span class="mi">40</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;XL&quot;</span><span class="p">),</span>
<span class="w">        </span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;X&quot;</span><span class="p">),</span><span class="w"> </span><span class="p">(</span><span class="mi">9</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;IX&quot;</span><span class="p">),</span><span class="w"> </span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;V&quot;</span><span class="p">),</span><span class="w"> </span><span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;IV&quot;</span><span class="p">),</span><span class="w"> </span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;I&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="p">]</span>
<span class="w">    </span><span class="nv">#</span><span class="w"> </span><span class="n">expand</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">comprehension</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="n">join</span>
<span class="w">    </span><span class="n">return</span><span class="w"> </span><span class="s">&quot;&quot;</span><span class="err">.</span><span class="n">join</span><span class="p">(</span>
<span class="w">        </span><span class="n">numeral</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="p">(</span><span class="n">n</span><span class="w"> </span><span class="o">//</span><span class="w"> </span><span class="n">value</span><span class="p">)</span><span class="w"> </span><span class="n">for</span><span class="w"> </span><span class="n">value</span><span class="p">,</span><span class="w"> </span><span class="n">numeral</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">table</span>
<span class="w">        </span><span class="n">if</span><span class="w"> </span><span class="p">(</span><span class="n">n</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="n">n</span><span class="w"> </span><span class="err">%</span><span class="w"> </span><span class="n">value</span><span class="p">)</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">not</span><span class="w"> </span><span class="n">None</span>
<span class="w">    </span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-mathematica notranslate"><div class="highlight"><pre><span></span><span class="n">count</span><span class="o">=</span><span class="mi">0</span>
<span class="n">for</span><span class="w"> </span><span class="n">roman</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">content</span><span class="err">:</span>
<span class="w">    </span><span class="n">num</span><span class="o">=</span><span class="nv">roman_to_int</span><span class="p">(</span><span class="n">roman</span><span class="p">)</span>
<span class="w">    </span><span class="n">shortest</span><span class="o">=</span><span class="nv">int_to_roman</span><span class="p">(</span><span class="n">num</span><span class="p">)</span>
<span class="w">    </span><span class="n">count</span><span class="o">+=</span><span class="n">len</span><span class="p">(</span><span class="n">roman</span><span class="p">)</span><span class="o">-</span><span class="n">len</span><span class="p">(</span><span class="n">shortest</span><span class="p">)</span>
<span class="n">count</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="pe-90">
<h2>PE 90<a class="headerlink" href="#pe-90" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-mathematica notranslate"><div class="highlight"><pre><span></span><span class="n">def</span><span class="w"> </span><span class="n">numbers</span><span class="p">()</span><span class="err">:</span>
<span class="w">    </span><span class="n">lst</span><span class="o">=</span><span class="p">[]</span>
<span class="w">    </span><span class="n">for</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span><span class="err">:</span>
<span class="w">        </span><span class="n">for</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span><span class="mi">10</span><span class="p">)</span><span class="err">:</span>
<span class="w">            </span><span class="n">for</span><span class="w"> </span><span class="n">k</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="n">j</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span><span class="mi">10</span><span class="p">)</span><span class="err">:</span>
<span class="w">                </span><span class="n">for</span><span class="w"> </span><span class="n">l</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="n">k</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span><span class="mi">10</span><span class="p">)</span><span class="err">:</span>
<span class="w">                    </span><span class="n">for</span><span class="w"> </span><span class="n">m</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="n">l</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span><span class="mi">10</span><span class="p">)</span><span class="err">:</span>
<span class="w">                        </span><span class="n">for</span><span class="w"> </span><span class="n">n</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="n">m</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span><span class="mi">10</span><span class="p">)</span><span class="err">:</span>
<span class="w">                            </span><span class="n">lst</span><span class="err">.</span><span class="n">append</span><span class="p">([</span><span class="n">i</span><span class="p">,</span><span class="n">j</span><span class="p">,</span><span class="n">k</span><span class="p">,</span><span class="n">l</span><span class="p">,</span><span class="n">m</span><span class="p">,</span><span class="n">n</span><span class="p">])</span>
<span class="w">    </span><span class="n">return</span><span class="w"> </span><span class="n">lst</span>
<span class="n">def</span><span class="w"> </span><span class="n">valid</span><span class="p">(</span><span class="n">lst1</span><span class="p">,</span><span class="n">lst2</span><span class="p">)</span><span class="err">:</span>
<span class="w">    </span><span class="n">if</span><span class="w"> </span><span class="mi">9</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">lst1</span><span class="err">:</span>
<span class="w">        </span><span class="n">lst1</span><span class="p">[</span><span class="mi">-1</span><span class="p">]</span><span class="o">=</span><span class="mi">6</span>
<span class="w">    </span><span class="n">if</span><span class="w"> </span><span class="mi">9</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">lst2</span><span class="err">:</span>
<span class="w">        </span><span class="n">lst2</span><span class="p">[</span><span class="mi">-1</span><span class="p">]</span><span class="o">=</span><span class="mi">6</span>
<span class="w">    </span><span class="n">lst10</span><span class="o">=</span><span class="mi">0</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">lst1</span>
<span class="w">    </span><span class="n">lst20</span><span class="o">=</span><span class="mi">0</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">lst2</span>
<span class="w">    </span><span class="n">if</span><span class="w"> </span><span class="n">not</span><span class="w"> </span><span class="n">lst10</span><span class="w"> </span><span class="n">and</span><span class="w"> </span><span class="n">not</span><span class="w"> </span><span class="n">lst20</span><span class="err">:</span>
<span class="w">        </span><span class="n">return</span><span class="w"> </span><span class="n">False</span>
<span class="w">    </span><span class="n">lst1149</span><span class="o">=</span><span class="mi">1</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">lst1</span><span class="w"> </span><span class="n">and</span><span class="w"> </span><span class="mi">4</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">lst1</span><span class="w"> </span><span class="n">and</span><span class="w"> </span><span class="mi">6</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">lst1</span>
<span class="w">    </span><span class="n">lst2149</span><span class="o">=</span><span class="mi">1</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">lst2</span><span class="w"> </span><span class="n">and</span><span class="w"> </span><span class="mi">4</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">lst2</span><span class="w"> </span><span class="n">and</span><span class="w"> </span><span class="mi">6</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">lst2</span>
<span class="w">    </span><span class="n">if</span><span class="w"> </span><span class="n">not</span><span class="w"> </span><span class="n">lst10</span><span class="w"> </span><span class="n">and</span><span class="w"> </span><span class="n">not</span><span class="w"> </span><span class="n">lst1149</span><span class="err">:</span>
<span class="w">        </span><span class="n">return</span><span class="w"> </span><span class="n">False</span>
<span class="w">    </span><span class="n">if</span><span class="w"> </span><span class="n">not</span><span class="w"> </span><span class="n">lst20</span><span class="w"> </span><span class="n">and</span><span class="w"> </span><span class="n">not</span><span class="w"> </span><span class="n">lst2149</span><span class="err">:</span>
<span class="w">        </span><span class="n">return</span><span class="w"> </span><span class="n">False</span>
<span class="w">    </span><span class="n">if</span><span class="w"> </span><span class="n">not</span><span class="w"> </span><span class="n">lst1149</span><span class="w"> </span><span class="n">and</span><span class="w"> </span><span class="n">not</span><span class="w"> </span><span class="n">lst2149</span><span class="err">:</span>
<span class="w">        </span><span class="n">if</span><span class="w"> </span><span class="n">not</span><span class="w"> </span><span class="n">lst10</span><span class="w"> </span><span class="n">or</span><span class="w"> </span><span class="n">not</span><span class="w"> </span><span class="n">lst20</span><span class="err">:</span>
<span class="w">            </span><span class="n">return</span><span class="w"> </span><span class="n">False</span>
<span class="w">        </span><span class="n">if</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="n">not</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">lst1</span><span class="w"> </span><span class="n">and</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="n">not</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">lst2</span><span class="err">:</span>
<span class="w">            </span><span class="n">return</span><span class="w"> </span><span class="n">False</span>
<span class="w">        </span><span class="n">if</span><span class="w"> </span><span class="mi">4</span><span class="w"> </span><span class="n">not</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">lst1</span><span class="w"> </span><span class="n">and</span><span class="w"> </span><span class="mi">4</span><span class="w"> </span><span class="n">not</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">lst2</span><span class="err">:</span>
<span class="w">            </span><span class="n">return</span><span class="w"> </span><span class="n">False</span>
<span class="w">        </span><span class="n">if</span><span class="w"> </span><span class="mi">6</span><span class="w"> </span><span class="n">not</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">lst1</span><span class="w"> </span><span class="n">and</span><span class="w"> </span><span class="mi">6</span><span class="w"> </span><span class="n">not</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">lst2</span><span class="err">:</span>
<span class="w">            </span><span class="n">return</span><span class="w"> </span><span class="n">False</span>
<span class="w">    </span><span class="n">lst11</span><span class="o">=</span><span class="mi">1</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">lst1</span>
<span class="w">    </span><span class="n">lst21</span><span class="o">=</span><span class="mi">1</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">lst2</span>
<span class="w">    </span><span class="n">lst169</span><span class="o">=</span><span class="mi">6</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">lst1</span>
<span class="w">    </span><span class="n">lst269</span><span class="o">=</span><span class="mi">6</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">lst2</span>
<span class="w">    </span><span class="n">if</span><span class="w"> </span><span class="n">not</span><span class="w"> </span><span class="n">lst169</span><span class="w"> </span><span class="n">and</span><span class="w"> </span><span class="n">not</span><span class="w"> </span><span class="n">lst269</span><span class="err">:</span>
<span class="w">        </span><span class="n">return</span><span class="w"> </span><span class="n">False</span>
<span class="w">    </span><span class="n">if</span><span class="w"> </span><span class="n">not</span><span class="w"> </span><span class="n">lst11</span><span class="w"> </span><span class="n">and</span><span class="w"> </span><span class="n">not</span><span class="w"> </span><span class="n">lst169</span><span class="err">:</span>
<span class="w">        </span><span class="n">return</span><span class="w"> </span><span class="n">False</span>
<span class="w">    </span><span class="n">if</span><span class="w"> </span><span class="n">not</span><span class="w"> </span><span class="n">lst21</span><span class="w"> </span><span class="n">and</span><span class="w"> </span><span class="n">not</span><span class="w"> </span><span class="n">lst269</span><span class="err">:</span>
<span class="w">        </span><span class="n">return</span><span class="w"> </span><span class="n">False</span>
<span class="w">    </span><span class="n">lst12</span><span class="o">=</span><span class="mi">2</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">lst1</span>
<span class="w">    </span><span class="n">lst22</span><span class="o">=</span><span class="mi">2</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">lst2</span>
<span class="w">    </span><span class="n">lst15</span><span class="o">=</span><span class="mi">5</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">lst1</span>
<span class="w">    </span><span class="n">lst25</span><span class="o">=</span><span class="mi">5</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">lst2</span>
<span class="w">    </span><span class="n">if</span><span class="w"> </span><span class="n">not</span><span class="w"> </span><span class="n">lst12</span><span class="w"> </span><span class="n">and</span><span class="w"> </span><span class="n">not</span><span class="w"> </span><span class="n">lst22</span><span class="err">:</span>
<span class="w">        </span><span class="n">return</span><span class="w"> </span><span class="n">False</span>
<span class="w">    </span><span class="n">if</span><span class="w"> </span><span class="n">not</span><span class="w"> </span><span class="n">lst15</span><span class="w"> </span><span class="n">and</span><span class="w"> </span><span class="n">not</span><span class="w"> </span><span class="n">lst25</span><span class="err">:</span>
<span class="w">        </span><span class="n">return</span><span class="w"> </span><span class="n">False</span>
<span class="w">    </span><span class="n">if</span><span class="w"> </span><span class="n">not</span><span class="w"> </span><span class="n">lst12</span><span class="w"> </span><span class="n">and</span><span class="w"> </span><span class="n">not</span><span class="w"> </span><span class="n">lst15</span><span class="err">:</span>
<span class="w">        </span><span class="n">return</span><span class="w"> </span><span class="n">False</span>
<span class="w">    </span><span class="n">if</span><span class="w"> </span><span class="n">not</span><span class="w"> </span><span class="n">lst22</span><span class="w"> </span><span class="n">and</span><span class="w"> </span><span class="n">not</span><span class="w"> </span><span class="n">lst25</span><span class="err">:</span>
<span class="w">        </span><span class="n">return</span><span class="w"> </span><span class="n">False</span>
<span class="w">    </span><span class="n">lst13</span><span class="o">=</span><span class="mi">3</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">lst1</span>
<span class="w">    </span><span class="n">lst23</span><span class="o">=</span><span class="mi">3</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">lst2</span>
<span class="w">    </span><span class="n">if</span><span class="w"> </span><span class="n">not</span><span class="w"> </span><span class="n">lst13</span><span class="w"> </span><span class="n">and</span><span class="w"> </span><span class="n">not</span><span class="w"> </span><span class="n">lst23</span><span class="err">:</span>
<span class="w">        </span><span class="n">return</span><span class="w"> </span><span class="n">False</span>
<span class="w">    </span><span class="n">if</span><span class="w"> </span><span class="n">not</span><span class="w"> </span><span class="n">lst13</span><span class="w"> </span><span class="n">and</span><span class="w"> </span><span class="n">not</span><span class="w"> </span><span class="n">lst169</span><span class="err">:</span>
<span class="w">        </span><span class="n">return</span><span class="w"> </span><span class="n">False</span>
<span class="w">    </span><span class="n">if</span><span class="w"> </span><span class="n">not</span><span class="w"> </span><span class="n">lst23</span><span class="w"> </span><span class="n">and</span><span class="w"> </span><span class="n">not</span><span class="w"> </span><span class="n">lst269</span><span class="err">:</span>
<span class="w">        </span><span class="n">return</span><span class="w"> </span><span class="n">False</span>
<span class="w">    </span><span class="n">lst14</span><span class="o">=</span><span class="mi">4</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">lst1</span>
<span class="w">    </span><span class="n">lst24</span><span class="o">=</span><span class="mi">4</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">lst2</span>
<span class="w">    </span><span class="n">if</span><span class="w"> </span><span class="n">not</span><span class="w"> </span><span class="n">lst14</span><span class="w"> </span><span class="n">and</span><span class="w"> </span><span class="n">not</span><span class="w"> </span><span class="n">lst24</span><span class="err">:</span>
<span class="w">        </span><span class="n">return</span><span class="w"> </span><span class="n">False</span>
<span class="w">    </span><span class="n">if</span><span class="w"> </span><span class="n">not</span><span class="w"> </span><span class="n">lst14</span><span class="w"> </span><span class="n">and</span><span class="w"> </span><span class="n">not</span><span class="w"> </span><span class="n">lst169</span><span class="err">:</span>
<span class="w">        </span><span class="n">return</span><span class="w"> </span><span class="n">False</span>
<span class="w">    </span><span class="n">if</span><span class="w"> </span><span class="n">not</span><span class="w"> </span><span class="n">lst24</span><span class="w"> </span><span class="n">and</span><span class="w"> </span><span class="n">not</span><span class="w"> </span><span class="n">lst269</span><span class="err">:</span>
<span class="w">        </span><span class="n">return</span><span class="w"> </span><span class="n">False</span>
<span class="w">    </span><span class="n">lst18</span><span class="o">=</span><span class="mi">8</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">lst1</span>
<span class="w">    </span><span class="n">lst28</span><span class="o">=</span><span class="mi">8</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">lst2</span>
<span class="w">    </span><span class="n">if</span><span class="w"> </span><span class="n">not</span><span class="w"> </span><span class="n">lst18</span><span class="w"> </span><span class="n">and</span><span class="w"> </span><span class="n">not</span><span class="w"> </span><span class="n">lst28</span><span class="err">:</span>
<span class="w">        </span><span class="n">return</span><span class="w"> </span><span class="n">False</span>
<span class="w">    </span><span class="n">if</span><span class="w"> </span><span class="n">not</span><span class="w"> </span><span class="n">lst18</span><span class="w"> </span><span class="n">and</span><span class="w"> </span><span class="n">not</span><span class="w"> </span><span class="n">lst11</span><span class="err">:</span>
<span class="w">        </span><span class="n">return</span><span class="w"> </span><span class="n">False</span>
<span class="w">    </span><span class="n">if</span><span class="w"> </span><span class="n">not</span><span class="w"> </span><span class="n">lst28</span><span class="w"> </span><span class="n">and</span><span class="w"> </span><span class="n">not</span><span class="w"> </span><span class="n">lst21</span><span class="err">:</span>
<span class="w">        </span><span class="n">return</span><span class="w"> </span><span class="n">False</span>
<span class="w">    </span><span class="n">return</span><span class="w"> </span><span class="n">True</span>

<span class="n">count</span><span class="o">=</span><span class="mi">0</span>
<span class="n">lst1</span><span class="o">=</span><span class="n">numbers</span><span class="p">()</span>
<span class="n">lst2</span><span class="o">=</span><span class="n">numbers</span><span class="p">()</span>
<span class="n">for</span><span class="w"> </span><span class="n">l1</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">numbers</span><span class="p">()</span><span class="err">:</span>
<span class="w">    </span><span class="n">for</span><span class="w"> </span><span class="n">l2</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">numbers</span><span class="p">()</span><span class="err">:</span>
<span class="w">        </span><span class="n">if</span><span class="w"> </span><span class="n">valid</span><span class="p">(</span><span class="n">l1</span><span class="p">,</span><span class="n">l2</span><span class="p">)</span><span class="err">:</span>
<span class="w">            </span><span class="n">count</span><span class="o">+=</span><span class="mi">1</span>
<span class="n">count</span><span class="o">//</span><span class="mi">2</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="pe-91">
<h2>PE 91<a class="headerlink" href="#pe-91" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-mathematica notranslate"><div class="highlight"><pre><span></span><span class="nv">#</span><span class="w"> </span><span class="mi">91</span><span class="w"> </span><span class="n">Right</span><span class="w"> </span><span class="n">Triangles</span><span class="w"> </span><span class="n">with</span><span class="w"> </span><span class="n">Integer</span><span class="w"> </span><span class="n">Coordinates</span>
<span class="n">def</span><span class="w"> </span><span class="n">solve</span><span class="p">(</span><span class="n">n</span><span class="p">)</span><span class="err">:</span>
<span class="w">    </span><span class="n">return</span><span class="w"> </span><span class="mi">3</span><span class="o">*</span><span class="n">n</span><span class="o">^</span><span class="mi">2</span><span class="o">+</span><span class="mi">2</span><span class="o">*</span><span class="n">sum</span><span class="p">([</span><span class="n">min</span><span class="p">((</span><span class="n">i</span><span class="o">*</span><span class="n">gcd</span><span class="p">(</span><span class="n">i</span><span class="p">,</span><span class="n">j</span><span class="p">))</span><span class="o">//</span><span class="n">j</span><span class="p">,(</span><span class="n">gcd</span><span class="p">(</span><span class="n">i</span><span class="p">,</span><span class="n">j</span><span class="p">)</span><span class="o">*</span><span class="p">(</span><span class="n">n</span><span class="o">-</span><span class="n">j</span><span class="p">))</span><span class="o">//</span><span class="n">i</span><span class="p">)</span><span class="w"> </span><span class="n">for</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="n">n</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span><span class="w"> </span><span class="n">for</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="n">n</span><span class="o">+</span><span class="mi">1</span><span class="p">)])</span>
<span class="n">solve</span><span class="p">(</span><span class="mi">50</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="pe-92">
<h2>PE 92<a class="headerlink" href="#pe-92" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-mathematica notranslate"><div class="highlight"><pre><span></span><span class="nv">#92</span><span class="w"> </span><span class="n">Square</span><span class="w"> </span><span class="n">Digit</span><span class="w"> </span><span class="n">Chains</span>
<span class="n">def</span><span class="w"> </span><span class="n">chain</span><span class="p">(</span><span class="n">n</span><span class="p">)</span><span class="err">:</span>
<span class="w">    </span><span class="n">while</span><span class="w"> </span><span class="n">n</span><span class="o">!=</span><span class="mi">1</span><span class="w"> </span><span class="n">and</span><span class="w"> </span><span class="n">n</span><span class="o">!=</span><span class="mi">89</span><span class="err">:</span>
<span class="w">        </span><span class="n">num</span><span class="o">=</span><span class="n">list</span><span class="p">(</span><span class="n">map</span><span class="p">(</span><span class="n">int</span><span class="p">,</span><span class="w"> </span><span class="n">str</span><span class="p">(</span><span class="n">n</span><span class="p">)))</span>
<span class="w">        </span><span class="n">squared</span><span class="o">=</span><span class="mi">0</span>
<span class="w">        </span><span class="n">for</span><span class="w"> </span><span class="n">digit</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">num</span><span class="err">:</span>
<span class="w">            </span><span class="n">squared</span><span class="o">+=</span><span class="n">digit</span><span class="o">**</span><span class="mi">2</span>
<span class="w">        </span><span class="n">n</span><span class="o">=</span><span class="n">squared</span>
<span class="w">    </span><span class="n">return</span><span class="w"> </span><span class="n">n</span>
<span class="nv">num_89</span><span class="o">=</span><span class="mi">0</span>
<span class="n">for</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">10000000</span><span class="p">)</span><span class="err">:</span>
<span class="w">    </span><span class="n">if</span><span class="w"> </span><span class="n">chain</span><span class="p">(</span><span class="n">i</span><span class="p">)</span><span class="o">==</span><span class="mi">89</span><span class="err">:</span>
<span class="w">        </span><span class="nv">num_89</span><span class="o">+=</span><span class="mi">1</span>
<span class="w">    </span><span class="n">if</span><span class="w"> </span><span class="n">i</span><span class="err">%</span><span class="mi">50000</span><span class="o">==</span><span class="mi">0</span><span class="err">:</span>
<span class="w">        </span><span class="n">print</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
<span class="nv">num_89</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="pe-93">
<h2>PE 93<a class="headerlink" href="#pe-93" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-mathematica notranslate"><div class="highlight"><pre><span></span><span class="nv">#</span><span class="w"> </span><span class="mi">93</span><span class="w"> </span><span class="n">Arithmetic</span><span class="w"> </span><span class="n">Expressions</span>
<span class="n">def</span><span class="w"> </span><span class="n">operation</span><span class="p">(</span><span class="n">num1</span><span class="p">,</span><span class="n">op</span><span class="p">,</span><span class="n">num2</span><span class="p">)</span><span class="err">:</span>
<span class="w">    </span><span class="n">if</span><span class="w"> </span><span class="n">op</span><span class="o">==</span><span class="err">&#39;</span><span class="o">+</span><span class="err">&#39;:</span><span class="w"> </span><span class="n">return</span><span class="w"> </span><span class="n">num1</span><span class="o">+</span><span class="n">num2</span>
<span class="w">    </span><span class="n">if</span><span class="w"> </span><span class="n">op</span><span class="o">==</span><span class="err">&#39;</span><span class="o">-</span><span class="err">&#39;:</span><span class="w"> </span><span class="n">return</span><span class="w"> </span><span class="n">num1</span><span class="o">-</span><span class="n">num2</span>
<span class="w">    </span><span class="n">if</span><span class="w"> </span><span class="n">op</span><span class="o">==</span><span class="err">&#39;</span><span class="o">*</span><span class="err">&#39;</span><span class="w"> </span><span class="n">or</span><span class="w"> </span><span class="n">op</span><span class="o">==</span><span class="err">&#39;</span><span class="n">x</span><span class="err">&#39;:</span><span class="w"> </span><span class="n">return</span><span class="w"> </span><span class="n">num1</span><span class="o">*</span><span class="n">num2</span>
<span class="w">    </span><span class="n">if</span><span class="w"> </span><span class="n">op</span><span class="o">==</span><span class="err">&#39;</span><span class="o">/</span><span class="err">&#39;:</span>
<span class="w">        </span><span class="n">if</span><span class="w"> </span><span class="n">num2</span><span class="o">==</span><span class="mi">0</span><span class="err">:</span>
<span class="w">            </span><span class="n">return</span><span class="w"> </span><span class="n">None</span>
<span class="w">        </span><span class="n">return</span><span class="w"> </span><span class="n">num1</span><span class="o">/</span><span class="n">num2</span>
<span class="w">    </span><span class="n">raise</span><span class="w"> </span><span class="n">ValueError</span><span class="p">(</span><span class="err">&#39;</span><span class="n">Invalid</span><span class="w"> </span><span class="n">operation</span><span class="err">&#39;</span><span class="p">)</span>
<span class="n">def</span><span class="w"> </span><span class="nv">evaluate_pattern1</span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="n">op1</span><span class="p">,</span><span class="n">b</span><span class="p">,</span><span class="n">op2</span><span class="p">,</span><span class="n">c</span><span class="p">,</span><span class="n">op3</span><span class="p">,</span><span class="n">d</span><span class="p">)</span><span class="err">:</span>
<span class="w">    </span><span class="n">return</span><span class="w"> </span><span class="n">operation</span><span class="p">(</span><span class="n">operation</span><span class="p">(</span><span class="n">operation</span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="n">op1</span><span class="p">,</span><span class="n">b</span><span class="p">),</span><span class="n">op2</span><span class="p">,</span><span class="n">c</span><span class="p">),</span><span class="n">op3</span><span class="p">,</span><span class="n">d</span><span class="p">)</span>
<span class="n">def</span><span class="w"> </span><span class="nv">evaluate_pattern2</span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="n">op1</span><span class="p">,</span><span class="n">b</span><span class="p">,</span><span class="n">op2</span><span class="p">,</span><span class="n">c</span><span class="p">,</span><span class="n">op3</span><span class="p">,</span><span class="n">d</span><span class="p">)</span><span class="err">:</span>
<span class="w">    </span><span class="n">return</span><span class="w"> </span><span class="n">operation</span><span class="p">(</span><span class="n">operation</span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="n">op1</span><span class="p">,</span><span class="n">operation</span><span class="p">(</span><span class="n">b</span><span class="p">,</span><span class="n">op2</span><span class="p">,</span><span class="n">c</span><span class="p">)),</span><span class="n">op3</span><span class="p">,</span><span class="n">d</span><span class="p">)</span>
<span class="n">def</span><span class="w"> </span><span class="nv">evaluate_pattern3</span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="n">op1</span><span class="p">,</span><span class="n">b</span><span class="p">,</span><span class="n">op2</span><span class="p">,</span><span class="n">c</span><span class="p">,</span><span class="n">op3</span><span class="p">,</span><span class="n">d</span><span class="p">)</span><span class="err">:</span>
<span class="w">    </span><span class="n">return</span><span class="w"> </span><span class="n">operation</span><span class="p">(</span><span class="n">operation</span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="n">op1</span><span class="p">,</span><span class="n">b</span><span class="p">),</span><span class="n">op2</span><span class="p">,</span><span class="n">operation</span><span class="p">(</span><span class="n">c</span><span class="p">,</span><span class="n">op3</span><span class="p">,</span><span class="n">d</span><span class="p">))</span>
<span class="n">def</span><span class="w"> </span><span class="nv">evaluate_pattern4</span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="n">op1</span><span class="p">,</span><span class="n">b</span><span class="p">,</span><span class="n">op2</span><span class="p">,</span><span class="n">c</span><span class="p">,</span><span class="n">op3</span><span class="p">,</span><span class="n">d</span><span class="p">)</span><span class="err">:</span>
<span class="w">    </span><span class="n">return</span><span class="w"> </span><span class="n">operation</span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="n">op1</span><span class="p">,</span><span class="n">operation</span><span class="p">(</span><span class="n">operation</span><span class="p">(</span><span class="n">b</span><span class="p">,</span><span class="n">op2</span><span class="p">,</span><span class="n">c</span><span class="p">),</span><span class="n">op3</span><span class="p">,</span><span class="n">d</span><span class="p">))</span>
<span class="n">def</span><span class="w"> </span><span class="nv">evaluate_pattern5</span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="n">op1</span><span class="p">,</span><span class="n">b</span><span class="p">,</span><span class="n">op2</span><span class="p">,</span><span class="n">c</span><span class="p">,</span><span class="n">op3</span><span class="p">,</span><span class="n">d</span><span class="p">)</span><span class="err">:</span>
<span class="w">    </span><span class="n">return</span><span class="w"> </span><span class="n">operation</span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="n">op1</span><span class="p">,</span><span class="n">operation</span><span class="p">(</span><span class="n">b</span><span class="p">,</span><span class="n">op2</span><span class="p">,</span><span class="n">operation</span><span class="p">(</span><span class="n">c</span><span class="p">,</span><span class="n">op3</span><span class="p">,</span><span class="n">d</span><span class="p">)))</span>
<span class="n">def</span><span class="w"> </span><span class="nv">find_values</span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="p">,</span><span class="n">c</span><span class="p">,</span><span class="n">d</span><span class="p">)</span><span class="err">:</span>
<span class="w">    </span><span class="n">op</span><span class="o">=</span><span class="p">[</span><span class="err">&#39;</span><span class="o">+</span><span class="err">&#39;</span><span class="p">,</span><span class="err">&#39;</span><span class="o">-</span><span class="err">&#39;</span><span class="p">,</span><span class="err">&#39;</span><span class="n">x</span><span class="err">&#39;</span><span class="p">,</span><span class="err">&#39;</span><span class="o">/</span><span class="err">&#39;</span><span class="p">]</span>
<span class="w">    </span><span class="n">val</span><span class="o">=</span><span class="p">[]</span>
<span class="w">    </span><span class="n">for</span><span class="w"> </span><span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="p">,</span><span class="n">c</span><span class="p">,</span><span class="n">d</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">Permutations</span><span class="p">([</span><span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="p">,</span><span class="n">c</span><span class="p">,</span><span class="n">d</span><span class="p">])</span><span class="err">:</span>
<span class="w">        </span><span class="n">for</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">op</span><span class="err">:</span>
<span class="w">            </span><span class="n">for</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">op</span><span class="err">:</span>
<span class="w">                </span><span class="n">for</span><span class="w"> </span><span class="n">k</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">op</span><span class="err">:</span>
<span class="w">                    </span><span class="n">val</span><span class="err">.</span><span class="n">append</span><span class="p">(</span><span class="nv">evaluate_pattern1</span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="n">i</span><span class="p">,</span><span class="n">b</span><span class="p">,</span><span class="n">j</span><span class="p">,</span><span class="n">c</span><span class="p">,</span><span class="n">k</span><span class="p">,</span><span class="n">d</span><span class="p">))</span>
<span class="w">                    </span><span class="n">val</span><span class="err">.</span><span class="n">append</span><span class="p">(</span><span class="nv">evaluate_pattern2</span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="n">i</span><span class="p">,</span><span class="n">b</span><span class="p">,</span><span class="n">j</span><span class="p">,</span><span class="n">c</span><span class="p">,</span><span class="n">k</span><span class="p">,</span><span class="n">d</span><span class="p">))</span>
<span class="w">                    </span><span class="n">val</span><span class="err">.</span><span class="n">append</span><span class="p">(</span><span class="nv">evaluate_pattern3</span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="n">i</span><span class="p">,</span><span class="n">b</span><span class="p">,</span><span class="n">j</span><span class="p">,</span><span class="n">c</span><span class="p">,</span><span class="n">k</span><span class="p">,</span><span class="n">d</span><span class="p">))</span>
<span class="w">                    </span><span class="n">val</span><span class="err">.</span><span class="n">append</span><span class="p">(</span><span class="nv">evaluate_pattern4</span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="n">i</span><span class="p">,</span><span class="n">b</span><span class="p">,</span><span class="n">j</span><span class="p">,</span><span class="n">c</span><span class="p">,</span><span class="n">k</span><span class="p">,</span><span class="n">d</span><span class="p">))</span>
<span class="w">                    </span><span class="n">val</span><span class="err">.</span><span class="n">append</span><span class="p">(</span><span class="nv">evaluate_pattern5</span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="n">i</span><span class="p">,</span><span class="n">b</span><span class="p">,</span><span class="n">j</span><span class="p">,</span><span class="n">c</span><span class="p">,</span><span class="n">k</span><span class="p">,</span><span class="n">d</span><span class="p">))</span>
<span class="w">    </span><span class="n">val</span><span class="o">=</span><span class="n">list</span><span class="p">(</span><span class="n">set</span><span class="p">(</span><span class="n">val</span><span class="p">))</span>
<span class="w">    </span><span class="n">val</span><span class="o">=</span><span class="n">list</span><span class="p">(</span><span class="n">filter</span><span class="p">(</span><span class="n">lambda</span><span class="w"> </span><span class="n">x</span><span class="err">:</span><span class="n">x</span><span class="o">&gt;</span><span class="mi">0</span><span class="w"> </span><span class="n">and</span><span class="w"> </span><span class="n">x</span><span class="o">==</span><span class="n">floor</span><span class="p">(</span><span class="n">x</span><span class="p">),</span><span class="n">val</span><span class="p">))</span>
<span class="w">    </span><span class="n">return</span><span class="w"> </span><span class="n">sorted</span><span class="p">(</span><span class="n">list</span><span class="p">(</span><span class="n">map</span><span class="p">(</span><span class="n">int</span><span class="p">,</span><span class="n">val</span><span class="p">)))</span>

<span class="n">record</span><span class="o">=</span><span class="mi">0</span>
<span class="n">vals</span><span class="o">=</span><span class="p">[]</span>
<span class="n">for</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">10</span><span class="p">)</span><span class="err">:</span>
<span class="w">    </span><span class="n">for</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span><span class="mi">10</span><span class="p">)</span><span class="err">:</span>
<span class="w">        </span><span class="n">for</span><span class="w"> </span><span class="n">k</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="n">j</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span><span class="mi">10</span><span class="p">)</span><span class="err">:</span>
<span class="w">            </span><span class="n">for</span><span class="w"> </span><span class="n">l</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="n">k</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span><span class="mi">10</span><span class="p">)</span><span class="err">:</span>
<span class="w">                </span><span class="nv">current_value</span><span class="o">=</span><span class="mi">0</span>
<span class="w">                </span><span class="n">lst</span><span class="o">=</span><span class="nv">find_values</span><span class="p">(</span><span class="n">i</span><span class="p">,</span><span class="n">j</span><span class="p">,</span><span class="n">k</span><span class="p">,</span><span class="n">l</span><span class="p">)</span>
<span class="w">                </span><span class="n">for</span><span class="w"> </span><span class="n">m</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="n">len</span><span class="p">(</span><span class="n">lst</span><span class="p">))</span><span class="err">:</span>
<span class="w">                    </span><span class="n">if</span><span class="w"> </span><span class="n">lst</span><span class="p">[</span><span class="n">m</span><span class="p">]</span><span class="o">==</span><span class="n">m</span><span class="o">+</span><span class="mi">1</span><span class="err">:</span>
<span class="w">                        </span><span class="nv">current_value</span><span class="o">+=</span><span class="mi">1</span>
<span class="w">                    </span><span class="n">else</span><span class="err">:</span>
<span class="w">                        </span><span class="n">break</span>
<span class="w">                </span><span class="n">vals</span><span class="err">.</span><span class="n">append</span><span class="p">((</span><span class="nv">current_value</span><span class="p">,(</span><span class="n">i</span><span class="p">,</span><span class="n">j</span><span class="p">,</span><span class="n">k</span><span class="p">,</span><span class="n">l</span><span class="p">)))</span>
<span class="w">                </span><span class="n">record</span><span class="o">=</span><span class="n">max</span><span class="p">(</span><span class="n">record</span><span class="p">,</span><span class="nv">current_value</span><span class="p">)</span>
<span class="n">for</span><span class="w"> </span><span class="n">tup</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">vals</span><span class="err">:</span>
<span class="w">    </span><span class="n">if</span><span class="w"> </span><span class="n">tup</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">==</span><span class="n">record</span><span class="err">:</span>
<span class="w">        </span><span class="n">print</span><span class="p">(</span><span class="err">&#39;&#39;.</span><span class="n">join</span><span class="p">(</span><span class="n">map</span><span class="p">(</span><span class="n">str</span><span class="p">,</span><span class="n">tup</span><span class="p">[</span><span class="mi">1</span><span class="p">])))</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="pe-94">
<h2>PE 94<a class="headerlink" href="#pe-94" title="Link to this heading">#</a></h2>
<ul class="simple">
<li><p>Use Herons formula and optimisation.</p></li>
<li><p>Set the sum of the perimeters to 0.</p></li>
<li><p>Start from the smallest example(i=5)</p>
<ul>
<li><p>Check for the triangle with sides i,i,i+1 and the triangle with sides i,i,i-1</p></li>
<li><p>Using a pattern you can manually check, jump to a point because there cannot be a triangle that meets these conditions in between</p></li>
</ul>
</li>
<li><p>Display the answer</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-mathematica notranslate"><div class="highlight"><pre><span></span><span class="nv">#</span><span class="w"> </span><span class="mi">94</span><span class="w"> </span><span class="n">Almost</span><span class="w"> </span><span class="n">Equilateral</span><span class="w"> </span><span class="n">Triangles</span>
<span class="n">def</span><span class="w"> </span><span class="nv">area_squared</span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="p">,</span><span class="n">c</span><span class="p">)</span><span class="err">:</span>
<span class="w">    </span><span class="n">s</span><span class="o">=</span><span class="p">(</span><span class="n">a</span><span class="o">+</span><span class="n">b</span><span class="o">+</span><span class="n">c</span><span class="p">)</span><span class="o">/</span><span class="mi">2</span>
<span class="w">    </span><span class="n">return</span><span class="w"> </span><span class="n">s</span><span class="o">*</span><span class="p">(</span><span class="n">s</span><span class="o">-</span><span class="n">a</span><span class="p">)</span><span class="o">*</span><span class="p">(</span><span class="n">s</span><span class="o">-</span><span class="n">b</span><span class="p">)</span><span class="o">*</span><span class="p">(</span><span class="n">s</span><span class="o">-</span><span class="n">c</span><span class="p">)</span>
<span class="n">i</span><span class="o">=</span><span class="mi">5</span>
<span class="n">count</span><span class="o">=</span><span class="mi">0</span>
<span class="n">while</span><span class="w"> </span><span class="n">i</span><span class="o">&lt;</span><span class="mi">10</span><span class="o">^</span><span class="mi">9</span><span class="o">//</span><span class="mi">3</span><span class="err">:</span>
<span class="w">    </span><span class="n">if</span><span class="w"> </span><span class="nv">is_square</span><span class="p">(</span><span class="nv">area_squared</span><span class="p">(</span><span class="n">i</span><span class="p">,</span><span class="n">i</span><span class="p">,</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">))</span><span class="err">:</span>
<span class="w">        </span><span class="n">print</span><span class="p">(</span><span class="n">i</span><span class="p">,</span><span class="n">i</span><span class="p">,</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span><span class="n">sqrt</span><span class="p">(</span><span class="nv">area_squared</span><span class="p">(</span><span class="n">i</span><span class="p">,</span><span class="n">i</span><span class="p">,</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">)))</span>
<span class="w">        </span><span class="n">count</span><span class="o">+=</span><span class="mi">3</span><span class="o">*</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span>
<span class="w">        </span><span class="n">i</span><span class="o">*=</span><span class="mf">3.73</span>
<span class="w">        </span><span class="n">i</span><span class="o">=</span><span class="n">floor</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
<span class="w">        </span><span class="n">if</span><span class="w"> </span><span class="n">i</span><span class="err">%</span><span class="mi">4</span><span class="o">&lt;</span><span class="mi">0</span><span class="err">:</span>
<span class="w">            </span><span class="n">i</span><span class="o">-=</span><span class="mi">4</span>
<span class="w">        </span><span class="n">i</span><span class="o">-=</span><span class="n">i</span><span class="err">%</span><span class="mi">4</span>
<span class="w">        </span><span class="n">i</span><span class="o">+=</span><span class="mi">1</span>
<span class="w">    </span><span class="n">if</span><span class="w"> </span><span class="nv">is_square</span><span class="p">(</span><span class="nv">area_squared</span><span class="p">(</span><span class="n">i</span><span class="p">,</span><span class="n">i</span><span class="p">,</span><span class="n">i</span><span class="mi">-1</span><span class="p">))</span><span class="err">:</span>
<span class="w">        </span><span class="n">print</span><span class="p">(</span><span class="n">i</span><span class="p">,</span><span class="n">i</span><span class="p">,</span><span class="n">i</span><span class="mi">-1</span><span class="p">,</span><span class="n">sqrt</span><span class="p">(</span><span class="nv">area_squared</span><span class="p">(</span><span class="n">i</span><span class="p">,</span><span class="n">i</span><span class="p">,</span><span class="n">i</span><span class="mi">-1</span><span class="p">)))</span>
<span class="w">        </span><span class="n">count</span><span class="o">+=</span><span class="mi">3</span><span class="o">*</span><span class="n">i</span><span class="mi">-1</span>
<span class="w">        </span><span class="n">i</span><span class="o">*=</span><span class="mf">3.73</span>
<span class="w">        </span><span class="n">i</span><span class="o">=</span><span class="n">floor</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
<span class="w">        </span><span class="n">if</span><span class="w"> </span><span class="n">i</span><span class="err">%</span><span class="mi">4</span><span class="o">&lt;</span><span class="mi">0</span><span class="err">:</span>
<span class="w">            </span><span class="n">i</span><span class="o">-=</span><span class="mi">4</span>
<span class="w">        </span><span class="n">i</span><span class="o">-=</span><span class="n">i</span><span class="err">%</span><span class="mi">4</span>
<span class="w">        </span><span class="n">i</span><span class="o">+=</span><span class="mi">1</span>
<span class="w">    </span><span class="n">i</span><span class="o">+=</span><span class="mi">4</span>
<span class="n">count</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="pe-95">
<h2>PE 95<a class="headerlink" href="#pe-95" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-mathematica notranslate"><div class="highlight"><pre><span></span><span class="nv">#</span><span class="w"> </span><span class="mi">95</span><span class="w"> </span><span class="n">Amicable</span><span class="w"> </span><span class="n">Chains</span>
<span class="n">def</span><span class="w"> </span><span class="n">ami</span><span class="p">(</span><span class="n">n</span><span class="p">)</span><span class="err">:</span>
<span class="w">    </span><span class="n">return</span><span class="w"> </span><span class="n">sigma</span><span class="p">(</span><span class="n">n</span><span class="p">)</span><span class="o">-</span><span class="n">n</span>
<span class="n">def</span><span class="w"> </span><span class="nv">amicable_chain</span><span class="p">(</span><span class="n">n</span><span class="p">,</span><span class="n">limit</span><span class="o">=</span><span class="mi">10</span><span class="o">^</span><span class="mi">6</span><span class="p">)</span><span class="err">:</span>
<span class="w">    </span><span class="n">chain</span><span class="o">=</span><span class="p">[</span><span class="n">n</span><span class="p">,</span><span class="n">ami</span><span class="p">(</span><span class="n">n</span><span class="p">)]</span>
<span class="w">    </span><span class="n">if</span><span class="w"> </span><span class="n">chain</span><span class="p">[</span><span class="mi">-1</span><span class="p">]</span><span class="o">&gt;</span><span class="n">limit</span><span class="err">:</span>
<span class="w">        </span><span class="n">return</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>
<span class="w">    </span><span class="n">while</span><span class="w"> </span><span class="n">chain</span><span class="p">[</span><span class="mi">-1</span><span class="p">]</span><span class="w"> </span><span class="n">not</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">chain</span><span class="p">[</span><span class="err">:</span><span class="mi">-1</span><span class="p">]</span><span class="err">:</span>
<span class="w">        </span><span class="n">if</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">chain</span><span class="err">:</span>
<span class="w">            </span><span class="n">return</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>
<span class="w">        </span><span class="n">num</span><span class="o">=</span><span class="n">ami</span><span class="p">(</span><span class="n">chain</span><span class="p">[</span><span class="mi">-1</span><span class="p">])</span>
<span class="w">        </span><span class="n">if</span><span class="w"> </span><span class="n">num</span><span class="o">&gt;</span><span class="n">limit</span><span class="err">:</span>
<span class="w">            </span><span class="n">return</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>
<span class="w">        </span><span class="n">chain</span><span class="err">.</span><span class="n">append</span><span class="p">(</span><span class="n">num</span><span class="p">)</span>
<span class="w">    </span><span class="n">return</span><span class="w"> </span><span class="p">(</span><span class="n">len</span><span class="p">(</span><span class="n">chain</span><span class="p">)</span><span class="mi">-1</span><span class="p">,</span><span class="n">min</span><span class="p">(</span><span class="n">chain</span><span class="p">))</span><span class="w"> </span><span class="n">if</span><span class="w"> </span><span class="n">chain</span><span class="p">[</span><span class="mi">-1</span><span class="p">]</span><span class="o">==</span><span class="n">chain</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="w"> </span><span class="n">else</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>
<span class="n">l</span><span class="o">=</span><span class="mi">10</span><span class="o">^</span><span class="mi">5</span>
<span class="n">record</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>
<span class="n">for</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(,</span><span class="n">l</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span><span class="err">:</span>
<span class="w">    </span><span class="n">record</span><span class="o">=</span><span class="n">max</span><span class="p">(</span><span class="n">record</span><span class="p">,</span><span class="nv">amicable_chain</span><span class="p">(</span><span class="n">i</span><span class="p">))</span>
<span class="n">record</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="pe-96">
<h2>PE 96<a class="headerlink" href="#pe-96" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-mathematica notranslate"><div class="highlight"><pre><span></span><span class="n">d</span><span class="o">=</span><span class="p">{</span><span class="mi">0</span><span class="err">:</span><span class="p">[[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">],[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">],[</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="p">],</span>
<span class="w">      </span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">],[</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">],[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">],</span>
<span class="w">      </span><span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">0</span><span class="p">],[</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">],[</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">]],</span>
<span class="w">   </span><span class="mi">1</span><span class="err">:</span><span class="p">[[</span><span class="mi">0</span><span class="p">,</span><span class="mi">3</span><span class="p">],[</span><span class="mi">0</span><span class="p">,</span><span class="mi">4</span><span class="p">],[</span><span class="mi">0</span><span class="p">,</span><span class="mi">5</span><span class="p">],</span>
<span class="w">      </span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">],[</span><span class="mi">1</span><span class="p">,</span><span class="mi">4</span><span class="p">],[</span><span class="mi">1</span><span class="p">,</span><span class="mi">5</span><span class="p">],</span>
<span class="w">      </span><span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">],[</span><span class="mi">2</span><span class="p">,</span><span class="mi">4</span><span class="p">],[</span><span class="mi">2</span><span class="p">,</span><span class="mi">5</span><span class="p">]],</span>
<span class="w">   </span><span class="mi">2</span><span class="err">:</span><span class="p">[[</span><span class="mi">0</span><span class="p">,</span><span class="mi">6</span><span class="p">],[</span><span class="mi">0</span><span class="p">,</span><span class="mi">7</span><span class="p">],[</span><span class="mi">0</span><span class="p">,</span><span class="mi">8</span><span class="p">],</span>
<span class="w">      </span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">6</span><span class="p">],[</span><span class="mi">1</span><span class="p">,</span><span class="mi">7</span><span class="p">],[</span><span class="mi">1</span><span class="p">,</span><span class="mi">8</span><span class="p">],</span>
<span class="w">      </span><span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">6</span><span class="p">],[</span><span class="mi">2</span><span class="p">,</span><span class="mi">7</span><span class="p">],[</span><span class="mi">2</span><span class="p">,</span><span class="mi">8</span><span class="p">]],</span>
<span class="w">   </span><span class="mi">3</span><span class="err">:</span><span class="p">[[</span><span class="mi">3</span><span class="p">,</span><span class="mi">0</span><span class="p">],[</span><span class="mi">3</span><span class="p">,</span><span class="mi">1</span><span class="p">],[</span><span class="mi">3</span><span class="p">,</span><span class="mi">2</span><span class="p">],</span>
<span class="w">      </span><span class="p">[</span><span class="mi">4</span><span class="p">,</span><span class="mi">0</span><span class="p">],[</span><span class="mi">4</span><span class="p">,</span><span class="mi">1</span><span class="p">],[</span><span class="mi">4</span><span class="p">,</span><span class="mi">2</span><span class="p">],</span>
<span class="w">      </span><span class="p">[</span><span class="mi">5</span><span class="p">,</span><span class="mi">0</span><span class="p">],[</span><span class="mi">5</span><span class="p">,</span><span class="mi">1</span><span class="p">],[</span><span class="mi">5</span><span class="p">,</span><span class="mi">2</span><span class="p">]],</span>
<span class="w">   </span><span class="mi">4</span><span class="err">:</span><span class="p">[[</span><span class="mi">3</span><span class="p">,</span><span class="mi">3</span><span class="p">],[</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">],[</span><span class="mi">3</span><span class="p">,</span><span class="mi">5</span><span class="p">],</span>
<span class="w">      </span><span class="p">[</span><span class="mi">4</span><span class="p">,</span><span class="mi">3</span><span class="p">],[</span><span class="mi">4</span><span class="p">,</span><span class="mi">4</span><span class="p">],[</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">],</span>
<span class="w">      </span><span class="p">[</span><span class="mi">5</span><span class="p">,</span><span class="mi">3</span><span class="p">],[</span><span class="mi">5</span><span class="p">,</span><span class="mi">4</span><span class="p">],[</span><span class="mi">5</span><span class="p">,</span><span class="mi">5</span><span class="p">]],</span>
<span class="w">   </span><span class="mi">5</span><span class="err">:</span><span class="p">[[</span><span class="mi">3</span><span class="p">,</span><span class="mi">6</span><span class="p">],[</span><span class="mi">3</span><span class="p">,</span><span class="mi">7</span><span class="p">],[</span><span class="mi">3</span><span class="p">,</span><span class="mi">8</span><span class="p">],</span>
<span class="w">      </span><span class="p">[</span><span class="mi">4</span><span class="p">,</span><span class="mi">6</span><span class="p">],[</span><span class="mi">4</span><span class="p">,</span><span class="mi">7</span><span class="p">],[</span><span class="mi">4</span><span class="p">,</span><span class="mi">8</span><span class="p">],</span>
<span class="w">      </span><span class="p">[</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">],[</span><span class="mi">5</span><span class="p">,</span><span class="mi">7</span><span class="p">],[</span><span class="mi">5</span><span class="p">,</span><span class="mi">8</span><span class="p">]],</span>
<span class="w">   </span><span class="mi">6</span><span class="err">:</span><span class="p">[[</span><span class="mi">6</span><span class="p">,</span><span class="mi">0</span><span class="p">],[</span><span class="mi">6</span><span class="p">,</span><span class="mi">1</span><span class="p">],[</span><span class="mi">6</span><span class="p">,</span><span class="mi">2</span><span class="p">],</span>
<span class="w">      </span><span class="p">[</span><span class="mi">7</span><span class="p">,</span><span class="mi">0</span><span class="p">],[</span><span class="mi">7</span><span class="p">,</span><span class="mi">1</span><span class="p">],[</span><span class="mi">7</span><span class="p">,</span><span class="mi">2</span><span class="p">],</span>
<span class="w">      </span><span class="p">[</span><span class="mi">8</span><span class="p">,</span><span class="mi">0</span><span class="p">],[</span><span class="mi">8</span><span class="p">,</span><span class="mi">1</span><span class="p">],[</span><span class="mi">8</span><span class="p">,</span><span class="mi">2</span><span class="p">]],</span>
<span class="w">   </span><span class="mi">7</span><span class="err">:</span><span class="p">[[</span><span class="mi">6</span><span class="p">,</span><span class="mi">3</span><span class="p">],[</span><span class="mi">6</span><span class="p">,</span><span class="mi">4</span><span class="p">],[</span><span class="mi">6</span><span class="p">,</span><span class="mi">5</span><span class="p">],</span>
<span class="w">      </span><span class="p">[</span><span class="mi">7</span><span class="p">,</span><span class="mi">3</span><span class="p">],[</span><span class="mi">7</span><span class="p">,</span><span class="mi">4</span><span class="p">],[</span><span class="mi">7</span><span class="p">,</span><span class="mi">5</span><span class="p">],</span>
<span class="w">      </span><span class="p">[</span><span class="mi">8</span><span class="p">,</span><span class="mi">3</span><span class="p">],[</span><span class="mi">8</span><span class="p">,</span><span class="mi">4</span><span class="p">],[</span><span class="mi">8</span><span class="p">,</span><span class="mi">5</span><span class="p">]],</span>
<span class="w">   </span><span class="mi">8</span><span class="err">:</span><span class="p">[[</span><span class="mi">6</span><span class="p">,</span><span class="mi">6</span><span class="p">],[</span><span class="mi">6</span><span class="p">,</span><span class="mi">7</span><span class="p">],[</span><span class="mi">6</span><span class="p">,</span><span class="mi">8</span><span class="p">],</span>
<span class="w">      </span><span class="p">[</span><span class="mi">7</span><span class="p">,</span><span class="mi">6</span><span class="p">],[</span><span class="mi">7</span><span class="p">,</span><span class="mi">7</span><span class="p">],[</span><span class="mi">7</span><span class="p">,</span><span class="mi">8</span><span class="p">],</span>
<span class="w">      </span><span class="p">[</span><span class="mi">8</span><span class="p">,</span><span class="mi">6</span><span class="p">],[</span><span class="mi">8</span><span class="p">,</span><span class="mi">7</span><span class="p">],[</span><span class="mi">8</span><span class="p">,</span><span class="mi">8</span><span class="p">]]}</span>
<span class="n">def</span><span class="w"> </span><span class="nv">get_box</span><span class="p">(</span><span class="n">grid</span><span class="p">,</span><span class="w"> </span><span class="n">box</span><span class="p">)</span><span class="err">:</span>
<span class="w">    </span><span class="n">br</span><span class="p">,</span><span class="w"> </span><span class="n">bc</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">divmod</span><span class="p">(</span><span class="n">box</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">)</span><span class="w">   </span><span class="nv">#</span><span class="w"> </span><span class="n">box</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="p">(</span><span class="n">box</span><span class="o">-</span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">box</span><span class="o">-</span><span class="n">col</span><span class="p">)</span>
<span class="w">    </span><span class="n">r0</span><span class="p">,</span><span class="w"> </span><span class="n">c0</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">3</span><span class="o">*</span><span class="n">br</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="o">*</span><span class="n">bc</span>
<span class="w">    </span><span class="n">return</span><span class="w"> </span><span class="p">[</span><span class="n">grid</span><span class="p">[</span><span class="n">r</span><span class="p">][</span><span class="n">c</span><span class="p">]</span><span class="w"> </span><span class="n">for</span><span class="w"> </span><span class="n">r</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="n">r0</span><span class="p">,</span><span class="w"> </span><span class="n">r0</span><span class="o">+</span><span class="mi">3</span><span class="p">)</span><span class="w"> </span><span class="n">for</span><span class="w"> </span><span class="n">c</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="n">c0</span><span class="p">,</span><span class="w"> </span><span class="n">c0</span><span class="o">+</span><span class="mi">3</span><span class="p">)]</span>
<span class="n">def</span><span class="w"> </span><span class="nv">box_grid</span><span class="p">(</span><span class="n">i</span><span class="p">,</span><span class="n">j</span><span class="p">)</span><span class="err">:</span>
<span class="w">    </span><span class="n">return</span><span class="w"> </span><span class="n">i</span><span class="o">//</span><span class="mi">3</span><span class="o">*</span><span class="mi">3</span><span class="o">+</span><span class="n">j</span><span class="o">//</span><span class="mi">3</span>
<span class="n">def</span><span class="w"> </span><span class="nv">get_box_coords</span><span class="p">(</span><span class="n">box</span><span class="p">)</span><span class="err">:</span>
<span class="w">    </span><span class="n">return</span><span class="w"> </span><span class="n">d</span><span class="p">[</span><span class="n">box</span><span class="p">]</span>
<span class="n">def</span><span class="w"> </span><span class="nv">sudoku_solve</span><span class="p">(</span><span class="n">sudoku</span><span class="p">)</span><span class="err">:</span>
<span class="w">    </span><span class="n">grid</span><span class="o">=</span><span class="p">[]</span>
<span class="w">    </span><span class="n">for</span><span class="w"> </span><span class="n">line</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">sudoku</span><span class="err">:</span>
<span class="w">        </span><span class="n">grid</span><span class="err">.</span><span class="n">append</span><span class="p">(</span><span class="n">list</span><span class="p">(</span><span class="n">map</span><span class="p">(</span><span class="n">int</span><span class="p">,</span><span class="n">line</span><span class="p">)))</span>
<span class="w">    </span><span class="n">columns</span><span class="o">=</span><span class="n">list</span><span class="p">(</span><span class="n">map</span><span class="p">(</span><span class="n">list</span><span class="p">,</span><span class="n">matrix</span><span class="p">(</span><span class="n">grid</span><span class="p">)</span><span class="err">.</span><span class="n">transpose</span><span class="p">()))</span>
<span class="w">    </span><span class="n">boxes</span><span class="o">=</span><span class="p">[</span><span class="nv">get_box</span><span class="p">(</span><span class="n">sudoku</span><span class="p">,</span><span class="n">i</span><span class="p">)</span><span class="w"> </span><span class="n">for</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="mi">9</span><span class="p">)]</span>
<span class="w">    </span><span class="n">removal</span><span class="o">=</span><span class="p">[]</span><span class="o">*</span><span class="mi">9</span>
<span class="w">    </span><span class="n">box</span><span class="o">=</span><span class="p">[]</span>
<span class="w">    </span><span class="n">for</span><span class="w"> </span><span class="n">column</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">columns</span><span class="err">:</span>
<span class="w">        </span><span class="n">lst</span><span class="o">=</span><span class="n">list</span><span class="p">(</span><span class="n">set</span><span class="p">(</span><span class="n">column</span><span class="p">))</span>
<span class="w">        </span><span class="n">removal</span><span class="err">.</span><span class="n">append</span><span class="p">(</span><span class="n">lst</span><span class="p">)</span>
<span class="w">    </span><span class="n">for</span><span class="w"> </span><span class="n">b</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">boxes</span><span class="err">:</span>
<span class="w">        </span><span class="n">lst</span><span class="o">=</span><span class="n">list</span><span class="p">(</span><span class="n">set</span><span class="p">(</span><span class="n">b</span><span class="p">))</span>
<span class="w">        </span><span class="n">box</span><span class="err">.</span><span class="n">append</span><span class="p">(</span><span class="n">lst</span><span class="p">)</span>
<span class="w">    </span><span class="n">for</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="mi">9</span><span class="p">)</span><span class="err">:</span>
<span class="w">        </span><span class="n">lst</span><span class="o">=</span><span class="n">list</span><span class="p">(</span><span class="n">set</span><span class="p">(</span><span class="n">grid</span><span class="p">[</span><span class="n">i</span><span class="p">]))</span>
<span class="w">        </span><span class="n">lst</span><span class="err">.</span><span class="n">remove</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="w">        </span><span class="n">for</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="mi">9</span><span class="p">)</span><span class="err">:</span>
<span class="w">            </span><span class="n">if</span><span class="w"> </span><span class="n">grid</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span><span class="o">==</span><span class="mi">0</span><span class="err">:</span>
<span class="w">                </span><span class="n">grid</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">8</span><span class="p">,</span><span class="mi">9</span><span class="p">]</span>
<span class="w">                </span><span class="n">for</span><span class="w"> </span><span class="n">num</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">lst</span><span class="err">:</span>
<span class="w">                    </span><span class="n">grid</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span><span class="err">.</span><span class="n">remove</span><span class="p">(</span><span class="n">num</span><span class="p">)</span>
<span class="w">    </span><span class="n">for</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="mi">9</span><span class="p">)</span><span class="err">:</span>
<span class="w">        </span><span class="n">for</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="mi">9</span><span class="p">)</span><span class="err">:</span>
<span class="w">            </span><span class="n">if</span><span class="w"> </span><span class="n">type</span><span class="p">(</span><span class="n">grid</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">])</span><span class="o">==</span><span class="n">list</span><span class="err">:</span>
<span class="w">                </span><span class="n">for</span><span class="w"> </span><span class="n">num</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">removal</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="err">:</span>
<span class="w">                    </span><span class="n">try</span><span class="err">:</span>
<span class="w">                        </span><span class="n">grid</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span><span class="err">.</span><span class="n">remove</span><span class="p">(</span><span class="n">num</span><span class="p">)</span>
<span class="w">                    </span><span class="n">except</span><span class="err">:</span>
<span class="w">                        </span><span class="n">pass</span>
<span class="w">    </span><span class="n">for</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="mi">9</span><span class="p">)</span><span class="err">:</span>
<span class="w">        </span><span class="n">for</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="mi">9</span><span class="p">)</span><span class="err">:</span>
<span class="w">            </span><span class="n">if</span><span class="w"> </span><span class="n">type</span><span class="p">(</span><span class="n">grid</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">])</span><span class="o">==</span><span class="n">list</span><span class="err">:</span>
<span class="w">                </span><span class="n">for</span><span class="w"> </span><span class="n">num</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">box</span><span class="p">[</span><span class="nv">box_grid</span><span class="p">(</span><span class="n">i</span><span class="p">,</span><span class="n">j</span><span class="p">)]</span><span class="err">:</span>
<span class="w">                    </span><span class="n">try</span><span class="err">:</span>
<span class="w">                        </span><span class="n">grid</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span><span class="err">.</span><span class="n">remove</span><span class="p">(</span><span class="n">num</span><span class="p">)</span>
<span class="w">                    </span><span class="n">except</span><span class="err">:</span>
<span class="w">                        </span><span class="n">pass</span>
<span class="w">    </span><span class="n">while</span><span class="w"> </span><span class="n">True</span><span class="err">:</span>
<span class="w">        </span><span class="n">lst</span><span class="o">=</span><span class="p">[]</span>
<span class="w">        </span><span class="n">for</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="mi">9</span><span class="p">)</span><span class="err">:</span>
<span class="w">            </span><span class="n">for</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="mi">9</span><span class="p">)</span><span class="err">:</span>
<span class="w">                </span><span class="n">if</span><span class="w"> </span><span class="n">type</span><span class="p">(</span><span class="n">grid</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">])</span><span class="o">==</span><span class="n">list</span><span class="w"> </span><span class="n">and</span><span class="w"> </span><span class="n">len</span><span class="p">(</span><span class="n">grid</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">])</span><span class="o">==</span><span class="mi">1</span><span class="err">:</span>
<span class="w">                    </span><span class="n">lst</span><span class="err">.</span><span class="n">append</span><span class="p">([</span><span class="n">i</span><span class="p">,</span><span class="n">j</span><span class="p">,</span><span class="n">grid</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">][</span><span class="mi">0</span><span class="p">],</span><span class="nv">box_grid</span><span class="p">(</span><span class="n">i</span><span class="p">,</span><span class="n">j</span><span class="p">)])</span>
<span class="w">                    </span><span class="n">grid</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span><span class="o">=</span><span class="n">grid</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>
<span class="w">        </span><span class="n">if</span><span class="w"> </span><span class="n">not</span><span class="w"> </span><span class="n">lst</span><span class="err">:</span>
<span class="w">            </span><span class="n">return</span><span class="w"> </span><span class="n">grid</span>
<span class="w">        </span><span class="n">for</span><span class="w"> </span><span class="n">val</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">lst</span><span class="err">:</span>
<span class="w">            </span><span class="n">i</span><span class="o">=</span><span class="n">val</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="w">            </span><span class="n">j</span><span class="o">=</span><span class="n">val</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
<span class="w">            </span><span class="n">num</span><span class="o">=</span><span class="n">val</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>
<span class="w">            </span><span class="n">num1</span><span class="o">=</span><span class="n">val</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span>
<span class="w">            </span><span class="n">for</span><span class="w"> </span><span class="n">k</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="mi">9</span><span class="p">)</span><span class="err">:</span>
<span class="w">                </span><span class="n">if</span><span class="w"> </span><span class="n">type</span><span class="p">(</span><span class="n">grid</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">k</span><span class="p">])</span><span class="o">==</span><span class="n">list</span><span class="w"> </span><span class="n">and</span><span class="w"> </span><span class="n">num</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">grid</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">k</span><span class="p">]</span><span class="err">:</span>
<span class="w">                    </span><span class="n">grid</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">k</span><span class="p">]</span><span class="err">.</span><span class="n">remove</span><span class="p">(</span><span class="n">num</span><span class="p">)</span>
<span class="w">            </span><span class="n">for</span><span class="w"> </span><span class="n">k</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="mi">9</span><span class="p">)</span><span class="err">:</span>
<span class="w">                </span><span class="n">if</span><span class="w"> </span><span class="n">type</span><span class="p">(</span><span class="n">grid</span><span class="p">[</span><span class="n">k</span><span class="p">][</span><span class="n">j</span><span class="p">])</span><span class="o">==</span><span class="n">list</span><span class="w"> </span><span class="n">and</span><span class="w"> </span><span class="n">num</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">grid</span><span class="p">[</span><span class="n">k</span><span class="p">][</span><span class="n">j</span><span class="p">]</span><span class="err">:</span>
<span class="w">                    </span><span class="n">grid</span><span class="p">[</span><span class="n">k</span><span class="p">][</span><span class="n">j</span><span class="p">]</span><span class="err">.</span><span class="n">remove</span><span class="p">(</span><span class="n">num</span><span class="p">)</span>
<span class="w">            </span><span class="n">for</span><span class="w"> </span><span class="n">k</span><span class="p">,</span><span class="n">l</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="nv">get_box_coords</span><span class="p">(</span><span class="n">num1</span><span class="p">)</span><span class="err">:</span>
<span class="w">                </span><span class="n">if</span><span class="w"> </span><span class="n">type</span><span class="p">(</span><span class="n">grid</span><span class="p">[</span><span class="n">k</span><span class="p">][</span><span class="n">l</span><span class="p">])</span><span class="o">==</span><span class="n">list</span><span class="w"> </span><span class="n">and</span><span class="w"> </span><span class="n">num</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">grid</span><span class="p">[</span><span class="n">k</span><span class="p">][</span><span class="n">l</span><span class="p">]</span><span class="err">:</span>
<span class="w">                    </span><span class="n">grid</span><span class="p">[</span><span class="n">k</span><span class="p">][</span><span class="n">l</span><span class="p">]</span><span class="err">.</span><span class="n">remove</span><span class="p">(</span><span class="n">num</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-mathematica notranslate"><div class="highlight"><pre><span></span><span class="n">from</span><span class="w"> </span><span class="n">copy</span><span class="w"> </span><span class="n">import</span><span class="w"> </span><span class="n">deepcopy</span>

<span class="n">def</span><span class="w"> </span><span class="nv">box_id</span><span class="p">(</span><span class="n">i</span><span class="p">,</span><span class="w"> </span><span class="n">j</span><span class="p">)</span><span class="err">:</span>
<span class="w">    </span><span class="n">return</span><span class="w"> </span><span class="p">(</span><span class="n">i</span><span class="w"> </span><span class="o">//</span><span class="w"> </span><span class="mi">3</span><span class="p">)</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="p">(</span><span class="n">j</span><span class="w"> </span><span class="o">//</span><span class="w"> </span><span class="mi">3</span><span class="p">)</span>

<span class="n">def</span><span class="w"> </span><span class="nv">box_coords_from_id</span><span class="p">(</span><span class="n">b</span><span class="p">)</span><span class="err">:</span>
<span class="w">    </span><span class="n">br</span><span class="p">,</span><span class="w"> </span><span class="n">bc</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">divmod</span><span class="p">(</span><span class="n">b</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">)</span>
<span class="w">    </span><span class="n">r0</span><span class="p">,</span><span class="w"> </span><span class="n">c0</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">3</span><span class="o">*</span><span class="n">br</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="o">*</span><span class="n">bc</span>
<span class="w">    </span><span class="n">return</span><span class="w"> </span><span class="p">[(</span><span class="n">r0</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">dr</span><span class="p">,</span><span class="w"> </span><span class="n">c0</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">dc</span><span class="p">)</span><span class="w"> </span><span class="n">for</span><span class="w"> </span><span class="n">dr</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span><span class="w"> </span><span class="n">for</span><span class="w"> </span><span class="n">dc</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="mi">3</span><span class="p">)]</span>

<span class="n">def</span><span class="w"> </span><span class="nv">parse_grid</span><span class="p">(</span><span class="n">sudoku</span><span class="p">)</span><span class="err">:</span>
<span class="w">    </span><span class="s">&quot;&quot;&quot;Accepts sudoku as list of 9 strings or iterables of digits (chars or ints).&quot;&quot;&quot;</span>
<span class="w">    </span><span class="n">grid</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[]</span>
<span class="w">    </span><span class="n">for</span><span class="w"> </span><span class="n">line</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">sudoku</span><span class="err">:</span>
<span class="w">        </span><span class="n">grid</span><span class="err">.</span><span class="n">append</span><span class="p">([</span><span class="n">int</span><span class="p">(</span><span class="n">ch</span><span class="p">)</span><span class="w"> </span><span class="n">for</span><span class="w"> </span><span class="n">ch</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">line</span><span class="p">])</span>
<span class="w">    </span><span class="n">return</span><span class="w"> </span><span class="n">grid</span>

<span class="n">def</span><span class="w"> </span><span class="nv">initial_candidates</span><span class="p">(</span><span class="n">grid</span><span class="p">)</span><span class="err">:</span>
<span class="w">    </span><span class="s">&quot;&quot;&quot;Return grid where filled cells are ints and empty cells are sets of candidates.&quot;&quot;&quot;</span>
<span class="w">    </span><span class="n">cand</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[[</span><span class="n">None</span><span class="p">]</span><span class="o">*</span><span class="mi">9</span><span class="w"> </span><span class="n">for</span><span class="w"> </span><span class="nv">_</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="mi">9</span><span class="p">)]</span>
<span class="w">    </span><span class="n">for</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="mi">9</span><span class="p">)</span><span class="err">:</span>
<span class="w">        </span><span class="n">for</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="mi">9</span><span class="p">)</span><span class="err">:</span>
<span class="w">            </span><span class="n">if</span><span class="w"> </span><span class="n">grid</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="mi">0</span><span class="err">:</span>
<span class="w">                </span><span class="n">cand</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">grid</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span>
<span class="w">            </span><span class="n">else</span><span class="err">:</span>
<span class="w">                </span><span class="n">used</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">set</span><span class="p">(</span><span class="n">grid</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">k</span><span class="p">]</span><span class="w"> </span><span class="n">for</span><span class="w"> </span><span class="n">k</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="mi">9</span><span class="p">)</span><span class="w"> </span><span class="n">if</span><span class="w"> </span><span class="n">grid</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">k</span><span class="p">]</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span>
<span class="w">                </span><span class="n">used</span><span class="w"> </span><span class="o">|=</span><span class="w"> </span><span class="n">set</span><span class="p">(</span><span class="n">grid</span><span class="p">[</span><span class="n">k</span><span class="p">][</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="n">for</span><span class="w"> </span><span class="n">k</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="mi">9</span><span class="p">)</span><span class="w"> </span><span class="n">if</span><span class="w"> </span><span class="n">grid</span><span class="p">[</span><span class="n">k</span><span class="p">][</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span>
<span class="w">                </span><span class="n">b</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">box_id</span><span class="p">(</span><span class="n">i</span><span class="p">,</span><span class="w"> </span><span class="n">j</span><span class="p">)</span>
<span class="w">                </span><span class="n">used</span><span class="w"> </span><span class="o">|=</span><span class="w"> </span><span class="n">set</span><span class="p">(</span><span class="n">grid</span><span class="p">[</span><span class="n">r</span><span class="p">][</span><span class="n">c</span><span class="p">]</span><span class="w"> </span><span class="n">for</span><span class="w"> </span><span class="n">r</span><span class="p">,</span><span class="n">c</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="nv">box_coords_from_id</span><span class="p">(</span><span class="n">b</span><span class="p">)</span><span class="w"> </span><span class="n">if</span><span class="w"> </span><span class="n">grid</span><span class="p">[</span><span class="n">r</span><span class="p">][</span><span class="n">c</span><span class="p">]</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span>
<span class="w">                </span><span class="n">cand</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">set</span><span class="p">(</span><span class="n">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">10</span><span class="p">))</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">used</span>
<span class="w">    </span><span class="n">return</span><span class="w"> </span><span class="n">cand</span>

<span class="n">def</span><span class="w"> </span><span class="n">assign</span><span class="p">(</span><span class="n">cand</span><span class="p">,</span><span class="w"> </span><span class="n">i</span><span class="p">,</span><span class="w"> </span><span class="n">j</span><span class="p">,</span><span class="w"> </span><span class="n">val</span><span class="p">)</span><span class="err">:</span>
<span class="w">    </span><span class="s">&quot;&quot;</span><span class="err">&quot;</span><span class="n">Assign</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">definite</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">cand</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">],</span><span class="w"> </span><span class="n">propagate</span><span class="w"> </span><span class="n">removal</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">peers</span><span class="err">.</span>
<span class="w">       </span><span class="n">Return</span><span class="w"> </span><span class="n">False</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">contradiction</span><span class="p">,</span><span class="w"> </span><span class="n">True</span><span class="w"> </span><span class="n">if</span><span class="w"> </span><span class="n">assignment</span><span class="w"> </span><span class="n">done</span><span class="o">/</span><span class="n">ok</span><span class="err">.</span>
<span class="w">    </span><span class="s">&quot;&quot;</span><span class="err">&quot;</span>
<span class="w">    </span><span class="n">cur</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">cand</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span>
<span class="w">    </span><span class="n">if</span><span class="w"> </span><span class="n">isinstance</span><span class="p">(</span><span class="n">cur</span><span class="p">,</span><span class="w"> </span><span class="n">int</span><span class="p">)</span><span class="err">:</span>
<span class="w">        </span><span class="n">return</span><span class="w"> </span><span class="n">cur</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">val</span>
<span class="w">    </span><span class="n">if</span><span class="w"> </span><span class="n">val</span><span class="w"> </span><span class="n">not</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">cur</span><span class="err">:</span>
<span class="w">        </span><span class="n">return</span><span class="w"> </span><span class="n">False</span>
<span class="w">    </span><span class="nv">#</span><span class="w"> </span><span class="n">set</span><span class="w"> </span><span class="n">it</span>
<span class="w">    </span><span class="n">cand</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">val</span>
<span class="w">    </span><span class="nv">#</span><span class="w"> </span><span class="n">remove</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">peers</span>
<span class="w">    </span><span class="n">for</span><span class="w"> </span><span class="n">k</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="mi">9</span><span class="p">)</span><span class="err">:</span>
<span class="w">        </span><span class="n">if</span><span class="w"> </span><span class="n">isinstance</span><span class="p">(</span><span class="n">cand</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">k</span><span class="p">],</span><span class="w"> </span><span class="n">set</span><span class="p">)</span><span class="w"> </span><span class="n">and</span><span class="w"> </span><span class="n">val</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">cand</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">k</span><span class="p">]</span><span class="err">:</span>
<span class="w">            </span><span class="n">cand</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">k</span><span class="p">]</span><span class="err">.</span><span class="n">remove</span><span class="p">(</span><span class="n">val</span><span class="p">)</span>
<span class="w">        </span><span class="n">if</span><span class="w"> </span><span class="n">isinstance</span><span class="p">(</span><span class="n">cand</span><span class="p">[</span><span class="n">k</span><span class="p">][</span><span class="n">j</span><span class="p">],</span><span class="w"> </span><span class="n">set</span><span class="p">)</span><span class="w"> </span><span class="n">and</span><span class="w"> </span><span class="n">val</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">cand</span><span class="p">[</span><span class="n">k</span><span class="p">][</span><span class="n">j</span><span class="p">]</span><span class="err">:</span>
<span class="w">            </span><span class="n">cand</span><span class="p">[</span><span class="n">k</span><span class="p">][</span><span class="n">j</span><span class="p">]</span><span class="err">.</span><span class="n">remove</span><span class="p">(</span><span class="n">val</span><span class="p">)</span>
<span class="w">    </span><span class="n">for</span><span class="w"> </span><span class="n">r</span><span class="p">,</span><span class="n">c</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="nv">box_coords_from_id</span><span class="p">(</span><span class="nv">box_id</span><span class="p">(</span><span class="n">i</span><span class="p">,</span><span class="n">j</span><span class="p">))</span><span class="err">:</span>
<span class="w">        </span><span class="n">if</span><span class="w"> </span><span class="n">isinstance</span><span class="p">(</span><span class="n">cand</span><span class="p">[</span><span class="n">r</span><span class="p">][</span><span class="n">c</span><span class="p">],</span><span class="w"> </span><span class="n">set</span><span class="p">)</span><span class="w"> </span><span class="n">and</span><span class="w"> </span><span class="n">val</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">cand</span><span class="p">[</span><span class="n">r</span><span class="p">][</span><span class="n">c</span><span class="p">]</span><span class="err">:</span>
<span class="w">            </span><span class="n">cand</span><span class="p">[</span><span class="n">r</span><span class="p">][</span><span class="n">c</span><span class="p">]</span><span class="err">.</span><span class="n">remove</span><span class="p">(</span><span class="n">val</span><span class="p">)</span>
<span class="w">    </span><span class="n">return</span><span class="w"> </span><span class="n">True</span>

<span class="n">def</span><span class="w"> </span><span class="n">propagate</span><span class="p">(</span><span class="n">cand</span><span class="p">)</span><span class="err">:</span>
<span class="w">    </span><span class="s">&quot;&quot;</span><span class="err">&quot;</span><span class="n">Iteratively</span><span class="w"> </span><span class="n">apply</span><span class="w"> </span><span class="n">naked</span><span class="w"> </span><span class="n">singles</span><span class="w"> </span><span class="n">and</span><span class="w"> </span><span class="n">hidden</span><span class="w"> </span><span class="n">singles</span><span class="w"> </span><span class="n">until</span><span class="w"> </span><span class="n">no</span><span class="w"> </span><span class="n">change</span><span class="err">.</span>
<span class="w">       </span><span class="n">Returns</span><span class="w"> </span><span class="n">False</span><span class="w"> </span><span class="n">if</span><span class="w"> </span><span class="n">contradiction</span><span class="w"> </span><span class="n">found</span><span class="w"> </span><span class="p">(</span><span class="n">empty</span><span class="w"> </span><span class="n">candidate</span><span class="w"> </span><span class="n">set</span><span class="p">),</span><span class="w"> </span><span class="n">else</span><span class="w"> </span><span class="n">cand</span><span class="err">.</span>
<span class="w">    </span><span class="s">&quot;&quot;</span><span class="err">&quot;</span>
<span class="w">    </span><span class="n">while</span><span class="w"> </span><span class="n">True</span><span class="err">:</span>
<span class="w">        </span><span class="n">changed</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">False</span>

<span class="w">        </span><span class="nv">#</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span><span class="w"> </span><span class="n">naked</span><span class="w"> </span><span class="n">singles</span><span class="err">:</span><span class="w"> </span><span class="n">assign</span><span class="w"> </span><span class="n">any</span><span class="w"> </span><span class="n">cell</span><span class="w"> </span><span class="n">with</span><span class="w"> </span><span class="n">single</span><span class="w"> </span><span class="n">candidate</span>
<span class="w">        </span><span class="n">for</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="mi">9</span><span class="p">)</span><span class="err">:</span>
<span class="w">            </span><span class="n">for</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="mi">9</span><span class="p">)</span><span class="err">:</span>
<span class="w">                </span><span class="n">if</span><span class="w"> </span><span class="n">isinstance</span><span class="p">(</span><span class="n">cand</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">],</span><span class="w"> </span><span class="n">set</span><span class="p">)</span><span class="err">:</span>
<span class="w">                    </span><span class="n">if</span><span class="w"> </span><span class="n">len</span><span class="p">(</span><span class="n">cand</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">])</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span><span class="err">:</span>
<span class="w">                        </span><span class="n">return</span><span class="w"> </span><span class="n">False</span>
<span class="w">                    </span><span class="n">if</span><span class="w"> </span><span class="n">len</span><span class="p">(</span><span class="n">cand</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">])</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">1</span><span class="err">:</span>
<span class="w">                        </span><span class="n">val</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">next</span><span class="p">(</span><span class="n">iter</span><span class="p">(</span><span class="n">cand</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]))</span>
<span class="w">                        </span><span class="n">ok</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">assign</span><span class="p">(</span><span class="n">cand</span><span class="p">,</span><span class="w"> </span><span class="n">i</span><span class="p">,</span><span class="w"> </span><span class="n">j</span><span class="p">,</span><span class="w"> </span><span class="n">val</span><span class="p">)</span>
<span class="w">                        </span><span class="n">if</span><span class="w"> </span><span class="n">not</span><span class="w"> </span><span class="n">ok</span><span class="err">:</span>
<span class="w">                            </span><span class="n">return</span><span class="w"> </span><span class="n">False</span>
<span class="w">                        </span><span class="n">changed</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">True</span>

<span class="w">        </span><span class="nv">#</span><span class="w"> </span><span class="mi">2</span><span class="p">)</span><span class="w"> </span><span class="n">hidden</span><span class="w"> </span><span class="n">singles</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">rows</span>
<span class="w">        </span><span class="n">for</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="mi">9</span><span class="p">)</span><span class="err">:</span>
<span class="w">            </span><span class="n">counts</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="n">n</span><span class="err">:</span><span class="w"> </span><span class="p">[]</span><span class="w"> </span><span class="n">for</span><span class="w"> </span><span class="n">n</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">10</span><span class="p">)}</span>
<span class="w">            </span><span class="n">for</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="mi">9</span><span class="p">)</span><span class="err">:</span>
<span class="w">                </span><span class="n">if</span><span class="w"> </span><span class="n">isinstance</span><span class="p">(</span><span class="n">cand</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">],</span><span class="w"> </span><span class="n">set</span><span class="p">)</span><span class="err">:</span>
<span class="w">                    </span><span class="n">for</span><span class="w"> </span><span class="n">n</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">cand</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span><span class="err">:</span>
<span class="w">                        </span><span class="n">counts</span><span class="p">[</span><span class="n">n</span><span class="p">]</span><span class="err">.</span><span class="n">append</span><span class="p">((</span><span class="n">i</span><span class="p">,</span><span class="n">j</span><span class="p">))</span>
<span class="w">            </span><span class="n">for</span><span class="w"> </span><span class="n">n</span><span class="p">,</span><span class="w"> </span><span class="n">cells</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">counts</span><span class="err">.</span><span class="n">items</span><span class="p">()</span><span class="err">:</span>
<span class="w">                </span><span class="n">if</span><span class="w"> </span><span class="n">len</span><span class="p">(</span><span class="n">cells</span><span class="p">)</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">1</span><span class="err">:</span>
<span class="w">                    </span><span class="n">r</span><span class="p">,</span><span class="n">c</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">cells</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="w">                    </span><span class="n">if</span><span class="w"> </span><span class="n">isinstance</span><span class="p">(</span><span class="n">cand</span><span class="p">[</span><span class="n">r</span><span class="p">][</span><span class="n">c</span><span class="p">],</span><span class="w"> </span><span class="n">set</span><span class="p">)</span><span class="err">:</span>
<span class="w">                        </span><span class="n">ok</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">assign</span><span class="p">(</span><span class="n">cand</span><span class="p">,</span><span class="w"> </span><span class="n">r</span><span class="p">,</span><span class="w"> </span><span class="n">c</span><span class="p">,</span><span class="w"> </span><span class="n">n</span><span class="p">)</span>
<span class="w">                        </span><span class="n">if</span><span class="w"> </span><span class="n">not</span><span class="w"> </span><span class="n">ok</span><span class="err">:</span>
<span class="w">                            </span><span class="n">return</span><span class="w"> </span><span class="n">False</span>
<span class="w">                        </span><span class="n">changed</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">True</span>

<span class="w">        </span><span class="nv">#</span><span class="w"> </span><span class="mi">3</span><span class="p">)</span><span class="w"> </span><span class="n">hidden</span><span class="w"> </span><span class="n">singles</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">columns</span>
<span class="w">        </span><span class="n">for</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="mi">9</span><span class="p">)</span><span class="err">:</span>
<span class="w">            </span><span class="n">counts</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="n">n</span><span class="err">:</span><span class="w"> </span><span class="p">[]</span><span class="w"> </span><span class="n">for</span><span class="w"> </span><span class="n">n</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">10</span><span class="p">)}</span>
<span class="w">            </span><span class="n">for</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="mi">9</span><span class="p">)</span><span class="err">:</span>
<span class="w">                </span><span class="n">if</span><span class="w"> </span><span class="n">isinstance</span><span class="p">(</span><span class="n">cand</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">],</span><span class="w"> </span><span class="n">set</span><span class="p">)</span><span class="err">:</span>
<span class="w">                    </span><span class="n">for</span><span class="w"> </span><span class="n">n</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">cand</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span><span class="err">:</span>
<span class="w">                        </span><span class="n">counts</span><span class="p">[</span><span class="n">n</span><span class="p">]</span><span class="err">.</span><span class="n">append</span><span class="p">((</span><span class="n">i</span><span class="p">,</span><span class="n">j</span><span class="p">))</span>
<span class="w">            </span><span class="n">for</span><span class="w"> </span><span class="n">n</span><span class="p">,</span><span class="w"> </span><span class="n">cells</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">counts</span><span class="err">.</span><span class="n">items</span><span class="p">()</span><span class="err">:</span>
<span class="w">                </span><span class="n">if</span><span class="w"> </span><span class="n">len</span><span class="p">(</span><span class="n">cells</span><span class="p">)</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">1</span><span class="err">:</span>
<span class="w">                    </span><span class="n">r</span><span class="p">,</span><span class="n">c</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">cells</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="w">                    </span><span class="n">if</span><span class="w"> </span><span class="n">isinstance</span><span class="p">(</span><span class="n">cand</span><span class="p">[</span><span class="n">r</span><span class="p">][</span><span class="n">c</span><span class="p">],</span><span class="w"> </span><span class="n">set</span><span class="p">)</span><span class="err">:</span>
<span class="w">                        </span><span class="n">ok</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">assign</span><span class="p">(</span><span class="n">cand</span><span class="p">,</span><span class="w"> </span><span class="n">r</span><span class="p">,</span><span class="w"> </span><span class="n">c</span><span class="p">,</span><span class="w"> </span><span class="n">n</span><span class="p">)</span>
<span class="w">                        </span><span class="n">if</span><span class="w"> </span><span class="n">not</span><span class="w"> </span><span class="n">ok</span><span class="err">:</span>
<span class="w">                            </span><span class="n">return</span><span class="w"> </span><span class="n">False</span>
<span class="w">                        </span><span class="n">changed</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">True</span>

<span class="w">        </span><span class="nv">#</span><span class="w"> </span><span class="mi">4</span><span class="p">)</span><span class="w"> </span><span class="n">hidden</span><span class="w"> </span><span class="n">singles</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">boxes</span>
<span class="w">        </span><span class="n">for</span><span class="w"> </span><span class="n">b</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="mi">9</span><span class="p">)</span><span class="err">:</span>
<span class="w">            </span><span class="n">counts</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="n">n</span><span class="err">:</span><span class="w"> </span><span class="p">[]</span><span class="w"> </span><span class="n">for</span><span class="w"> </span><span class="n">n</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">10</span><span class="p">)}</span>
<span class="w">            </span><span class="n">for</span><span class="w"> </span><span class="n">r</span><span class="p">,</span><span class="n">c</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="nv">box_coords_from_id</span><span class="p">(</span><span class="n">b</span><span class="p">)</span><span class="err">:</span>
<span class="w">                </span><span class="n">if</span><span class="w"> </span><span class="n">isinstance</span><span class="p">(</span><span class="n">cand</span><span class="p">[</span><span class="n">r</span><span class="p">][</span><span class="n">c</span><span class="p">],</span><span class="w"> </span><span class="n">set</span><span class="p">)</span><span class="err">:</span>
<span class="w">                    </span><span class="n">for</span><span class="w"> </span><span class="n">n</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">cand</span><span class="p">[</span><span class="n">r</span><span class="p">][</span><span class="n">c</span><span class="p">]</span><span class="err">:</span>
<span class="w">                        </span><span class="n">counts</span><span class="p">[</span><span class="n">n</span><span class="p">]</span><span class="err">.</span><span class="n">append</span><span class="p">((</span><span class="n">r</span><span class="p">,</span><span class="n">c</span><span class="p">))</span>
<span class="w">            </span><span class="n">for</span><span class="w"> </span><span class="n">n</span><span class="p">,</span><span class="w"> </span><span class="n">cells</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">counts</span><span class="err">.</span><span class="n">items</span><span class="p">()</span><span class="err">:</span>
<span class="w">                </span><span class="n">if</span><span class="w"> </span><span class="n">len</span><span class="p">(</span><span class="n">cells</span><span class="p">)</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">1</span><span class="err">:</span>
<span class="w">                    </span><span class="n">r</span><span class="p">,</span><span class="n">c</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">cells</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="w">                    </span><span class="n">if</span><span class="w"> </span><span class="n">isinstance</span><span class="p">(</span><span class="n">cand</span><span class="p">[</span><span class="n">r</span><span class="p">][</span><span class="n">c</span><span class="p">],</span><span class="w"> </span><span class="n">set</span><span class="p">)</span><span class="err">:</span>
<span class="w">                        </span><span class="n">ok</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">assign</span><span class="p">(</span><span class="n">cand</span><span class="p">,</span><span class="w"> </span><span class="n">r</span><span class="p">,</span><span class="w"> </span><span class="n">c</span><span class="p">,</span><span class="w"> </span><span class="n">n</span><span class="p">)</span>
<span class="w">                        </span><span class="n">if</span><span class="w"> </span><span class="n">not</span><span class="w"> </span><span class="n">ok</span><span class="err">:</span>
<span class="w">                            </span><span class="n">return</span><span class="w"> </span><span class="n">False</span>
<span class="w">                        </span><span class="n">changed</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">True</span>

<span class="w">        </span><span class="n">if</span><span class="w"> </span><span class="n">not</span><span class="w"> </span><span class="n">changed</span><span class="err">:</span>
<span class="w">            </span><span class="n">break</span>
<span class="w">    </span><span class="n">return</span><span class="w"> </span><span class="n">cand</span>

<span class="n">def</span><span class="w"> </span><span class="nv">is_solved</span><span class="p">(</span><span class="n">cand</span><span class="p">)</span><span class="err">:</span>
<span class="w">    </span><span class="n">return</span><span class="w"> </span><span class="n">all</span><span class="p">(</span><span class="n">isinstance</span><span class="p">(</span><span class="n">cand</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">],</span><span class="w"> </span><span class="n">int</span><span class="p">)</span><span class="w"> </span><span class="n">for</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="mi">9</span><span class="p">)</span><span class="w"> </span><span class="n">for</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="mi">9</span><span class="p">))</span>

<span class="n">def</span><span class="w"> </span><span class="nv">deep_solve</span><span class="p">(</span><span class="n">cand</span><span class="p">)</span><span class="err">:</span>
<span class="w">    </span><span class="s">&quot;&quot;&quot;Backtracking search using propagation. Return solved grid or None.&quot;&quot;&quot;</span>
<span class="w">    </span><span class="n">cand</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">propagate</span><span class="p">(</span><span class="n">cand</span><span class="p">)</span>
<span class="w">    </span><span class="n">if</span><span class="w"> </span><span class="n">cand</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">False</span><span class="err">:</span>
<span class="w">        </span><span class="n">return</span><span class="w"> </span><span class="n">None</span>
<span class="w">    </span><span class="n">if</span><span class="w"> </span><span class="nv">is_solved</span><span class="p">(</span><span class="n">cand</span><span class="p">)</span><span class="err">:</span>
<span class="w">        </span><span class="n">return</span><span class="w"> </span><span class="n">cand</span>
<span class="w">    </span><span class="nv">#</span><span class="w"> </span><span class="n">pick</span><span class="w"> </span><span class="n">unfilled</span><span class="w"> </span><span class="n">cell</span><span class="w"> </span><span class="n">with</span><span class="w"> </span><span class="n">fewest</span><span class="w"> </span><span class="n">candidates</span>
<span class="w">    </span><span class="n">best</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">None</span>
<span class="w">    </span><span class="nv">best_len</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">10</span>
<span class="w">    </span><span class="n">for</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="mi">9</span><span class="p">)</span><span class="err">:</span>
<span class="w">        </span><span class="n">for</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="mi">9</span><span class="p">)</span><span class="err">:</span>
<span class="w">            </span><span class="n">if</span><span class="w"> </span><span class="n">isinstance</span><span class="p">(</span><span class="n">cand</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">],</span><span class="w"> </span><span class="n">set</span><span class="p">)</span><span class="err">:</span>
<span class="w">                </span><span class="n">l</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">len</span><span class="p">(</span><span class="n">cand</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">])</span>
<span class="w">                </span><span class="n">if</span><span class="w"> </span><span class="n">l</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="nv">best_len</span><span class="err">:</span>
<span class="w">                    </span><span class="nv">best_len</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">l</span>
<span class="w">                    </span><span class="n">best</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">i</span><span class="p">,</span><span class="n">j</span><span class="p">)</span>
<span class="w">    </span><span class="n">if</span><span class="w"> </span><span class="n">best</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">None</span><span class="err">:</span>
<span class="w">        </span><span class="n">return</span><span class="w"> </span><span class="n">None</span>
<span class="w">    </span><span class="n">i</span><span class="p">,</span><span class="n">j</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">best</span>
<span class="w">    </span><span class="n">for</span><span class="w"> </span><span class="n">val</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">sorted</span><span class="p">(</span><span class="n">cand</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">])</span><span class="err">:</span>
<span class="w">        </span><span class="nv">cand_copy</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">deepcopy</span><span class="p">(</span><span class="n">cand</span><span class="p">)</span>
<span class="w">        </span><span class="n">ok</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">assign</span><span class="p">(</span><span class="nv">cand_copy</span><span class="p">,</span><span class="w"> </span><span class="n">i</span><span class="p">,</span><span class="w"> </span><span class="n">j</span><span class="p">,</span><span class="w"> </span><span class="n">val</span><span class="p">)</span>
<span class="w">        </span><span class="n">if</span><span class="w"> </span><span class="n">not</span><span class="w"> </span><span class="n">ok</span><span class="err">:</span>
<span class="w">            </span><span class="n">continue</span>
<span class="w">        </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">deep_solve</span><span class="p">(</span><span class="nv">cand_copy</span><span class="p">)</span>
<span class="w">        </span><span class="n">if</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">not</span><span class="w"> </span><span class="n">None</span><span class="err">:</span>
<span class="w">            </span><span class="n">return</span><span class="w"> </span><span class="n">result</span>
<span class="w">    </span><span class="n">return</span><span class="w"> </span><span class="n">None</span>

<span class="n">def</span><span class="w"> </span><span class="nv">sudoku_solve</span><span class="p">(</span><span class="n">sudoku</span><span class="p">,</span><span class="w"> </span><span class="nv">do_backtrack</span><span class="o">=</span><span class="n">True</span><span class="p">)</span><span class="err">:</span>
<span class="w">    </span><span class="n">grid</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">parse_grid</span><span class="p">(</span><span class="n">sudoku</span><span class="p">)</span>
<span class="w">    </span><span class="n">cand</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">initial_candidates</span><span class="p">(</span><span class="n">grid</span><span class="p">)</span>
<span class="w">    </span><span class="n">solved</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">propagate</span><span class="p">(</span><span class="n">cand</span><span class="p">)</span>
<span class="w">    </span><span class="n">if</span><span class="w"> </span><span class="n">solved</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">False</span><span class="err">:</span>
<span class="w">        </span><span class="n">return</span><span class="w"> </span><span class="n">None</span>
<span class="w">    </span><span class="n">if</span><span class="w"> </span><span class="nv">is_solved</span><span class="p">(</span><span class="n">solved</span><span class="p">)</span><span class="err">:</span>
<span class="w">        </span><span class="n">return</span><span class="w"> </span><span class="n">solved</span>
<span class="w">    </span><span class="n">if</span><span class="w"> </span><span class="nv">do_backtrack</span><span class="err">:</span>
<span class="w">        </span><span class="n">return</span><span class="w"> </span><span class="nv">deep_solve</span><span class="p">(</span><span class="n">solved</span><span class="p">)</span>
<span class="w">    </span><span class="n">return</span><span class="w"> </span><span class="n">solved</span><span class="w">  </span><span class="nv">#</span><span class="w"> </span><span class="n">partial</span><span class="w"> </span><span class="n">grid</span><span class="w"> </span><span class="n">with</span><span class="w"> </span><span class="n">candidate</span><span class="w"> </span><span class="n">sets</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-mathematica notranslate"><div class="highlight"><pre><span></span><span class="n">import</span><span class="w"> </span><span class="n">requests</span>
<span class="n">response</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">requests</span><span class="err">.</span><span class="n">get</span><span class="p">(</span><span class="s">&quot;https://projecteuler.net/resources/documents/0096_sudoku.txt&quot;</span><span class="p">)</span><span class="w">   </span><span class="nv">#</span><span class="w"> </span><span class="n">Send</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">GET</span><span class="w"> </span><span class="n">request</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">URL</span>
<span class="n">content</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">response</span><span class="err">.</span><span class="n">text</span><span class="w">     </span><span class="nv">#</span><span class="w"> </span><span class="n">Read</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">content</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">response</span>
<span class="n">content</span><span class="o">=</span><span class="n">content</span><span class="err">.</span><span class="n">split</span><span class="p">(</span><span class="err">&#39;\</span><span class="n">n</span><span class="err">&#39;</span><span class="p">)</span>
<span class="n">count</span><span class="o">=</span><span class="mi">0</span>
<span class="n">content</span><span class="o">=</span><span class="n">content</span><span class="p">[</span><span class="mi">1</span><span class="err">:</span><span class="p">]</span>
<span class="n">for</span><span class="w"> </span><span class="nv">_</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="mi">50</span><span class="p">)</span><span class="err">:</span>
<span class="w">    </span><span class="n">lst</span><span class="o">=</span><span class="p">[</span><span class="n">list</span><span class="p">(</span><span class="n">map</span><span class="p">(</span><span class="n">int</span><span class="p">,</span><span class="n">row</span><span class="p">))</span><span class="w"> </span><span class="n">for</span><span class="w"> </span><span class="n">row</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">content</span><span class="p">[</span><span class="err">:</span><span class="mi">9</span><span class="p">]]</span>
<span class="w">    </span><span class="n">content</span><span class="o">=</span><span class="n">content</span><span class="p">[</span><span class="mi">10</span><span class="err">:</span><span class="p">]</span>
<span class="w">    </span><span class="n">solved</span><span class="o">=</span><span class="n">sudoku</span><span class="p">(</span><span class="n">matrix</span><span class="p">(</span><span class="n">lst</span><span class="p">))</span>
<span class="w">    </span><span class="n">count</span><span class="o">+=</span><span class="n">int</span><span class="p">(</span><span class="n">str</span><span class="p">(</span><span class="n">solved</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">])</span><span class="o">+</span><span class="n">str</span><span class="p">(</span><span class="n">solved</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">1</span><span class="p">])</span><span class="o">+</span><span class="n">str</span><span class="p">(</span><span class="n">solved</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">2</span><span class="p">]))</span>
<span class="n">count</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-mathematica notranslate"><div class="highlight"><pre><span></span><span class="n">import</span><span class="w"> </span><span class="n">requests</span>
<span class="n">response</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">requests</span><span class="err">.</span><span class="n">get</span><span class="p">(</span><span class="s">&quot;https://projecteuler.net/resources/documents/0096_sudoku.txt&quot;</span><span class="p">)</span><span class="w">   </span><span class="nv">#</span><span class="w"> </span><span class="n">Send</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">GET</span><span class="w"> </span><span class="n">request</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">URL</span>
<span class="n">content</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">response</span><span class="err">.</span><span class="n">text</span><span class="w">     </span><span class="nv">#</span><span class="w"> </span><span class="n">Read</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">content</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">response</span>
<span class="n">content</span><span class="o">=</span><span class="n">content</span><span class="err">.</span><span class="n">split</span><span class="p">(</span><span class="err">&#39;\</span><span class="n">n</span><span class="err">&#39;</span><span class="p">)</span>
<span class="n">count</span><span class="o">=</span><span class="mi">0</span>
<span class="n">content</span><span class="o">=</span><span class="n">content</span><span class="p">[</span><span class="mi">1</span><span class="err">:</span><span class="p">]</span>
<span class="n">for</span><span class="w"> </span><span class="nv">_</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="mi">50</span><span class="p">)</span><span class="err">:</span>
<span class="w">    </span><span class="n">sudoku</span><span class="o">=</span><span class="nv">sudoku_solve</span><span class="p">(</span><span class="n">content</span><span class="p">[</span><span class="err">:</span><span class="mi">9</span><span class="p">])</span>
<span class="w">    </span><span class="n">count</span><span class="o">+=</span><span class="n">int</span><span class="p">(</span><span class="n">str</span><span class="p">(</span><span class="n">sudoku</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">])</span><span class="o">+</span><span class="n">str</span><span class="p">(</span><span class="n">sudoku</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">1</span><span class="p">])</span><span class="o">+</span><span class="n">str</span><span class="p">(</span><span class="n">sudoku</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">2</span><span class="p">]))</span>
<span class="w">    </span><span class="n">content</span><span class="o">=</span><span class="n">content</span><span class="p">[</span><span class="mi">10</span><span class="err">:</span><span class="p">]</span>
<span class="n">count</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="pe-98">
<h2>PE 98<a class="headerlink" href="#pe-98" title="Link to this heading">#</a></h2>
<p>Take notes</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-mathematica notranslate"><div class="highlight"><pre><span></span><span class="nv">#</span><span class="w"> </span><span class="mi">98</span><span class="w"> </span><span class="n">Anagramic</span><span class="w"> </span><span class="n">Squares</span>
<span class="nv">#</span><span class="w"> </span><span class="n">import</span><span class="w"> </span><span class="n">requests</span>
<span class="nv">#</span><span class="w"> </span><span class="n">response</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">requests</span><span class="err">.</span><span class="n">get</span><span class="p">(</span><span class="s">&quot;https://projecteuler.net/resources/documents/0098_words.txt&quot;</span><span class="p">)</span><span class="w">   </span><span class="nv">#</span><span class="w"> </span><span class="n">Send</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">GET</span><span class="w"> </span><span class="n">request</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">URL</span>
<span class="nv">#</span><span class="w"> </span><span class="n">content</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">response</span><span class="err">.</span><span class="n">text</span><span class="w">     </span><span class="nv">#</span><span class="w"> </span><span class="n">Read</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">content</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">response</span>
<span class="n">lst</span><span class="o">=</span><span class="n">content</span><span class="err">.</span><span class="n">split</span><span class="p">(</span><span class="err">&#39;</span><span class="p">,</span><span class="err">&#39;</span><span class="p">)</span>
<span class="n">lst</span><span class="o">=</span><span class="p">[</span><span class="n">word</span><span class="p">[</span><span class="mi">1</span><span class="err">:</span><span class="mi">-1</span><span class="p">]</span><span class="w"> </span><span class="n">for</span><span class="w"> </span><span class="n">word</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">lst</span><span class="p">]</span>
<span class="nv">letter_list</span><span class="o">=</span><span class="p">[</span><span class="n">sorted</span><span class="p">(</span><span class="n">list</span><span class="p">(</span><span class="n">word</span><span class="p">))</span><span class="w"> </span><span class="n">for</span><span class="w"> </span><span class="n">word</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">lst</span><span class="p">]</span>
<span class="nv">new_lst</span><span class="o">=</span><span class="p">[]</span>
<span class="n">for</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="n">len</span><span class="p">(</span><span class="n">lst</span><span class="p">))</span><span class="err">:</span>
<span class="w">    </span><span class="n">if</span><span class="w"> </span><span class="nv">letter_list</span><span class="err">.</span><span class="n">count</span><span class="p">(</span><span class="nv">letter_list</span><span class="p">[</span><span class="n">i</span><span class="p">])</span><span class="o">&gt;</span><span class="mi">1</span><span class="err">:</span>
<span class="w">        </span><span class="nv">new_lst</span><span class="err">.</span><span class="n">append</span><span class="p">(</span><span class="n">lst</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
<span class="nv">#</span><span class="w"> </span><span class="n">squares</span><span class="o">=</span><span class="p">[</span><span class="n">i</span><span class="o">^</span><span class="mi">2</span><span class="w"> </span><span class="n">for</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="mi">31623</span><span class="p">)]</span>
<span class="nv">#</span><span class="w"> </span><span class="nv">number_squares</span><span class="o">=</span><span class="p">[</span><span class="n">sorted</span><span class="p">(</span><span class="n">list</span><span class="p">(</span><span class="n">str</span><span class="p">(</span><span class="n">num</span><span class="p">)))</span><span class="w"> </span><span class="n">for</span><span class="w"> </span><span class="n">num</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">squares</span><span class="p">]</span>
<span class="nv">#</span><span class="w"> </span><span class="nv">new_squares</span><span class="o">=</span><span class="p">[]</span>
<span class="nv">#</span><span class="w"> </span><span class="n">for</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="n">len</span><span class="p">(</span><span class="n">squares</span><span class="p">))</span><span class="err">:</span>
<span class="nv">#</span><span class="w">     </span><span class="n">print</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
<span class="nv">#</span><span class="w">     </span><span class="n">if</span><span class="w"> </span><span class="nv">number_squares</span><span class="err">.</span><span class="n">count</span><span class="p">(</span><span class="nv">number_squares</span><span class="p">[</span><span class="n">i</span><span class="p">])</span><span class="o">&gt;</span><span class="mi">1</span><span class="err">:</span>
<span class="nv">#</span><span class="w">         </span><span class="nv">new_squares</span><span class="err">.</span><span class="n">append</span><span class="p">(</span><span class="n">squares</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
<span class="nv">#</span><span class="w"> </span><span class="nv">new_squares</span>
<span class="nv">new_lst</span><span class="err">.</span><span class="n">sort</span><span class="p">(</span><span class="n">key</span><span class="o">=</span><span class="n">len</span><span class="p">)</span>
<span class="nv">new_lst</span><span class="o">=</span><span class="nv">new_lst</span><span class="p">[</span><span class="mi">14</span><span class="err">:</span><span class="p">]</span><span class="w"> </span><span class="nv">#</span><span class="w"> </span><span class="n">delete</span><span class="w"> </span><span class="n">NO</span><span class="w"> </span><span class="n">and</span><span class="w"> </span><span class="n">ON</span><span class="w"> </span><span class="n">because</span><span class="w"> </span><span class="n">two</span><span class="w"> </span><span class="n">digit</span><span class="w"> </span><span class="n">square</span><span class="w"> </span><span class="n">anagrams</span><span class="w"> </span><span class="n">don</span><span class="err">&#39;</span><span class="n">t</span><span class="w"> </span><span class="n">exist</span>
<span class="nv">new_lst</span><span class="err">.</span><span class="n">reverse</span><span class="p">()</span>
<span class="nv">new_lst</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-mathematica notranslate"><div class="highlight"><pre><span></span><span class="n">pairing</span><span class="o">=</span><span class="p">{}</span>
<span class="n">for</span><span class="w"> </span><span class="n">word1</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="nv">new_lst</span><span class="err">:</span>
<span class="w">    </span><span class="n">for</span><span class="w"> </span><span class="n">word2</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="nv">new_lst</span><span class="err">:</span>
<span class="w">        </span><span class="n">if</span><span class="w"> </span><span class="n">sorted</span><span class="p">(</span><span class="n">word1</span><span class="p">)</span><span class="o">==</span><span class="n">sorted</span><span class="p">(</span><span class="n">word2</span><span class="p">)</span><span class="err">:</span>
<span class="w">            </span><span class="n">pairing</span><span class="err">.</span><span class="n">update</span><span class="p">({</span><span class="n">word1</span><span class="err">:</span><span class="n">word2</span><span class="p">})</span>
<span class="w">            </span><span class="n">break</span>
<span class="nv">new_pairing</span><span class="o">=</span><span class="p">{}</span>
<span class="n">for</span><span class="w"> </span><span class="n">word</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">pairing</span><span class="err">:</span>
<span class="w">    </span><span class="n">if</span><span class="w"> </span><span class="n">pairing</span><span class="p">[</span><span class="n">word</span><span class="p">]</span><span class="o">!=</span><span class="n">word</span><span class="err">:</span>
<span class="w">        </span><span class="nv">new_pairing</span><span class="err">.</span><span class="n">update</span><span class="p">({</span><span class="n">word</span><span class="err">:</span><span class="n">pairing</span><span class="p">[</span><span class="n">word</span><span class="p">]})</span>
<span class="nv">new_pairing</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-mathematica notranslate"><div class="highlight"><pre><span></span><span class="n">pattern</span><span class="p">(</span><span class="err">&#39;</span><span class="n">CREATION</span><span class="err">&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-mathematica notranslate"><div class="highlight"><pre><span></span><span class="n">def</span><span class="w"> </span><span class="n">pattern</span><span class="p">(</span><span class="n">word</span><span class="p">)</span><span class="err">:</span>
<span class="w">    </span><span class="n">lst1</span><span class="o">=</span><span class="n">list</span><span class="p">(</span><span class="n">word</span><span class="p">)</span>
<span class="w">    </span><span class="n">lst2</span><span class="o">=</span><span class="n">list</span><span class="p">(</span><span class="nv">new_pairing</span><span class="p">[</span><span class="n">word</span><span class="p">])</span>
<span class="w">    </span><span class="n">ans</span><span class="o">=</span><span class="p">[]</span>
<span class="w">    </span><span class="n">for</span><span class="w"> </span><span class="n">letter</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">lst2</span><span class="err">:</span>
<span class="w">        </span><span class="n">ans</span><span class="err">.</span><span class="n">append</span><span class="p">(</span><span class="n">lst1</span><span class="err">.</span><span class="n">index</span><span class="p">(</span><span class="n">letter</span><span class="p">))</span>
<span class="w">    </span><span class="n">return</span><span class="w"> </span><span class="n">ans</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-mathematica notranslate"><div class="highlight"><pre><span></span><span class="n">pattern</span><span class="p">(</span><span class="err">&#39;</span><span class="n">CARE</span><span class="err">&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-mathematica notranslate"><div class="highlight"><pre><span></span><span class="n">for</span><span class="w"> </span><span class="n">word</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="nv">new_pairing</span><span class="err">:</span>
<span class="w">    </span><span class="n">for</span><span class="w"> </span><span class="n">num</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="nv">new_squares</span><span class="err">:</span>
<span class="w">        </span><span class="n">sn</span><span class="o">=</span><span class="n">str</span><span class="p">(</span><span class="n">num</span><span class="p">)</span>
<span class="w">        </span><span class="n">if</span><span class="w"> </span><span class="n">len</span><span class="p">(</span><span class="n">sn</span><span class="p">)</span><span class="o">==</span><span class="n">len</span><span class="p">(</span><span class="n">word</span><span class="p">)</span><span class="err">:</span>
<span class="w">            </span><span class="nv">new_s</span><span class="o">=</span><span class="err">&#39;&#39;</span>
<span class="w">            </span><span class="n">pat</span><span class="o">=</span><span class="n">pattern</span><span class="p">(</span><span class="n">word</span><span class="p">)</span>
<span class="w">            </span><span class="n">for</span><span class="w"> </span><span class="n">idx</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">pat</span><span class="err">:</span>
<span class="w">                </span><span class="nv">new_s</span><span class="o">+=</span><span class="n">sn</span><span class="p">[</span><span class="n">idx</span><span class="p">]</span>
<span class="w">            </span><span class="nv">new_sn</span><span class="o">=</span><span class="n">int</span><span class="p">(</span><span class="nv">new_s</span><span class="p">)</span>
<span class="w">            </span><span class="n">if</span><span class="w"> </span><span class="nv">is_square</span><span class="p">(</span><span class="nv">new_sn</span><span class="p">)</span><span class="w"> </span><span class="n">and</span><span class="w"> </span><span class="n">sorted</span><span class="p">(</span><span class="n">list</span><span class="p">(</span><span class="n">sn</span><span class="p">))</span><span class="o">==</span><span class="n">sorted</span><span class="p">(</span><span class="n">list</span><span class="p">(</span><span class="n">set</span><span class="p">(</span><span class="n">sn</span><span class="p">)))</span><span class="err">:</span>
<span class="w">                </span><span class="n">print</span><span class="p">(</span><span class="n">word</span><span class="p">)</span>
<span class="w">                </span><span class="n">print</span><span class="p">(</span><span class="nv">new_pairing</span><span class="p">[</span><span class="n">word</span><span class="p">])</span>
<span class="w">                </span><span class="n">print</span><span class="p">(</span><span class="nv">new_sn</span><span class="p">)</span>
<span class="w">                </span><span class="n">print</span><span class="p">(</span><span class="n">int</span><span class="p">(</span><span class="n">sn</span><span class="p">))</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="pe-99">
<h2>PE 99<a class="headerlink" href="#pe-99" title="Link to this heading">#</a></h2>
<p>In this question, I learned Ordinal theory (VS. Cardinal theory):</p>
<ul class="simple">
<li><p>Ordinal data only introduces a ordering/ranking (e.g. A&gt;B), but we dont know how large A or B is.</p></li>
<li><p>Cardinal further tell how many of each thing, or showing quantity (e.g. 2&gt;1)</p></li>
</ul>
<p>When comparing huge numbers, I dont need to know how many they are, I just need to where they are (their ranking). So I can use log to shrink their coordinates:</p>
<div class="math notranslate nohighlight">
\[base^{exponent} =e^{exponentlog(base)}\]</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-mathematica notranslate"><div class="highlight"><pre><span></span><span class="nv">#</span><span class="w"> </span><span class="mi">99</span><span class="w"> </span><span class="n">Largest</span><span class="w"> </span><span class="n">Exponential</span>
<span class="n">import</span><span class="w"> </span><span class="n">sys</span>
<span class="n">import</span><span class="w"> </span><span class="n">requests</span>
<span class="nv">#</span><span class="w"> </span><span class="n">sys</span><span class="err">.</span><span class="nv">set_int_max_str_digits</span><span class="p">(</span><span class="mi">4000000</span><span class="p">)</span>
<span class="n">response</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">requests</span><span class="err">.</span><span class="n">get</span><span class="p">(</span><span class="s">&quot;https://projecteuler.net/resources/documents/0099_base_exp.txt&quot;</span><span class="p">)</span>
<span class="n">content</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">response</span><span class="err">.</span><span class="n">text</span><span class="w">     </span><span class="nv">#</span><span class="w"> </span><span class="n">Read</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">content</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">response</span>
<span class="nv">#</span><span class="w"> </span><span class="n">Split</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">data</span><span class="w"> </span><span class="n">into</span><span class="w"> </span><span class="n">lines</span>
<span class="n">lines</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">content</span><span class="err">.</span><span class="n">strip</span><span class="p">()</span><span class="err">.</span><span class="n">split</span><span class="p">(</span><span class="s">&quot;\n&quot;</span><span class="p">)</span>

<span class="n">column1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[]</span>
<span class="n">column2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[]</span>

<span class="n">for</span><span class="w"> </span><span class="n">line</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">lines</span><span class="err">:</span>
<span class="w">    </span><span class="nv">#</span><span class="w"> </span><span class="n">Split</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">line</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">comma</span><span class="w"> </span><span class="n">and</span><span class="w"> </span><span class="n">convert</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">integers</span>
<span class="w">    </span><span class="n">num1</span><span class="p">,</span><span class="w"> </span><span class="n">num2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">map</span><span class="p">(</span><span class="n">int</span><span class="p">,</span><span class="w"> </span><span class="n">line</span><span class="err">.</span><span class="n">split</span><span class="p">(</span><span class="s">&quot;,&quot;</span><span class="p">))</span>
<span class="w">    </span><span class="nv">#</span><span class="w"> </span><span class="n">Append</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">numbers</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">respective</span><span class="w"> </span><span class="n">lists</span>
<span class="w">    </span><span class="n">column1</span><span class="err">.</span><span class="n">append</span><span class="p">(</span><span class="n">num1</span><span class="p">)</span>
<span class="w">    </span><span class="n">column2</span><span class="err">.</span><span class="n">append</span><span class="p">(</span><span class="n">num2</span><span class="p">)</span>

<span class="n">record</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">]</span>

<span class="n">for</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="mi">1000</span><span class="p">)</span><span class="err">:</span>
<span class="w">    </span><span class="n">if</span><span class="w"> </span><span class="n">np</span><span class="err">.</span><span class="n">log</span><span class="p">(</span><span class="n">record</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span><span class="o">*</span><span class="n">record</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">&lt;</span><span class="n">np</span><span class="err">.</span><span class="n">log</span><span class="p">(</span><span class="n">column1</span><span class="p">[</span><span class="n">i</span><span class="p">])</span><span class="o">*</span><span class="n">column2</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="err">:</span>
<span class="w">        </span><span class="n">record</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">=</span><span class="n">column1</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
<span class="w">        </span><span class="n">record</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">=</span><span class="n">column2</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
<span class="w">        </span><span class="n">record</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">=</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span>
<span class="n">record</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-mathematica notranslate"><div class="highlight"><pre><span></span><span class="c">(* 99 Largest Exponential</span>
<span class="c">   [[2]] denotes the 2nd item in {{1,2},{1,2}} *)</span>
<span class="n">data</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Import</span><span class="p">[</span><span class="s">&quot;https://projecteuler.net/resources/documents/0099_base_exp.txt&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;CSV&quot;</span><span class="p">];</span>
<span class="n">new</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Map</span><span class="p">[</span><span class="nv">#</span><span class="p">[[</span><span class="mi">2</span><span class="p">]]</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">Log</span><span class="p">[</span><span class="nv">#</span><span class="p">[[</span><span class="mi">1</span><span class="p">]]]</span><span class="w"> </span><span class="o">&amp;</span><span class="p">,</span><span class="w"> </span><span class="n">data</span><span class="p">];</span>
<span class="n">Position</span><span class="p">[</span><span class="n">new</span><span class="p">,</span><span class="w"> </span><span class="n">Max</span><span class="p">[</span><span class="n">new</span><span class="p">]]</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-mathematica notranslate"><div class="highlight"><pre><span></span><span class="mi">881418</span><span class="o">**</span><span class="mi">505504</span><span class="o">&gt;</span><span class="mi">960290</span><span class="o">**</span><span class="mi">502358</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="pe-100">
<h2>PE 100<a class="headerlink" href="#pe-100" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-mathematica notranslate"><div class="highlight"><pre><span></span><span class="mi">5</span><span class="o">*</span><span class="mi">2</span><span class="o">^</span><span class="mi">12</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-mathematica notranslate"><div class="highlight"><pre><span></span><span class="n">def</span><span class="w"> </span><span class="n">blue</span><span class="p">(</span><span class="n">k</span><span class="p">)</span><span class="err">:</span>
<span class="w">    </span><span class="n">return</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="n">if</span><span class="w"> </span><span class="n">k</span><span class="o">==</span><span class="mi">1</span><span class="w"> </span><span class="n">else</span><span class="w"> </span><span class="mi">3</span><span class="o">*</span><span class="n">blue</span><span class="p">(</span><span class="n">k</span><span class="mi">-1</span><span class="p">)</span><span class="o">+</span><span class="mi">2</span><span class="o">*</span><span class="n">total</span><span class="p">(</span><span class="n">k</span><span class="mi">-1</span><span class="p">)</span><span class="mi">-2</span>
<span class="n">def</span><span class="w"> </span><span class="n">total</span><span class="p">(</span><span class="n">k</span><span class="p">)</span><span class="err">:</span>
<span class="w">    </span><span class="n">return</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="n">if</span><span class="w"> </span><span class="n">k</span><span class="o">==</span><span class="mi">1</span><span class="w"> </span><span class="n">else</span><span class="w"> </span><span class="mi">4</span><span class="o">*</span><span class="n">blue</span><span class="p">(</span><span class="n">k</span><span class="mi">-1</span><span class="p">)</span><span class="o">+</span><span class="mi">3</span><span class="o">*</span><span class="n">total</span><span class="p">(</span><span class="n">k</span><span class="mi">-1</span><span class="p">)</span><span class="mi">-3</span>
<span class="n">for</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">101</span><span class="p">)</span><span class="err">:</span>
<span class="w">    </span><span class="n">print</span><span class="p">(</span><span class="n">n</span><span class="p">(</span><span class="n">log</span><span class="p">(</span><span class="n">total</span><span class="p">(</span><span class="n">i</span><span class="p">),</span><span class="mi">10</span><span class="p">)))</span>
<span class="w">    </span><span class="n">if</span><span class="w"> </span><span class="n">total</span><span class="p">(</span><span class="n">i</span><span class="p">)</span><span class="o">&gt;</span><span class="mi">10</span><span class="o">^</span><span class="mi">9</span><span class="err">:</span>
<span class="w">        </span><span class="n">print</span><span class="p">(</span><span class="n">blue</span><span class="p">(</span><span class="n">i</span><span class="p">))</span>
<span class="w">        </span><span class="n">break</span>
</pre></div>
</div>
</div>
</div>
</section>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="project-leonhard">
<h1>Project Leonhard<a class="headerlink" href="#project-leonhard" title="Link to this heading">#</a></h1>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-mathematica notranslate"><div class="highlight"><pre><span></span><span class="n">def</span><span class="w"> </span><span class="n">f</span><span class="p">(</span><span class="n">n</span><span class="p">)</span><span class="err">:</span>
<span class="w">    </span><span class="n">return</span><span class="w"> </span><span class="n">sum</span><span class="p">([</span><span class="n">i</span><span class="w"> </span><span class="n">for</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="n">n</span><span class="p">)</span><span class="w"> </span><span class="n">if</span><span class="w"> </span><span class="n">floor</span><span class="p">(</span><span class="nv">euler_phi</span><span class="p">(</span><span class="n">i</span><span class="o">^</span><span class="mi">2</span><span class="p">)</span><span class="o">^</span><span class="p">(</span><span class="mi">1</span><span class="o">/</span><span class="mi">3</span><span class="p">))</span><span class="o">==</span><span class="nv">euler_phi</span><span class="p">(</span><span class="n">i</span><span class="o">^</span><span class="mi">2</span><span class="p">)</span><span class="o">^</span><span class="p">(</span><span class="mi">1</span><span class="o">/</span><span class="mi">3</span><span class="p">)])</span>
<span class="n">for</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">16</span><span class="p">)</span><span class="err">:</span>
<span class="w">    </span><span class="n">print</span><span class="p">(</span><span class="n">str</span><span class="p">(</span><span class="n">i</span><span class="p">)</span><span class="o">+</span><span class="err">&#39;:&#39;</span><span class="o">+</span><span class="n">str</span><span class="p">(</span><span class="n">f</span><span class="p">(</span><span class="mi">2</span><span class="o">^</span><span class="n">i</span><span class="p">))</span><span class="o">+</span><span class="err">&#39;</span><span class="p">,</span><span class="err">&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-mathematica notranslate"><div class="highlight"><pre><span></span><span class="n">def</span><span class="w"> </span><span class="n">f</span><span class="p">(</span><span class="n">n</span><span class="p">)</span><span class="err">:</span>
<span class="w">    </span><span class="n">return</span><span class="w"> </span><span class="n">sum</span><span class="p">([</span><span class="nv">euler_phi</span><span class="p">(</span><span class="n">n</span><span class="o">^</span><span class="n">i</span><span class="p">)</span><span class="w"> </span><span class="n">for</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="n">n</span><span class="o">+</span><span class="mi">1</span><span class="p">)])</span><span class="err">%</span><span class="p">(</span><span class="n">n</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span>
<span class="n">def</span><span class="w"> </span><span class="n">g</span><span class="p">(</span><span class="n">n</span><span class="p">)</span><span class="err">:</span>
<span class="w">    </span><span class="n">return</span><span class="w"> </span><span class="n">sum</span><span class="p">([</span><span class="n">f</span><span class="p">(</span><span class="n">i</span><span class="p">)</span><span class="w"> </span><span class="n">for</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="n">n</span><span class="o">+</span><span class="mi">1</span><span class="p">)])</span>
<span class="n">for</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">11</span><span class="p">)</span><span class="err">:</span>
<span class="w">    </span><span class="n">print</span><span class="p">(</span><span class="n">str</span><span class="p">(</span><span class="n">i</span><span class="p">)</span><span class="o">+</span><span class="err">&#39;:&#39;</span><span class="o">+</span><span class="n">str</span><span class="p">(</span><span class="n">g</span><span class="p">(</span><span class="mi">2</span><span class="o">^</span><span class="n">i</span><span class="p">))</span><span class="o">+</span><span class="err">&#39;</span><span class="p">,</span><span class="err">&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-mathematica notranslate"><div class="highlight"><pre><span></span><span class="n">def</span><span class="w"> </span><span class="n">f</span><span class="p">(</span><span class="n">n</span><span class="p">)</span><span class="err">:</span>
<span class="w">    </span><span class="n">return</span><span class="w"> </span><span class="n">len</span><span class="p">(</span><span class="n">list</span><span class="p">(</span><span class="n">filter</span><span class="p">(</span><span class="n">lambda</span><span class="w"> </span><span class="n">x</span><span class="err">:</span><span class="n">x</span><span class="o">&lt;=</span><span class="n">n</span><span class="p">,</span><span class="n">divisors</span><span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="n">n</span><span class="o">^</span><span class="mi">2</span><span class="p">))))</span>
<span class="n">def</span><span class="w"> </span><span class="n">g</span><span class="p">(</span><span class="n">n</span><span class="p">)</span><span class="err">:</span>
<span class="w">    </span><span class="n">return</span><span class="w"> </span><span class="n">sum</span><span class="p">([</span><span class="n">f</span><span class="p">(</span><span class="n">i</span><span class="p">)</span><span class="w"> </span><span class="n">for</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="n">n</span><span class="o">+</span><span class="mi">1</span><span class="p">)])</span>
<span class="n">for</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">16</span><span class="p">)</span><span class="err">:</span>
<span class="w">    </span><span class="n">print</span><span class="p">(</span><span class="n">str</span><span class="p">(</span><span class="n">i</span><span class="p">)</span><span class="o">+</span><span class="err">&#39;:&#39;</span><span class="o">+</span><span class="n">str</span><span class="p">(</span><span class="n">g</span><span class="p">(</span><span class="mi">2</span><span class="o">^</span><span class="n">i</span><span class="p">))</span><span class="o">+</span><span class="err">&#39;</span><span class="p">,</span><span class="err">&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-mathematica notranslate"><div class="highlight"><pre><span></span><span class="n">def</span><span class="w"> </span><span class="nv">max_square</span><span class="p">(</span><span class="n">n</span><span class="p">)</span><span class="err">:</span>
<span class="w">    </span><span class="n">if</span><span class="w"> </span><span class="nv">is_square</span><span class="p">(</span><span class="n">n</span><span class="p">)</span><span class="err">:</span>
<span class="w">        </span><span class="n">return</span><span class="w"> </span><span class="n">n</span>
<span class="w">    </span><span class="n">for</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="n">isqrt</span><span class="p">(</span><span class="n">n</span><span class="p">)</span><span class="o">+</span><span class="mi">1</span><span class="p">)[</span><span class="err">::</span><span class="mi">-1</span><span class="p">]</span><span class="err">:</span>
<span class="w">        </span><span class="n">if</span><span class="w"> </span><span class="n">n</span><span class="err">%</span><span class="n">i</span><span class="o">^</span><span class="mi">2</span><span class="o">==</span><span class="mi">0</span><span class="err">:</span>
<span class="w">            </span><span class="n">return</span><span class="w"> </span><span class="n">i</span><span class="o">^</span><span class="mi">2</span>
<span class="n">def</span><span class="w"> </span><span class="n">g</span><span class="p">(</span><span class="n">n</span><span class="p">)</span><span class="err">:</span>
<span class="w">    </span><span class="n">return</span><span class="w"> </span><span class="n">sum</span><span class="p">([</span><span class="nv">max_square</span><span class="p">(</span><span class="n">i</span><span class="p">)</span><span class="w"> </span><span class="n">for</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="n">n</span><span class="o">+</span><span class="mi">1</span><span class="p">)])</span>
<span class="n">for</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">16</span><span class="p">)</span><span class="err">:</span>
<span class="w">    </span><span class="n">print</span><span class="p">(</span><span class="n">str</span><span class="p">(</span><span class="n">i</span><span class="p">)</span><span class="o">+</span><span class="err">&#39;:&#39;</span><span class="o">+</span><span class="n">str</span><span class="p">(</span><span class="n">g</span><span class="p">(</span><span class="mi">2</span><span class="o">^</span><span class="n">i</span><span class="p">))</span><span class="o">+</span><span class="err">&#39;</span><span class="p">,</span><span class="err">&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-mathematica notranslate"><div class="highlight"><pre><span></span><span class="n">def</span><span class="w"> </span><span class="n">g</span><span class="p">(</span><span class="n">n</span><span class="p">)</span><span class="err">:</span>
<span class="w">    </span><span class="n">return</span><span class="w"> </span><span class="n">sum</span><span class="p">([(</span><span class="mi">-1</span><span class="p">)</span><span class="o">^</span><span class="n">i</span><span class="o">*</span><span class="n">gcd</span><span class="p">(</span><span class="n">n</span><span class="p">,</span><span class="n">i</span><span class="o">^</span><span class="mi">2</span><span class="p">)</span><span class="w"> </span><span class="n">for</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="n">n</span><span class="o">+</span><span class="mi">1</span><span class="p">)])</span>
<span class="n">def</span><span class="w"> </span><span class="n">f</span><span class="p">(</span><span class="n">n</span><span class="p">)</span><span class="err">:</span>
<span class="w">    </span><span class="n">return</span><span class="w"> </span><span class="n">sum</span><span class="p">([</span><span class="n">g</span><span class="p">(</span><span class="n">i</span><span class="p">)</span><span class="w"> </span><span class="n">for</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="n">n</span><span class="o">+</span><span class="mi">1</span><span class="p">)])</span>
<span class="n">for</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">11</span><span class="p">)</span><span class="err">:</span>
<span class="w">    </span><span class="n">print</span><span class="p">(</span><span class="n">str</span><span class="p">(</span><span class="n">i</span><span class="p">)</span><span class="o">+</span><span class="err">&#39;:&#39;</span><span class="o">+</span><span class="n">str</span><span class="p">(</span><span class="n">f</span><span class="p">(</span><span class="mi">3</span><span class="o">*</span><span class="mi">2</span><span class="o">^</span><span class="n">i</span><span class="p">))</span><span class="o">+</span><span class="err">&#39;</span><span class="p">,</span><span class="err">&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-mathematica notranslate"><div class="highlight"><pre><span></span><span class="nv">#</span><span class="w"> </span><span class="mi">611</span>
<span class="n">count</span><span class="o">=</span><span class="mi">0</span>
<span class="n">lst</span><span class="o">=</span><span class="p">[]</span>
<span class="n">for</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">500</span><span class="p">)</span><span class="err">:</span>
<span class="w">    </span><span class="n">for</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="n">i</span><span class="p">)</span><span class="err">:</span>
<span class="w">        </span><span class="n">if</span><span class="w"> </span><span class="n">i</span><span class="o">^</span><span class="mi">2</span><span class="o">+</span><span class="n">j</span><span class="o">^</span><span class="mi">2</span><span class="o">&lt;</span><span class="mi">3</span><span class="o">*</span><span class="mi">2</span><span class="o">^</span><span class="mi">16</span><span class="err">:</span>
<span class="w">            </span><span class="n">if</span><span class="w"> </span><span class="n">i</span><span class="o">^</span><span class="mi">2</span><span class="o">+</span><span class="n">j</span><span class="o">^</span><span class="mi">2</span><span class="w"> </span><span class="n">not</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">lst</span><span class="err">:</span>
<span class="w">                </span><span class="n">lst</span><span class="err">.</span><span class="n">append</span><span class="p">(</span><span class="n">i</span><span class="o">^</span><span class="mi">2</span><span class="o">+</span><span class="n">j</span><span class="o">^</span><span class="mi">2</span><span class="p">)</span>
<span class="w">            </span><span class="n">else</span><span class="err">:</span>
<span class="w">                </span><span class="n">lst</span><span class="err">.</span><span class="n">remove</span><span class="p">(</span><span class="n">i</span><span class="o">^</span><span class="mi">2</span><span class="o">+</span><span class="n">j</span><span class="o">^</span><span class="mi">2</span><span class="p">)</span>
<span class="n">len</span><span class="p">(</span><span class="n">lst</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-mathematica notranslate"><div class="highlight"><pre><span></span><span class="n">memo</span><span class="o">=</span><span class="n">memo1</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-mathematica notranslate"><div class="highlight"><pre><span></span><span class="n">memo1</span><span class="o">=</span><span class="p">{</span><span class="n">i</span><span class="err">:</span><span class="n">g</span><span class="p">(</span><span class="n">i</span><span class="p">)</span><span class="err">%</span><span class="mi">20092010</span><span class="w"> </span><span class="n">for</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="mi">3</span><span class="o">*</span><span class="mi">10</span><span class="o">^</span><span class="mi">6</span><span class="p">,</span><span class="mi">3</span><span class="o">*</span><span class="mi">10</span><span class="o">^</span><span class="mi">6</span><span class="o">+</span><span class="mi">2026</span><span class="p">)}</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-mathematica notranslate"><div class="highlight"><pre><span></span><span class="nv">#</span><span class="w"> </span><span class="mi">258</span>
<span class="n">def</span><span class="w"> </span><span class="n">g</span><span class="p">(</span><span class="n">k</span><span class="p">)</span><span class="err">:</span>
<span class="w">    </span><span class="n">if</span><span class="w"> </span><span class="mi">0</span><span class="o">&lt;=</span><span class="n">k</span><span class="o">&lt;=</span><span class="mi">1999</span><span class="err">:</span>
<span class="w">        </span><span class="n">return</span><span class="w"> </span><span class="mi">1</span>
<span class="w">    </span><span class="n">elif</span><span class="w"> </span><span class="n">k</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">memo</span><span class="err">:</span>
<span class="w">        </span><span class="n">return</span><span class="w"> </span><span class="n">memo</span><span class="p">[</span><span class="n">k</span><span class="p">]</span>
<span class="w">    </span><span class="n">ans</span><span class="o">=</span><span class="n">g</span><span class="p">(</span><span class="n">k</span><span class="mi">-2000</span><span class="p">)</span><span class="o">+</span><span class="n">g</span><span class="p">(</span><span class="n">k</span><span class="mi">-1999</span><span class="p">)</span>
<span class="w">    </span><span class="n">memo</span><span class="err">.</span><span class="n">update</span><span class="p">({</span><span class="n">k</span><span class="err">:</span><span class="n">ans</span><span class="p">})</span>
<span class="w">    </span><span class="n">return</span><span class="w"> </span><span class="n">ans</span>
<span class="n">g</span><span class="p">(</span><span class="mi">10</span><span class="o">^</span><span class="mi">7</span><span class="p">)</span><span class="err">%</span><span class="mi">20092010</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-mathematica notranslate"><div class="highlight"><pre><span></span><span class="mi">1000</span><span class="o">*</span><span class="mi">4</span><span class="o">^</span><span class="mi">10</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-mathematica notranslate"><div class="highlight"><pre><span></span><span class="nv">#</span><span class="w"> </span><span class="n">count</span><span class="w"> </span><span class="n">primes</span>
<span class="n">for</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">10</span><span class="p">)</span><span class="err">:</span>
<span class="w">    </span><span class="n">print</span><span class="p">(</span><span class="n">i</span><span class="p">,</span><span class="n">len</span><span class="p">(</span><span class="nv">prime_range</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">1000</span><span class="o">*</span><span class="mi">4</span><span class="o">^</span><span class="n">i</span><span class="p">)))</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-mathematica notranslate"><div class="highlight"><pre><span></span><span class="n">memo</span><span class="o">=</span><span class="n">memo1</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-mathematica notranslate"><div class="highlight"><pre><span></span><span class="n">memo1</span><span class="o">=</span><span class="p">{</span><span class="n">i</span><span class="err">:</span><span class="n">g</span><span class="p">(</span><span class="n">i</span><span class="p">)</span><span class="err">%</span><span class="mi">20092010</span><span class="w"> </span><span class="n">for</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="mi">3</span><span class="o">*</span><span class="mi">10</span><span class="o">^</span><span class="mi">6</span><span class="p">,</span><span class="mi">3</span><span class="o">*</span><span class="mi">10</span><span class="o">^</span><span class="mi">6</span><span class="o">+</span><span class="mi">2026</span><span class="p">)}</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-mathematica notranslate"><div class="highlight"><pre><span></span><span class="nv">#</span><span class="w"> </span><span class="mi">258</span>
<span class="n">def</span><span class="w"> </span><span class="n">g</span><span class="p">(</span><span class="n">k</span><span class="p">)</span><span class="err">:</span>
<span class="w">    </span><span class="n">if</span><span class="w"> </span><span class="mi">0</span><span class="o">&lt;=</span><span class="n">k</span><span class="o">&lt;=</span><span class="mi">1999</span><span class="err">:</span>
<span class="w">        </span><span class="n">return</span><span class="w"> </span><span class="mi">1</span>
<span class="w">    </span><span class="n">elif</span><span class="w"> </span><span class="n">k</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">memo</span><span class="err">:</span>
<span class="w">        </span><span class="n">return</span><span class="w"> </span><span class="n">memo</span><span class="p">[</span><span class="n">k</span><span class="p">]</span>
<span class="w">    </span><span class="n">ans</span><span class="o">=</span><span class="n">g</span><span class="p">(</span><span class="n">k</span><span class="mi">-2000</span><span class="p">)</span><span class="o">+</span><span class="n">g</span><span class="p">(</span><span class="n">k</span><span class="mi">-1999</span><span class="p">)</span>
<span class="w">    </span><span class="n">memo</span><span class="err">.</span><span class="n">update</span><span class="p">({</span><span class="n">k</span><span class="err">:</span><span class="n">ans</span><span class="p">})</span>
<span class="w">    </span><span class="n">return</span><span class="w"> </span><span class="n">ans</span>
<span class="n">g</span><span class="p">(</span><span class="mi">10</span><span class="o">^</span><span class="mi">7</span><span class="p">)</span><span class="err">%</span><span class="mi">20092010</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-mathematica notranslate"><div class="highlight"><pre><span></span><span class="n">a</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-mathematica notranslate"><div class="highlight"><pre><span></span><span class="n">import</span><span class="w"> </span><span class="n">requests</span>
<span class="n">response</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">requests</span><span class="err">.</span><span class="n">get</span><span class="p">(</span><span class="s">&quot;https://oeis.org/A055401/b055401.txt&quot;</span><span class="p">)</span><span class="w">   </span><span class="nv">#</span><span class="w"> </span><span class="n">Send</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">GET</span><span class="w"> </span><span class="n">request</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">URL</span>
<span class="n">content</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">response</span><span class="err">.</span><span class="n">text</span><span class="w">     </span><span class="nv">#</span><span class="w"> </span><span class="n">Read</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">content</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">response</span>
<span class="n">lst</span><span class="o">=</span><span class="n">content</span><span class="err">.</span><span class="n">split</span><span class="p">(</span><span class="err">&#39;\</span><span class="n">n</span><span class="err">&#39;</span><span class="p">)</span>
<span class="n">lst</span><span class="o">=</span><span class="n">lst</span><span class="p">[</span><span class="err">:</span><span class="mi">100</span><span class="p">]</span>
<span class="n">lst</span><span class="o">=</span><span class="p">[</span><span class="n">int</span><span class="p">(</span><span class="n">lst1</span><span class="err">.</span><span class="n">split</span><span class="p">()[</span><span class="mi">1</span><span class="p">])</span><span class="w"> </span><span class="n">for</span><span class="w"> </span><span class="n">lst1</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">lst</span><span class="p">]</span>
<span class="n">sum</span><span class="p">(</span><span class="n">lst</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-mathematica notranslate"><div class="highlight"><pre><span></span><span class="n">def</span><span class="w"> </span><span class="nv">re_cube</span><span class="p">(</span><span class="n">num</span><span class="p">)</span><span class="err">:</span>
<span class="w">    </span><span class="n">count</span><span class="o">=</span><span class="mi">0</span>
<span class="w">    </span><span class="n">while</span><span class="w"> </span><span class="n">num</span><span class="o">!=</span><span class="mi">0</span><span class="err">:</span>
<span class="w">        </span><span class="n">num</span><span class="o">-=</span><span class="n">floor</span><span class="p">(</span><span class="n">num</span><span class="o">^</span><span class="p">(</span><span class="mi">1</span><span class="o">/</span><span class="mi">3</span><span class="p">))</span><span class="o">^</span><span class="mi">3</span>
<span class="w">        </span><span class="n">count</span><span class="o">+=</span><span class="mi">1</span>
<span class="w">    </span><span class="n">return</span><span class="w"> </span><span class="n">count</span>
<span class="n">def</span><span class="w"> </span><span class="n">s</span><span class="p">(</span><span class="n">n</span><span class="p">)</span><span class="err">:</span>
<span class="w">    </span><span class="n">return</span><span class="w"> </span><span class="n">sum</span><span class="p">([</span><span class="nv">re_cube</span><span class="p">(</span><span class="n">i</span><span class="p">)</span><span class="w"> </span><span class="n">for</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="n">n</span><span class="p">)])</span>
<span class="n">for</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">11</span><span class="p">)</span><span class="err">:</span>
<span class="w">    </span><span class="n">print</span><span class="p">(</span><span class="n">i</span><span class="p">,</span><span class="n">s</span><span class="p">(</span><span class="mi">3</span><span class="o">^</span><span class="n">i</span><span class="p">))</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-mathematica notranslate"><div class="highlight"><pre><span></span><span class="n">def</span><span class="w"> </span><span class="n">a</span><span class="p">(</span><span class="n">n</span><span class="p">)</span><span class="err">:</span>
<span class="w">    </span><span class="n">return</span><span class="w"> </span><span class="n">sum</span><span class="p">([</span><span class="n">lcm</span><span class="p">(</span><span class="n">i</span><span class="p">,</span><span class="n">n</span><span class="p">)</span><span class="w"> </span><span class="n">for</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="n">n</span><span class="o">+</span><span class="mi">1</span><span class="p">)])</span><span class="o">//</span><span class="n">n</span>
<span class="n">def</span><span class="w"> </span><span class="n">s</span><span class="p">(</span><span class="n">n</span><span class="p">)</span><span class="err">:</span>
<span class="w">    </span><span class="n">return</span><span class="w"> </span><span class="n">sum</span><span class="p">([</span><span class="n">a</span><span class="p">(</span><span class="n">i</span><span class="p">)</span><span class="w"> </span><span class="n">for</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="n">n</span><span class="o">+</span><span class="mi">1</span><span class="p">)])</span>
<span class="n">for</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">16</span><span class="p">)</span><span class="err">:</span>
<span class="w">    </span><span class="n">print</span><span class="p">(</span><span class="n">i</span><span class="p">,</span><span class="n">s</span><span class="p">(</span><span class="mi">2</span><span class="o">^</span><span class="n">i</span><span class="p">))</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-mathematica notranslate"><div class="highlight"><pre><span></span><span class="n">def</span><span class="w"> </span><span class="n">semiprime</span><span class="p">(</span><span class="n">n</span><span class="p">)</span><span class="err">:</span>
<span class="w">    </span><span class="n">lst</span><span class="o">=</span><span class="n">list</span><span class="p">(</span><span class="n">factor</span><span class="p">(</span><span class="n">n</span><span class="p">))</span>
<span class="w">    </span><span class="n">return</span><span class="w"> </span><span class="p">(</span><span class="n">len</span><span class="p">(</span><span class="n">lst</span><span class="p">)</span><span class="o">==</span><span class="mi">1</span><span class="w"> </span><span class="n">and</span><span class="w"> </span><span class="n">lst</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span><span class="o">==</span><span class="mi">2</span><span class="p">)</span><span class="w"> </span><span class="n">or</span><span class="w"> </span><span class="p">(</span><span class="n">len</span><span class="p">(</span><span class="n">lst</span><span class="p">)</span><span class="o">==</span><span class="mi">2</span><span class="w"> </span><span class="n">and</span><span class="w"> </span><span class="n">lst</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span><span class="o">==</span><span class="mi">1</span><span class="w"> </span><span class="n">and</span><span class="w"> </span><span class="n">lst</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span><span class="o">==</span><span class="mi">1</span><span class="p">)</span>
<span class="n">for</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">21</span><span class="p">)</span><span class="err">:</span>
<span class="w">    </span><span class="n">print</span><span class="p">(</span><span class="n">i</span><span class="p">,</span><span class="n">len</span><span class="p">([</span><span class="n">i</span><span class="w"> </span><span class="n">for</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="o">*</span><span class="mi">2</span><span class="o">^</span><span class="n">i</span><span class="p">)</span><span class="w"> </span><span class="n">if</span><span class="w"> </span><span class="n">semiprime</span><span class="p">(</span><span class="n">i</span><span class="p">)]))</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-mathematica notranslate"><div class="highlight"><pre><span></span><span class="n">memo</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-mathematica notranslate"><div class="highlight"><pre><span></span><span class="n">def</span><span class="w"> </span><span class="n">a</span><span class="p">(</span><span class="n">n</span><span class="p">)</span><span class="err">:</span>
<span class="w">    </span><span class="n">if</span><span class="w"> </span><span class="n">n</span><span class="o">==</span><span class="mi">0</span><span class="err">:</span>
<span class="w">        </span><span class="n">return</span><span class="w"> </span><span class="mi">1</span>
<span class="w">    </span><span class="n">elif</span><span class="w"> </span><span class="n">n</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">memo</span><span class="err">:</span>
<span class="w">        </span><span class="n">return</span><span class="w"> </span><span class="n">memo</span><span class="p">[</span><span class="n">n</span><span class="p">]</span>
<span class="w">    </span><span class="n">ans</span><span class="o">=</span><span class="n">a</span><span class="p">(</span><span class="n">n</span><span class="mi">-1</span><span class="p">)</span><span class="o">+</span><span class="n">sum</span><span class="p">(</span><span class="n">list</span><span class="p">(</span><span class="n">map</span><span class="p">(</span><span class="n">int</span><span class="p">,</span><span class="n">str</span><span class="p">(</span><span class="n">a</span><span class="p">(</span><span class="n">n</span><span class="mi">-1</span><span class="p">)))))</span>
<span class="w">    </span><span class="n">memo</span><span class="err">.</span><span class="n">update</span><span class="p">({</span><span class="n">n</span><span class="err">:</span><span class="n">ans</span><span class="p">})</span>
<span class="w">    </span><span class="n">return</span><span class="w"> </span><span class="n">ans</span>
<span class="n">for</span><span class="w"> </span><span class="n">limit</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="p">[</span><span class="mi">20000</span><span class="p">,</span><span class="mi">40000</span><span class="p">,</span><span class="mi">80000</span><span class="p">,</span><span class="mi">160000</span><span class="p">,</span><span class="mi">320000</span><span class="p">,</span><span class="mi">640000</span><span class="p">,</span><span class="mi">1000000</span><span class="p">,</span><span class="mi">1280000</span><span class="p">]</span><span class="err">:</span>
<span class="w">    </span><span class="n">for</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="n">limit</span><span class="p">,</span><span class="mi">2900</span><span class="p">)</span><span class="err">:</span>
<span class="w">        </span><span class="n">a</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
<span class="w">    </span><span class="n">print</span><span class="p">(</span><span class="n">limit</span><span class="p">,</span><span class="n">a</span><span class="p">(</span><span class="n">limit</span><span class="p">))</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-mathematica notranslate"><div class="highlight"><pre><span></span><span class="n">def</span><span class="w"> </span><span class="n">m</span><span class="p">(</span><span class="n">n</span><span class="p">)</span><span class="err">:</span>
<span class="w">    </span><span class="n">count</span><span class="o">=</span><span class="mi">1</span>
<span class="w">    </span><span class="n">while</span><span class="w"> </span><span class="n">True</span><span class="err">:</span>
<span class="w">        </span><span class="n">if</span><span class="w"> </span><span class="n">factorial</span><span class="p">(</span><span class="n">count</span><span class="p">)</span><span class="err">%</span><span class="n">n</span><span class="o">==</span><span class="mi">0</span><span class="err">:</span>
<span class="w">            </span><span class="n">return</span><span class="w"> </span><span class="n">count</span>
<span class="w">        </span><span class="n">count</span><span class="o">+=</span><span class="mi">1</span>
<span class="n">def</span><span class="w"> </span><span class="n">s</span><span class="p">(</span><span class="n">n</span><span class="p">)</span><span class="err">:</span>
<span class="w">    </span><span class="n">return</span><span class="w"> </span><span class="n">sum</span><span class="p">([</span><span class="n">m</span><span class="p">(</span><span class="n">i</span><span class="p">)</span><span class="w"> </span><span class="n">for</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="n">n</span><span class="o">+</span><span class="mi">1</span><span class="p">)])</span>
<span class="n">for</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">13</span><span class="p">)</span><span class="err">:</span>
<span class="w">    </span><span class="n">print</span><span class="p">(</span><span class="n">i</span><span class="p">,</span><span class="n">s</span><span class="p">(</span><span class="mi">2</span><span class="o">^</span><span class="n">i</span><span class="p">))</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-mathematica notranslate"><div class="highlight"><pre><span></span><span class="n">def</span><span class="w"> </span><span class="n">f</span><span class="p">(</span><span class="n">n</span><span class="p">)</span><span class="err">:</span>
<span class="w">    </span><span class="n">return</span><span class="w"> </span><span class="n">len</span><span class="p">([</span><span class="mi">0</span><span class="w"> </span><span class="n">for</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="n">n</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span><span class="w"> </span><span class="n">if</span><span class="w"> </span><span class="n">len</span><span class="p">(</span><span class="n">divisors</span><span class="p">(</span><span class="n">i</span><span class="p">))</span><span class="o">==</span><span class="mi">8</span><span class="p">])</span>
<span class="n">for</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">16</span><span class="p">)</span><span class="err">:</span>
<span class="w">    </span><span class="n">print</span><span class="p">(</span><span class="n">i</span><span class="p">,</span><span class="n">f</span><span class="p">(</span><span class="mi">100</span><span class="o">*</span><span class="mi">2</span><span class="o">^</span><span class="n">i</span><span class="p">))</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-mathematica notranslate"><div class="highlight"><pre><span></span><span class="n">st</span><span class="o">=</span><span class="n">set</span><span class="p">()</span>
<span class="n">for</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">20000</span><span class="p">)</span><span class="err">:</span>
<span class="w">    </span><span class="n">for</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">1000</span><span class="p">)</span><span class="err">:</span>
<span class="w">        </span><span class="n">if</span><span class="w"> </span><span class="n">i</span><span class="o">^</span><span class="mi">2</span><span class="o">*</span><span class="n">j</span><span class="o">^</span><span class="mi">3</span><span class="o">&lt;=</span><span class="mi">100</span><span class="o">*</span><span class="mi">3</span><span class="o">^</span><span class="mi">14</span><span class="err">:</span>
<span class="w">            </span><span class="n">st</span><span class="err">.</span><span class="n">add</span><span class="p">(</span><span class="n">i</span><span class="o">^</span><span class="mi">2</span><span class="o">*</span><span class="n">j</span><span class="o">^</span><span class="mi">3</span><span class="p">)</span>
<span class="n">len</span><span class="p">(</span><span class="n">st</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-mathematica notranslate"><div class="highlight"><pre><span></span><span class="n">def</span><span class="w"> </span><span class="n">g</span><span class="p">(</span><span class="n">n</span><span class="p">)</span><span class="err">:</span>
<span class="w">    </span><span class="n">return</span><span class="w"> </span><span class="n">sum</span><span class="p">([</span><span class="n">gcd</span><span class="p">(</span><span class="n">i</span><span class="p">,</span><span class="n">j</span><span class="p">)</span><span class="w"> </span><span class="n">for</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="n">n</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span><span class="w"> </span><span class="n">for</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">)])</span>
<span class="n">for</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">11</span><span class="p">)</span><span class="err">:</span>
<span class="w">    </span><span class="n">print</span><span class="p">(</span><span class="n">i</span><span class="p">,</span><span class="n">g</span><span class="p">(</span><span class="mi">2</span><span class="o">^</span><span class="n">i</span><span class="p">))</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-mathematica notranslate"><div class="highlight"><pre><span></span><span class="n">def</span><span class="w"> </span><span class="n">s</span><span class="p">(</span><span class="n">n</span><span class="p">)</span><span class="err">:</span>
<span class="w">    </span><span class="n">return</span><span class="w"> </span><span class="n">sum</span><span class="p">([</span><span class="n">list</span><span class="p">(</span><span class="n">factor</span><span class="p">(</span><span class="n">i</span><span class="p">))[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span><span class="w"> </span><span class="n">for</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="n">n</span><span class="o">+</span><span class="mi">1</span><span class="p">)])</span>
<span class="n">for</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">21</span><span class="p">)</span><span class="err">:</span>
<span class="w">    </span><span class="n">print</span><span class="p">(</span><span class="n">i</span><span class="p">,</span><span class="n">s</span><span class="p">(</span><span class="mi">2</span><span class="o">^</span><span class="n">i</span><span class="p">))</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-mathematica notranslate"><div class="highlight"><pre><span></span><span class="n">def</span><span class="w"> </span><span class="nv">square_root_smooth</span><span class="p">(</span><span class="n">num</span><span class="p">)</span><span class="err">:</span>
<span class="w">    </span><span class="n">return</span><span class="w"> </span><span class="n">bool</span><span class="p">(</span><span class="n">factor</span><span class="p">(</span><span class="n">num</span><span class="p">)[</span><span class="mi">-1</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span><span class="o">&lt;</span><span class="n">sqrt</span><span class="p">(</span><span class="n">num</span><span class="p">))</span>
<span class="n">def</span><span class="w"> </span><span class="nv">count_sq</span><span class="p">(</span><span class="n">num</span><span class="p">)</span><span class="err">:</span>
<span class="w">    </span><span class="n">return</span><span class="w"> </span><span class="n">len</span><span class="p">([</span><span class="mi">0</span><span class="w"> </span><span class="n">for</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span><span class="n">num</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span><span class="w"> </span><span class="n">if</span><span class="w"> </span><span class="nv">square_root_smooth</span><span class="p">(</span><span class="n">i</span><span class="p">)])</span><span class="o">+</span><span class="mi">1</span>
<span class="n">for</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">11</span><span class="p">)</span><span class="err">:</span>
<span class="w">    </span><span class="n">print</span><span class="p">(</span><span class="n">i</span><span class="p">,</span><span class="nv">count_sq</span><span class="p">(</span><span class="mi">5</span><span class="o">*</span><span class="mi">2</span><span class="o">^</span><span class="n">i</span><span class="p">))</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-mathematica notranslate"><div class="highlight"><pre><span></span><span class="n">def</span><span class="w"> </span><span class="n">f</span><span class="p">(</span><span class="n">n</span><span class="p">)</span><span class="err">:</span>
<span class="w">    </span><span class="n">return</span><span class="w"> </span><span class="n">sum</span><span class="p">([</span><span class="n">factor</span><span class="p">(</span><span class="n">i</span><span class="p">)[</span><span class="mi">-1</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span><span class="w"> </span><span class="n">for</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="n">n</span><span class="o">+</span><span class="mi">1</span><span class="p">)])</span>
<span class="n">for</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">21</span><span class="p">)</span><span class="err">:</span>
<span class="w">    </span><span class="n">print</span><span class="p">(</span><span class="n">str</span><span class="p">(</span><span class="n">i</span><span class="p">)</span><span class="o">+</span><span class="err">&#39;:&#39;</span><span class="o">+</span><span class="n">str</span><span class="p">(</span><span class="n">f</span><span class="p">(</span><span class="mi">2</span><span class="o">^</span><span class="n">i</span><span class="p">))</span><span class="o">+</span><span class="err">&#39;</span><span class="p">,</span><span class="err">&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-mathematica notranslate"><div class="highlight"><pre><span></span><span class="n">def</span><span class="w"> </span><span class="n">f</span><span class="p">(</span><span class="n">n</span><span class="p">)</span><span class="err">:</span>
<span class="w">    </span><span class="n">return</span><span class="w"> </span><span class="mi">2</span><span class="o">^</span><span class="n">sum</span><span class="p">([</span><span class="n">lst</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="w"> </span><span class="n">for</span><span class="w"> </span><span class="n">lst</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">factor</span><span class="p">(</span><span class="n">n</span><span class="p">)])</span>
<span class="n">def</span><span class="w"> </span><span class="n">s</span><span class="p">(</span><span class="n">n</span><span class="p">)</span><span class="err">:</span>
<span class="w">    </span><span class="n">return</span><span class="w"> </span><span class="n">sum</span><span class="p">([</span><span class="n">f</span><span class="p">(</span><span class="n">i</span><span class="p">)</span><span class="w"> </span><span class="n">for</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="n">n</span><span class="o">+</span><span class="mi">1</span><span class="p">)])</span>
<span class="n">for</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">21</span><span class="p">)</span><span class="err">:</span>
<span class="w">    </span><span class="n">print</span><span class="p">(</span><span class="n">str</span><span class="p">(</span><span class="n">i</span><span class="p">)</span><span class="o">+</span><span class="err">&#39;:&#39;</span><span class="o">+</span><span class="n">str</span><span class="p">(</span><span class="n">s</span><span class="p">(</span><span class="mi">2</span><span class="o">^</span><span class="n">i</span><span class="p">))</span><span class="o">+</span><span class="err">&#39;</span><span class="p">,</span><span class="err">&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-mathematica notranslate"><div class="highlight"><pre><span></span><span class="n">total</span><span class="o">=</span><span class="mi">0</span>
<span class="n">for</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">100001</span><span class="p">)</span><span class="err">:</span>
<span class="w">    </span><span class="n">if</span><span class="w"> </span><span class="n">fibonacci</span><span class="p">(</span><span class="n">i</span><span class="p">)</span><span class="o">&lt;</span><span class="mi">10</span><span class="o">^</span><span class="p">(</span><span class="mi">9</span><span class="o">*</span><span class="mi">2</span><span class="o">^</span><span class="mi">11</span><span class="p">)</span><span class="err">:</span>
<span class="w">        </span><span class="n">if</span><span class="w"> </span><span class="n">fibonacci</span><span class="p">(</span><span class="n">i</span><span class="p">)</span><span class="err">%</span><span class="mi">2</span><span class="o">==</span><span class="mi">0</span><span class="err">:</span><span class="w"> </span><span class="n">total</span><span class="o">+=</span><span class="n">fibonacci</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
<span class="w">        </span><span class="n">total</span><span class="err">%</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="o">^</span><span class="mi">9</span><span class="o">+</span><span class="mi">7</span><span class="p">)</span>
<span class="w">        </span><span class="n">continue</span>
<span class="w">    </span><span class="n">break</span>
<span class="n">total</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-mathematica notranslate"><div class="highlight"><pre><span></span><span class="n">def</span><span class="w"> </span><span class="n">sigma2</span><span class="p">(</span><span class="n">n</span><span class="p">)</span><span class="err">:</span>
<span class="w">    </span><span class="n">return</span><span class="w"> </span><span class="n">sum</span><span class="p">([</span><span class="n">sigma</span><span class="p">(</span><span class="n">i</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span><span class="w"> </span><span class="n">for</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="n">n</span><span class="o">+</span><span class="mi">1</span><span class="p">)])</span>
<span class="n">for</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">16</span><span class="p">)</span><span class="err">:</span>
<span class="w">    </span><span class="n">print</span><span class="p">(</span><span class="n">str</span><span class="p">(</span><span class="n">i</span><span class="p">)</span><span class="o">+</span><span class="err">&#39;:&#39;</span><span class="o">+</span><span class="n">str</span><span class="p">(</span><span class="n">sigma2</span><span class="p">(</span><span class="mi">2</span><span class="o">^</span><span class="n">i</span><span class="p">))</span><span class="o">+</span><span class="err">&#39;</span><span class="p">,</span><span class="err">&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "wolframlanguage14.3"
        },
        kernelOptions: {
            name: "wolframlanguage14.3",
            path: "./."
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'wolframlanguage14.3'</script>

                </article>
              

              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="past/Course_MIT6002thinking.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">MIT_CS6002-CS</p>
      </div>
    </a>
    <a class="right-next"
       href="past/Course_MCM_QM.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Quantum Mechanics</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#">Project Euler Q1-50</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-1">PE 1</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-2">PE 2</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-3">PE 3</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-4">PE 4</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-5">PE 5</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-6">PE 6</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-7">PE 7</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-8">PE 8</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-9">PE 9</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-10">PE 10</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-11">PE 11</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-12">PE 12</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-13">PE 13</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-14">PE 14</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-15">PE 15</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-16">PE 16</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-17">PE 17</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-18">PE 18</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-19">PE 19</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-20">PE 20</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-21">PE 21</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-22">PE 22</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-23">PE 23</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-24">PE 24</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-25">PE 25</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-26">PE 26</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-27">PE 27</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-28">PE 28</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-29">PE 29</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-30">PE 30</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-31">PE 31</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-32">PE 32</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-33">PE 33</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-34">PE 34</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-35">PE 35</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-36">PE 36</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-37">PE 37</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-38">PE 38</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-39">PE 39</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-40">PE 40</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-41">PE 41</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-42">PE 42</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-43">PE 43</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-44">PE 44</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-45">PE 45</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-46">PE 46</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-47">PE 47</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-48">PE 48</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-49">PE 49</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-50">PE 50</a></li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#project-euler-51-100">Project Euler 51-100</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-51">PE 51</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-52">PE 52</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-53">PE 53</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-54">PE 54</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-55">PE 55</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-56">PE 56</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-57">PE 57</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-58">PE 58</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-59">PE 59</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-61">PE 61</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-62">PE 62</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-63">PE 63</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-64">PE 64</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-65">PE 65</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-66">PE 66</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-69">PE 69</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-70">PE 70</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-71">PE 71</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-72">PE 72</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-73">PE 73</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-74">PE 74</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-75">PE 75</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-76">PE 76</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-77">PE 77</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-78">PE 78</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-79">PE 79</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-80">PE 80</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-82">PE 82</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-83">PE 83</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-84">PE 84</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-85">PE 85</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-86">PE 86</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-87">PE 87</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-88-unfinished">PE 88(unfinished)</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-89">PE 89</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-90">PE 90</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-91">PE 91</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-92">PE 92</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-93">PE 93</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-94">PE 94</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-95">PE 95</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-96">PE 96</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-98">PE 98</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-99">PE 99</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-100">PE 100</a></li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#project-leonhard">Project Leonhard</a></li>
</ul>

  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By Jonny, assisted by Tom
</p>

  </div>
  
  <div class="footer-item">
    

  <p class="copyright">
    
       Copyright 2023.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b"></script>
<script src="_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>